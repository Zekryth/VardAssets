function Um(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _c={exports:{}},js={},Rc={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=Symbol.for("react.element"),Wm=Symbol.for("react.portal"),Vm=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),Ym=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),qm=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),Gm=Symbol.for("react.memo"),Zm=Symbol.for("react.lazy"),Di=Symbol.iterator;function ep(e){return e===null||typeof e!="object"?null:(e=Di&&e[Di]||e["@@iterator"],typeof e=="function"?e:null)}var Tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zc=Object.assign,Lc={};function en(e,t,r){this.props=e,this.context=t,this.refs=Lc,this.updater=r||Tc}en.prototype.isReactComponent={};en.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};en.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Oc(){}Oc.prototype=en.prototype;function Tl(e,t,r){this.props=e,this.context=t,this.refs=Lc,this.updater=r||Tc}var zl=Tl.prototype=new Oc;zl.constructor=Tl;zc(zl,en.prototype);zl.isPureReactComponent=!0;var Ii=Array.isArray,Mc=Object.prototype.hasOwnProperty,Ll={current:null},Ac={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,r){var n,a={},s=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)Mc.call(t,n)&&!Ac.hasOwnProperty(n)&&(a[n]=t[n]);var i=arguments.length-2;if(i===1)a.children=r;else if(1<i){for(var u=Array(i),c=0;c<i;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)a[n]===void 0&&(a[n]=i[n]);return{$$typeof:Zn,type:e,key:s,ref:l,props:a,_owner:Ll.current}}function tp(e,t){return{$$typeof:Zn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ol(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zn}function rp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bi=/\/+/g;function Ks(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rp(""+e.key):t.toString(36)}function _a(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Zn:case Wm:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+Ks(l,0):n,Ii(a)?(r="",e!=null&&(r=e.replace(Bi,"$&/")+"/"),_a(a,t,r,"",function(c){return c})):a!=null&&(Ol(a)&&(a=tp(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Bi,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",Ii(e))for(var i=0;i<e.length;i++){s=e[i];var u=n+Ks(s,i);l+=_a(s,t,r,u,a)}else if(u=ep(e),typeof u=="function")for(e=u.call(e),i=0;!(s=e.next()).done;)s=s.value,u=n+Ks(s,i++),l+=_a(s,t,r,u,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ca(e,t,r){if(e==null)return e;var n=[],a=0;return _a(e,n,"","",function(s){return t.call(r,s,a++)}),n}function np(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},Ra={transition:null},ap={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Ra,ReactCurrentOwner:Ll};function Dc(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:ca,forEach:function(e,t,r){ca(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ca(e,function(){t++}),t},toArray:function(e){return ca(e,function(t){return t})||[]},only:function(e){if(!Ol(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=en;Z.Fragment=Vm;Z.Profiler=Ym;Z.PureComponent=Tl;Z.StrictMode=Xm;Z.Suspense=Jm;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ap;Z.act=Dc;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zc({},e.props),a=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Ll.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(u in t)Mc.call(t,u)&&!Ac.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&i!==void 0?i[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){i=Array(u);for(var c=0;c<u;c++)i[c]=arguments[c+2];n.children=i}return{$$typeof:Zn,type:e.type,key:a,ref:s,props:n,_owner:l}};Z.createContext=function(e){return e={$$typeof:qm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qm,_context:e},e.Consumer=e};Z.createElement=Fc;Z.createFactory=function(e){var t=Fc.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:Km,render:e}};Z.isValidElement=Ol;Z.lazy=function(e){return{$$typeof:Zm,_payload:{_status:-1,_result:e},_init:np}};Z.memo=function(e,t){return{$$typeof:Gm,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=Ra.transition;Ra.transition={};try{e()}finally{Ra.transition=t}};Z.unstable_act=Dc;Z.useCallback=function(e,t){return Be.current.useCallback(e,t)};Z.useContext=function(e){return Be.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};Z.useEffect=function(e,t){return Be.current.useEffect(e,t)};Z.useId=function(){return Be.current.useId()};Z.useImperativeHandle=function(e,t,r){return Be.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return Be.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return Be.current.useReducer(e,t,r)};Z.useRef=function(e){return Be.current.useRef(e)};Z.useState=function(e){return Be.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return Be.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return Be.current.useTransition()};Z.version="18.3.1";Rc.exports=Z;var y=Rc.exports;const Ml=Hm(y),sp=Um({__proto__:null,default:Ml},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op=y,lp=Symbol.for("react.element"),ip=Symbol.for("react.fragment"),up=Object.prototype.hasOwnProperty,cp=op.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dp={key:!0,ref:!0,__self:!0,__source:!0};function Ic(e,t,r){var n,a={},s=null,l=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)up.call(t,n)&&!dp.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:lp,type:e,key:s,ref:l,props:a,_owner:cp.current}}js.Fragment=ip;js.jsx=Ic;js.jsxs=Ic;_c.exports=js;var o=_c.exports,_o={},Bc={exports:{}},Ze={},$c={exports:{}},Uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,T){var E=j.length;j.push(T);e:for(;0<E;){var F=E-1>>>1,w=j[F];if(0<a(w,T))j[F]=T,j[E]=w,E=F;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var T=j[0],E=j.pop();if(E!==T){j[0]=E;e:for(var F=0,w=j.length,S=w>>>1;F<S;){var M=2*(F+1)-1,X=j[M],H=M+1,q=j[H];if(0>a(X,E))H<w&&0>a(q,X)?(j[F]=q,j[H]=E,F=H):(j[F]=X,j[M]=E,F=M);else if(H<w&&0>a(q,E))j[F]=q,j[H]=E,F=H;else break e}}return T}function a(j,T){var E=j.sortIndex-T.sortIndex;return E!==0?E:j.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,i=l.now();e.unstable_now=function(){return l.now()-i}}var u=[],c=[],d=1,m=null,p=3,C=!1,g=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(j){for(var T=r(c);T!==null;){if(T.callback===null)n(c);else if(T.startTime<=j)n(c),T.sortIndex=T.expirationTime,t(u,T);else break;T=r(c)}}function N(j){if(b=!1,x(j),!g)if(r(u)!==null)g=!0,_(k);else{var T=r(c);T!==null&&W(N,T.startTime-j)}}function k(j,T){g=!1,b&&(b=!1,h(L),L=-1),C=!0;var E=p;try{for(x(T),m=r(u);m!==null&&(!(m.expirationTime>T)||j&&!$());){var F=m.callback;if(typeof F=="function"){m.callback=null,p=m.priorityLevel;var w=F(m.expirationTime<=T);T=e.unstable_now(),typeof w=="function"?m.callback=w:m===r(u)&&n(u),x(T)}else n(u);m=r(u)}if(m!==null)var S=!0;else{var M=r(c);M!==null&&W(N,M.startTime-T),S=!1}return S}finally{m=null,p=E,C=!1}}var R=!1,z=null,L=-1,U=5,B=-1;function $(){return!(e.unstable_now()-B<U)}function A(){if(z!==null){var j=e.unstable_now();B=j;var T=!0;try{T=z(!0,j)}finally{T?Q():(R=!1,z=null)}}else R=!1}var Q;if(typeof f=="function")Q=function(){f(A)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,D=K.port2;K.port1.onmessage=A,Q=function(){D.postMessage(null)}}else Q=function(){v(A,0)};function _(j){z=j,R||(R=!0,Q())}function W(j,T){L=v(function(){j(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){g||C||(g=!0,_(k))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var T=3;break;default:T=p}var E=p;p=T;try{return j()}finally{p=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var E=p;p=j;try{return T()}finally{p=E}},e.unstable_scheduleCallback=function(j,T,E){var F=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?F+E:F):E=F,j){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=E+w,j={id:d++,callback:T,priorityLevel:j,startTime:E,expirationTime:w,sortIndex:-1},E>F?(j.sortIndex=E,t(c,j),r(u)===null&&j===r(c)&&(b?(h(L),L=-1):b=!0,W(N,E-F))):(j.sortIndex=w,t(u,j),g||C||(g=!0,_(k))),j},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(j){var T=p;return function(){var E=p;p=T;try{return j.apply(this,arguments)}finally{p=E}}}})(Uc);$c.exports=Uc;var fp=$c.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=y,Ge=fp;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hc=new Set,zn={};function jr(e,t){Xr(e,t),Xr(e+"Capture",t)}function Xr(e,t){for(zn[e]=t,e=0;e<t.length;e++)Hc.add(t[e])}var Tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ro=Object.prototype.hasOwnProperty,pp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$i={},Ui={};function hp(e){return Ro.call(Ui,e)?!0:Ro.call($i,e)?!1:pp.test(e)?Ui[e]=!0:($i[e]=!0,!1)}function gp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yp(e,t,r,n){if(t===null||typeof t>"u"||gp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $e(e,t,r,n,a,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new $e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new $e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new $e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new $e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new $e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new $e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new $e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new $e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new $e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Al=/[\-:]([a-z])/g;function Fl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Al,Fl);Re[t]=new $e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Al,Fl);Re[t]=new $e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Al,Fl);Re[t]=new $e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new $e(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new $e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dl(e,t,r,n){var a=Re.hasOwnProperty(t)?Re[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yp(t,r,a,n)&&(r=null),n||a===null?hp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var At=mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,da=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),_r=Symbol.for("react.fragment"),Il=Symbol.for("react.strict_mode"),To=Symbol.for("react.profiler"),Wc=Symbol.for("react.provider"),Vc=Symbol.for("react.context"),Bl=Symbol.for("react.forward_ref"),zo=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),$l=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Xc=Symbol.for("react.offscreen"),Hi=Symbol.iterator;function ln(e){return e===null||typeof e!="object"?null:(e=Hi&&e[Hi]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Js;function xn(e){if(Js===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Js=t&&t[1]||""}return`
`+Js+e}var Gs=!1;function Zs(e,t){if(!e||Gs)return"";Gs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),s=n.stack.split(`
`),l=a.length-1,i=s.length-1;1<=l&&0<=i&&a[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==s[i]){if(l!==1||i!==1)do if(l--,i--,0>i||a[l]!==s[i]){var u=`
`+a[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=i);break}}}finally{Gs=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xn(e):""}function xp(e){switch(e.tag){case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return xn("Suspense");case 19:return xn("SuspenseList");case 0:case 2:case 15:return e=Zs(e.type,!1),e;case 11:return e=Zs(e.type.render,!1),e;case 1:return e=Zs(e.type,!0),e;default:return""}}function Oo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _r:return"Fragment";case Pr:return"Portal";case To:return"Profiler";case Il:return"StrictMode";case zo:return"Suspense";case Lo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vc:return(e.displayName||"Context")+".Consumer";case Wc:return(e._context.displayName||"Context")+".Provider";case Bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $l:return t=e.displayName||null,t!==null?t:Oo(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return Oo(e(t))}catch{}}return null}function vp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oo(t);case 8:return t===Il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kp(e){var t=Yc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fa(e){e._valueTracker||(e._valueTracker=kp(e))}function Qc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mo(e,t){var r=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Wi(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Zt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qc(e,t){t=t.checked,t!=null&&Dl(e,"checked",t,!1)}function Ao(e,t){qc(e,t);var r=Zt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fo(e,t.type,Zt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vi(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fo(e,t,r){(t!=="number"||qa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vn=Array.isArray;function Br(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Zt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Do(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xi(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(vn(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Zt(r)}}function Kc(e,t){var r=Zt(t.value),n=Zt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Yi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ma,Gc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ma=ma||document.createElement("div"),ma.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ma.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ln(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bp=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){bp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wn[t]=wn[e]})});function Zc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||wn.hasOwnProperty(e)&&wn[e]?(""+t).trim():t+"px"}function ed(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Zc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var wp=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bo(e,t){if(t){if(wp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function $o(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function Ul(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ho=null,$r=null,Ur=null;function Qi(e){if(e=ra(e)){if(typeof Ho!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Ps(t),Ho(e.stateNode,e.type,t))}}function td(e){$r?Ur?Ur.push(e):Ur=[e]:$r=e}function rd(){if($r){var e=$r,t=Ur;if(Ur=$r=null,Qi(e),t)for(e=0;e<t.length;e++)Qi(t[e])}}function nd(e,t){return e(t)}function ad(){}var eo=!1;function sd(e,t,r){if(eo)return e(t,r);eo=!0;try{return nd(e,t,r)}finally{eo=!1,($r!==null||Ur!==null)&&(ad(),rd())}}function On(e,t){var r=e.stateNode;if(r===null)return null;var n=Ps(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Wo=!1;if(Tt)try{var un={};Object.defineProperty(un,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",un,un),window.removeEventListener("test",un,un)}catch{Wo=!1}function jp(e,t,r,n,a,s,l,i,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var jn=!1,Ka=null,Ja=!1,Vo=null,Np={onError:function(e){jn=!0,Ka=e}};function Sp(e,t,r,n,a,s,l,i,u){jn=!1,Ka=null,jp.apply(Np,arguments)}function Cp(e,t,r,n,a,s,l,i,u){if(Sp.apply(this,arguments),jn){if(jn){var c=Ka;jn=!1,Ka=null}else throw Error(I(198));Ja||(Ja=!0,Vo=c)}}function Nr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qi(e){if(Nr(e)!==e)throw Error(I(188))}function Ep(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return qi(a),e;if(s===n)return qi(a),t;s=s.sibling}throw Error(I(188))}if(r.return!==n.return)r=a,n=s;else{for(var l=!1,i=a.child;i;){if(i===r){l=!0,r=a,n=s;break}if(i===n){l=!0,n=a,r=s;break}i=i.sibling}if(!l){for(i=s.child;i;){if(i===r){l=!0,r=s,n=a;break}if(i===n){l=!0,n=s,r=a;break}i=i.sibling}if(!l)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function ld(e){return e=Ep(e),e!==null?id(e):null}function id(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=id(e);if(t!==null)return t;e=e.sibling}return null}var ud=Ge.unstable_scheduleCallback,Ki=Ge.unstable_cancelCallback,Pp=Ge.unstable_shouldYield,_p=Ge.unstable_requestPaint,ke=Ge.unstable_now,Rp=Ge.unstable_getCurrentPriorityLevel,Hl=Ge.unstable_ImmediatePriority,cd=Ge.unstable_UserBlockingPriority,Ga=Ge.unstable_NormalPriority,Tp=Ge.unstable_LowPriority,dd=Ge.unstable_IdlePriority,Ns=null,Nt=null;function zp(e){if(Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ns,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Mp,Lp=Math.log,Op=Math.LN2;function Mp(e){return e>>>=0,e===0?32:31-(Lp(e)/Op|0)|0}var pa=64,ha=4194304;function kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Za(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,l=r&268435455;if(l!==0){var i=l&~a;i!==0?n=kn(i):(s&=l,s!==0&&(n=kn(s)))}else l=r&~a,l!==0?n=kn(l):s!==0&&(n=kn(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),a=1<<r,n|=e[r],t&=~a;return n}function Ap(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-mt(s),i=1<<l,u=a[l];u===-1?(!(i&r)||i&n)&&(a[l]=Ap(i,t)):u<=t&&(e.expiredLanes|=i),s&=~i}}function Xo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fd(){var e=pa;return pa<<=1,!(pa&4194240)&&(pa=64),e}function to(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ea(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function Dp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-mt(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Wl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ne=0;function md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pd,Vl,hd,gd,yd,Yo=!1,ga=[],Vt=null,Xt=null,Yt=null,Mn=new Map,An=new Map,Bt=[],Ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ji(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(t.pointerId)}}function cn(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=ra(t),t!==null&&Vl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Bp(e,t,r,n,a){switch(t){case"focusin":return Vt=cn(Vt,e,t,r,n,a),!0;case"dragenter":return Xt=cn(Xt,e,t,r,n,a),!0;case"mouseover":return Yt=cn(Yt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Mn.set(s,cn(Mn.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,An.set(s,cn(An.get(s)||null,e,t,r,n,a)),!0}return!1}function xd(e){var t=ur(e.target);if(t!==null){var r=Nr(t);if(r!==null){if(t=r.tag,t===13){if(t=od(r),t!==null){e.blockedOn=t,yd(e.priority,function(){hd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ta(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Uo=n,r.target.dispatchEvent(n),Uo=null}else return t=ra(r),t!==null&&Vl(t),e.blockedOn=r,!1;t.shift()}return!0}function Gi(e,t,r){Ta(e)&&r.delete(t)}function $p(){Yo=!1,Vt!==null&&Ta(Vt)&&(Vt=null),Xt!==null&&Ta(Xt)&&(Xt=null),Yt!==null&&Ta(Yt)&&(Yt=null),Mn.forEach(Gi),An.forEach(Gi)}function dn(e,t){e.blockedOn===t&&(e.blockedOn=null,Yo||(Yo=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,$p)))}function Fn(e){function t(a){return dn(a,e)}if(0<ga.length){dn(ga[0],e);for(var r=1;r<ga.length;r++){var n=ga[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Vt!==null&&dn(Vt,e),Xt!==null&&dn(Xt,e),Yt!==null&&dn(Yt,e),Mn.forEach(t),An.forEach(t),r=0;r<Bt.length;r++)n=Bt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)xd(r),r.blockedOn===null&&Bt.shift()}var Hr=At.ReactCurrentBatchConfig,es=!0;function Up(e,t,r,n){var a=ne,s=Hr.transition;Hr.transition=null;try{ne=1,Xl(e,t,r,n)}finally{ne=a,Hr.transition=s}}function Hp(e,t,r,n){var a=ne,s=Hr.transition;Hr.transition=null;try{ne=4,Xl(e,t,r,n)}finally{ne=a,Hr.transition=s}}function Xl(e,t,r,n){if(es){var a=Qo(e,t,r,n);if(a===null)fo(e,t,n,ts,r),Ji(e,n);else if(Bp(a,e,t,r,n))n.stopPropagation();else if(Ji(e,n),t&4&&-1<Ip.indexOf(e)){for(;a!==null;){var s=ra(a);if(s!==null&&pd(s),s=Qo(e,t,r,n),s===null&&fo(e,t,n,ts,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else fo(e,t,n,null,r)}}var ts=null;function Qo(e,t,r,n){if(ts=null,e=Ul(n),e=ur(e),e!==null)if(t=Nr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=od(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ts=e,null}function vd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rp()){case Hl:return 1;case cd:return 4;case Ga:case Tp:return 16;case dd:return 536870912;default:return 16}default:return 16}}var Ut=null,Yl=null,za=null;function kd(){if(za)return za;var e,t=Yl,r=t.length,n,a="value"in Ut?Ut.value:Ut.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[s-n];n++);return za=a.slice(e,1<n?1-n:void 0)}function La(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ya(){return!0}function Zi(){return!1}function et(e){function t(r,n,a,s,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(s):s[i]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ya:Zi,this.isPropagationStopped=Zi,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=et(tn),ta=pe({},tn,{view:0,detail:0}),Wp=et(ta),ro,no,fn,Ss=pe({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&e.type==="mousemove"?(ro=e.screenX-fn.screenX,no=e.screenY-fn.screenY):no=ro=0,fn=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:no}}),eu=et(Ss),Vp=pe({},Ss,{dataTransfer:0}),Xp=et(Vp),Yp=pe({},ta,{relatedTarget:0}),ao=et(Yp),Qp=pe({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=et(Qp),Kp=pe({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jp=et(Kp),Gp=pe({},tn,{data:0}),tu=et(Gp),Zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=t0[e])?!!t[e]:!1}function ql(){return r0}var n0=pe({},ta,{key:function(e){if(e.key){var t=Zp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=La(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?La(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?La(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),a0=et(n0),s0=pe({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=et(s0),o0=pe({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),l0=et(o0),i0=pe({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),u0=et(i0),c0=pe({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),d0=et(c0),f0=[9,13,27,32],Kl=Tt&&"CompositionEvent"in window,Nn=null;Tt&&"documentMode"in document&&(Nn=document.documentMode);var m0=Tt&&"TextEvent"in window&&!Nn,bd=Tt&&(!Kl||Nn&&8<Nn&&11>=Nn),nu=String.fromCharCode(32),au=!1;function wd(e,t){switch(e){case"keyup":return f0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function p0(e,t){switch(e){case"compositionend":return jd(t);case"keypress":return t.which!==32?null:(au=!0,nu);case"textInput":return e=t.data,e===nu&&au?null:e;default:return null}}function h0(e,t){if(Rr)return e==="compositionend"||!Kl&&wd(e,t)?(e=kd(),za=Yl=Ut=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bd&&t.locale!=="ko"?null:t.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function su(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g0[e.type]:t==="textarea"}function Nd(e,t,r,n){td(n),t=rs(t,"onChange"),0<t.length&&(r=new Ql("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sn=null,Dn=null;function y0(e){Md(e,0)}function Cs(e){var t=Lr(e);if(Qc(t))return e}function x0(e,t){if(e==="change")return t}var Sd=!1;if(Tt){var so;if(Tt){var oo="oninput"in document;if(!oo){var ou=document.createElement("div");ou.setAttribute("oninput","return;"),oo=typeof ou.oninput=="function"}so=oo}else so=!1;Sd=so&&(!document.documentMode||9<document.documentMode)}function lu(){Sn&&(Sn.detachEvent("onpropertychange",Cd),Dn=Sn=null)}function Cd(e){if(e.propertyName==="value"&&Cs(Dn)){var t=[];Nd(t,Dn,e,Ul(e)),sd(y0,t)}}function v0(e,t,r){e==="focusin"?(lu(),Sn=t,Dn=r,Sn.attachEvent("onpropertychange",Cd)):e==="focusout"&&lu()}function k0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cs(Dn)}function b0(e,t){if(e==="click")return Cs(t)}function w0(e,t){if(e==="input"||e==="change")return Cs(t)}function j0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gt=typeof Object.is=="function"?Object.is:j0;function In(e,t){if(gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Ro.call(t,a)||!gt(e[a],t[a]))return!1}return!0}function iu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uu(e,t){var r=iu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iu(r)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pd(){for(var e=window,t=qa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=qa(e.document)}return t}function Jl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function N0(e){var t=Pd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ed(r.ownerDocument.documentElement,r)){if(n!==null&&Jl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=uu(r,s);var l=uu(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S0=Tt&&"documentMode"in document&&11>=document.documentMode,Tr=null,qo=null,Cn=null,Ko=!1;function cu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ko||Tr==null||Tr!==qa(n)||(n=Tr,"selectionStart"in n&&Jl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Cn&&In(Cn,n)||(Cn=n,n=rs(qo,"onSelect"),0<n.length&&(t=new Ql("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tr)))}function xa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zr={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},lo={},_d={};Tt&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Es(e){if(lo[e])return lo[e];if(!zr[e])return e;var t=zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in _d)return lo[e]=t[r];return e}var Rd=Es("animationend"),Td=Es("animationiteration"),zd=Es("animationstart"),Ld=Es("transitionend"),Od=new Map,du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){Od.set(e,t),jr(t,[e])}for(var io=0;io<du.length;io++){var uo=du[io],C0=uo.toLowerCase(),E0=uo[0].toUpperCase()+uo.slice(1);rr(C0,"on"+E0)}rr(Rd,"onAnimationEnd");rr(Td,"onAnimationIteration");rr(zd,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(Ld,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P0=new Set("cancel close invalid load scroll toggle".split(" ").concat(bn));function fu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Cp(n,t,void 0,e),e.currentTarget=null}function Md(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],u=i.instance,c=i.currentTarget;if(i=i.listener,u!==s&&a.isPropagationStopped())break e;fu(a,i,c),s=u}else for(l=0;l<n.length;l++){if(i=n[l],u=i.instance,c=i.currentTarget,i=i.listener,u!==s&&a.isPropagationStopped())break e;fu(a,i,c),s=u}}}if(Ja)throw e=Vo,Ja=!1,Vo=null,e}function le(e,t){var r=t[tl];r===void 0&&(r=t[tl]=new Set);var n=e+"__bubble";r.has(n)||(Ad(t,e,2,!1),r.add(n))}function co(e,t,r){var n=0;t&&(n|=4),Ad(r,e,n,t)}var va="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[va]){e[va]=!0,Hc.forEach(function(r){r!=="selectionchange"&&(P0.has(r)||co(r,!1,e),co(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[va]||(t[va]=!0,co("selectionchange",!1,t))}}function Ad(e,t,r,n){switch(vd(t)){case 1:var a=Up;break;case 4:a=Hp;break;default:a=Xl}r=a.bind(null,t,r,e),a=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function fo(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var i=n.stateNode.containerInfo;if(i===a||i.nodeType===8&&i.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===a||u.nodeType===8&&u.parentNode===a))return;l=l.return}for(;i!==null;){if(l=ur(i),l===null)return;if(u=l.tag,u===5||u===6){n=s=l;continue e}i=i.parentNode}}n=n.return}sd(function(){var c=s,d=Ul(r),m=[];e:{var p=Od.get(e);if(p!==void 0){var C=Ql,g=e;switch(e){case"keypress":if(La(r)===0)break e;case"keydown":case"keyup":C=a0;break;case"focusin":g="focus",C=ao;break;case"focusout":g="blur",C=ao;break;case"beforeblur":case"afterblur":C=ao;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=l0;break;case Rd:case Td:case zd:C=qp;break;case Ld:C=u0;break;case"scroll":C=Wp;break;case"wheel":C=d0;break;case"copy":case"cut":case"paste":C=Jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=ru}var b=(t&4)!==0,v=!b&&e==="scroll",h=b?p!==null?p+"Capture":null:p;b=[];for(var f=c,x;f!==null;){x=f;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,h!==null&&(N=On(f,h),N!=null&&b.push($n(f,N,x)))),v)break;f=f.return}0<b.length&&(p=new C(p,g,null,r,d),m.push({event:p,listeners:b}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",p&&r!==Uo&&(g=r.relatedTarget||r.fromElement)&&(ur(g)||g[zt]))break e;if((C||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,C?(g=r.relatedTarget||r.toElement,C=c,g=g?ur(g):null,g!==null&&(v=Nr(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(C=null,g=c),C!==g)){if(b=eu,N="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(b=ru,N="onPointerLeave",h="onPointerEnter",f="pointer"),v=C==null?p:Lr(C),x=g==null?p:Lr(g),p=new b(N,f+"leave",C,r,d),p.target=v,p.relatedTarget=x,N=null,ur(d)===c&&(b=new b(h,f+"enter",g,r,d),b.target=x,b.relatedTarget=v,N=b),v=N,C&&g)t:{for(b=C,h=g,f=0,x=b;x;x=Er(x))f++;for(x=0,N=h;N;N=Er(N))x++;for(;0<f-x;)b=Er(b),f--;for(;0<x-f;)h=Er(h),x--;for(;f--;){if(b===h||h!==null&&b===h.alternate)break t;b=Er(b),h=Er(h)}b=null}else b=null;C!==null&&mu(m,p,C,b,!1),g!==null&&v!==null&&mu(m,v,g,b,!0)}}e:{if(p=c?Lr(c):window,C=p.nodeName&&p.nodeName.toLowerCase(),C==="select"||C==="input"&&p.type==="file")var k=x0;else if(su(p))if(Sd)k=w0;else{k=k0;var R=v0}else(C=p.nodeName)&&C.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=b0);if(k&&(k=k(e,c))){Nd(m,k,r,d);break e}R&&R(e,p,c),e==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Fo(p,"number",p.value)}switch(R=c?Lr(c):window,e){case"focusin":(su(R)||R.contentEditable==="true")&&(Tr=R,qo=c,Cn=null);break;case"focusout":Cn=qo=Tr=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,cu(m,r,d);break;case"selectionchange":if(S0)break;case"keydown":case"keyup":cu(m,r,d)}var z;if(Kl)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Rr?wd(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(bd&&r.locale!=="ko"&&(Rr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Rr&&(z=kd()):(Ut=d,Yl="value"in Ut?Ut.value:Ut.textContent,Rr=!0)),R=rs(c,L),0<R.length&&(L=new tu(L,e,null,r,d),m.push({event:L,listeners:R}),z?L.data=z:(z=jd(r),z!==null&&(L.data=z)))),(z=m0?p0(e,r):h0(e,r))&&(c=rs(c,"onBeforeInput"),0<c.length&&(d=new tu("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:c}),d.data=z))}Md(m,t)})}function $n(e,t,r){return{instance:e,listener:t,currentTarget:r}}function rs(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=On(e,r),s!=null&&n.unshift($n(e,s,a)),s=On(e,t),s!=null&&n.push($n(e,s,a))),e=e.return}return n}function Er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mu(e,t,r,n,a){for(var s=t._reactName,l=[];r!==null&&r!==n;){var i=r,u=i.alternate,c=i.stateNode;if(u!==null&&u===n)break;i.tag===5&&c!==null&&(i=c,a?(u=On(r,s),u!=null&&l.unshift($n(r,u,i))):a||(u=On(r,s),u!=null&&l.push($n(r,u,i)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var _0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function pu(e){return(typeof e=="string"?e:""+e).replace(_0,`
`).replace(R0,"")}function ka(e,t,r){if(t=pu(t),pu(e)!==t&&r)throw Error(I(425))}function ns(){}var Jo=null,Go=null;function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var el=typeof setTimeout=="function"?setTimeout:void 0,T0=typeof clearTimeout=="function"?clearTimeout:void 0,hu=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof hu<"u"?function(e){return hu.resolve(null).then(e).catch(L0)}:el;function L0(e){setTimeout(function(){throw e})}function mo(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Fn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Fn(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rn=Math.random().toString(36).slice(2),jt="__reactFiber$"+rn,Un="__reactProps$"+rn,zt="__reactContainer$"+rn,tl="__reactEvents$"+rn,O0="__reactListeners$"+rn,M0="__reactHandles$"+rn;function ur(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[zt]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gu(e);e!==null;){if(r=e[jt])return r;e=gu(e)}return t}e=r,r=e.parentNode}return null}function ra(e){return e=e[jt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Ps(e){return e[Un]||null}var rl=[],Or=-1;function nr(e){return{current:e}}function ie(e){0>Or||(e.current=rl[Or],rl[Or]=null,Or--)}function oe(e,t){Or++,rl[Or]=e.current,e.current=t}var er={},Me=nr(er),Ve=nr(!1),gr=er;function Yr(e,t){var r=e.type.contextTypes;if(!r)return er;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Xe(e){return e=e.childContextTypes,e!=null}function as(){ie(Ve),ie(Me)}function yu(e,t,r){if(Me.current!==er)throw Error(I(168));oe(Me,t),oe(Ve,r)}function Fd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(I(108,vp(e)||"Unknown",a));return pe({},r,n)}function ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||er,gr=Me.current,oe(Me,e),oe(Ve,Ve.current),!0}function xu(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Fd(e,t,gr),n.__reactInternalMemoizedMergedChildContext=e,ie(Ve),ie(Me),oe(Me,e)):ie(Ve),oe(Ve,r)}var Et=null,_s=!1,po=!1;function Dd(e){Et===null?Et=[e]:Et.push(e)}function A0(e){_s=!0,Dd(e)}function ar(){if(!po&&Et!==null){po=!0;var e=0,t=ne;try{var r=Et;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Et=null,_s=!1}catch(a){throw Et!==null&&(Et=Et.slice(e+1)),ud(Hl,ar),a}finally{ne=t,po=!1}}return null}var Mr=[],Ar=0,os=null,ls=0,tt=[],rt=0,yr=null,Pt=1,_t="";function lr(e,t){Mr[Ar++]=ls,Mr[Ar++]=os,os=e,ls=t}function Id(e,t,r){tt[rt++]=Pt,tt[rt++]=_t,tt[rt++]=yr,yr=e;var n=Pt;e=_t;var a=32-mt(n)-1;n&=~(1<<a),r+=1;var s=32-mt(t)+a;if(30<s){var l=a-a%5;s=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Pt=1<<32-mt(t)+a|r<<a|n,_t=s+e}else Pt=1<<s|r<<a|n,_t=e}function Gl(e){e.return!==null&&(lr(e,1),Id(e,1,0))}function Zl(e){for(;e===os;)os=Mr[--Ar],Mr[Ar]=null,ls=Mr[--Ar],Mr[Ar]=null;for(;e===yr;)yr=tt[--rt],tt[rt]=null,_t=tt[--rt],tt[rt]=null,Pt=tt[--rt],tt[rt]=null}var Je=null,Ke=null,ce=!1,dt=null;function Bd(e,t){var r=nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ke=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=yr!==null?{id:Pt,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Je=e,Ke=null,!0):!1;default:return!1}}function nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function al(e){if(ce){var t=Ke;if(t){var r=t;if(!vu(e,t)){if(nl(e))throw Error(I(418));t=Qt(r.nextSibling);var n=Je;t&&vu(e,t)?Bd(n,r):(e.flags=e.flags&-4097|2,ce=!1,Je=e)}}else{if(nl(e))throw Error(I(418));e.flags=e.flags&-4097|2,ce=!1,Je=e}}}function ku(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function ba(e){if(e!==Je)return!1;if(!ce)return ku(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zo(e.type,e.memoizedProps)),t&&(t=Ke)){if(nl(e))throw $d(),Error(I(418));for(;t;)Bd(e,t),t=Qt(t.nextSibling)}if(ku(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Je?Qt(e.stateNode.nextSibling):null;return!0}function $d(){for(var e=Ke;e;)e=Qt(e.nextSibling)}function Qr(){Ke=Je=null,ce=!1}function ei(e){dt===null?dt=[e]:dt.push(e)}var F0=At.ReactCurrentBatchConfig;function mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var i=a.refs;l===null?delete i[s]:i[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function wa(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bu(e){var t=e._init;return t(e._payload)}function Ud(e){function t(h,f){if(e){var x=h.deletions;x===null?(h.deletions=[f],h.flags|=16):x.push(f)}}function r(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function n(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function a(h,f){return h=Gt(h,f),h.index=0,h.sibling=null,h}function s(h,f,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<f?(h.flags|=2,f):x):(h.flags|=2,f)):(h.flags|=1048576,f)}function l(h){return e&&h.alternate===null&&(h.flags|=2),h}function i(h,f,x,N){return f===null||f.tag!==6?(f=bo(x,h.mode,N),f.return=h,f):(f=a(f,x),f.return=h,f)}function u(h,f,x,N){var k=x.type;return k===_r?d(h,f,x.props.children,N,x.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&bu(k)===f.type)?(N=a(f,x.props),N.ref=mn(h,f,x),N.return=h,N):(N=Ba(x.type,x.key,x.props,null,h.mode,N),N.ref=mn(h,f,x),N.return=h,N)}function c(h,f,x,N){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=wo(x,h.mode,N),f.return=h,f):(f=a(f,x.children||[]),f.return=h,f)}function d(h,f,x,N,k){return f===null||f.tag!==7?(f=pr(x,h.mode,N,k),f.return=h,f):(f=a(f,x),f.return=h,f)}function m(h,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=bo(""+f,h.mode,x),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case da:return x=Ba(f.type,f.key,f.props,null,h.mode,x),x.ref=mn(h,null,f),x.return=h,x;case Pr:return f=wo(f,h.mode,x),f.return=h,f;case Dt:var N=f._init;return m(h,N(f._payload),x)}if(vn(f)||ln(f))return f=pr(f,h.mode,x,null),f.return=h,f;wa(h,f)}return null}function p(h,f,x,N){var k=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:i(h,f,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case da:return x.key===k?u(h,f,x,N):null;case Pr:return x.key===k?c(h,f,x,N):null;case Dt:return k=x._init,p(h,f,k(x._payload),N)}if(vn(x)||ln(x))return k!==null?null:d(h,f,x,N,null);wa(h,x)}return null}function C(h,f,x,N,k){if(typeof N=="string"&&N!==""||typeof N=="number")return h=h.get(x)||null,i(f,h,""+N,k);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case da:return h=h.get(N.key===null?x:N.key)||null,u(f,h,N,k);case Pr:return h=h.get(N.key===null?x:N.key)||null,c(f,h,N,k);case Dt:var R=N._init;return C(h,f,x,R(N._payload),k)}if(vn(N)||ln(N))return h=h.get(x)||null,d(f,h,N,k,null);wa(f,N)}return null}function g(h,f,x,N){for(var k=null,R=null,z=f,L=f=0,U=null;z!==null&&L<x.length;L++){z.index>L?(U=z,z=null):U=z.sibling;var B=p(h,z,x[L],N);if(B===null){z===null&&(z=U);break}e&&z&&B.alternate===null&&t(h,z),f=s(B,f,L),R===null?k=B:R.sibling=B,R=B,z=U}if(L===x.length)return r(h,z),ce&&lr(h,L),k;if(z===null){for(;L<x.length;L++)z=m(h,x[L],N),z!==null&&(f=s(z,f,L),R===null?k=z:R.sibling=z,R=z);return ce&&lr(h,L),k}for(z=n(h,z);L<x.length;L++)U=C(z,h,L,x[L],N),U!==null&&(e&&U.alternate!==null&&z.delete(U.key===null?L:U.key),f=s(U,f,L),R===null?k=U:R.sibling=U,R=U);return e&&z.forEach(function($){return t(h,$)}),ce&&lr(h,L),k}function b(h,f,x,N){var k=ln(x);if(typeof k!="function")throw Error(I(150));if(x=k.call(x),x==null)throw Error(I(151));for(var R=k=null,z=f,L=f=0,U=null,B=x.next();z!==null&&!B.done;L++,B=x.next()){z.index>L?(U=z,z=null):U=z.sibling;var $=p(h,z,B.value,N);if($===null){z===null&&(z=U);break}e&&z&&$.alternate===null&&t(h,z),f=s($,f,L),R===null?k=$:R.sibling=$,R=$,z=U}if(B.done)return r(h,z),ce&&lr(h,L),k;if(z===null){for(;!B.done;L++,B=x.next())B=m(h,B.value,N),B!==null&&(f=s(B,f,L),R===null?k=B:R.sibling=B,R=B);return ce&&lr(h,L),k}for(z=n(h,z);!B.done;L++,B=x.next())B=C(z,h,L,B.value,N),B!==null&&(e&&B.alternate!==null&&z.delete(B.key===null?L:B.key),f=s(B,f,L),R===null?k=B:R.sibling=B,R=B);return e&&z.forEach(function(A){return t(h,A)}),ce&&lr(h,L),k}function v(h,f,x,N){if(typeof x=="object"&&x!==null&&x.type===_r&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case da:e:{for(var k=x.key,R=f;R!==null;){if(R.key===k){if(k=x.type,k===_r){if(R.tag===7){r(h,R.sibling),f=a(R,x.props.children),f.return=h,h=f;break e}}else if(R.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&bu(k)===R.type){r(h,R.sibling),f=a(R,x.props),f.ref=mn(h,R,x),f.return=h,h=f;break e}r(h,R);break}else t(h,R);R=R.sibling}x.type===_r?(f=pr(x.props.children,h.mode,N,x.key),f.return=h,h=f):(N=Ba(x.type,x.key,x.props,null,h.mode,N),N.ref=mn(h,f,x),N.return=h,h=N)}return l(h);case Pr:e:{for(R=x.key;f!==null;){if(f.key===R)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){r(h,f.sibling),f=a(f,x.children||[]),f.return=h,h=f;break e}else{r(h,f);break}else t(h,f);f=f.sibling}f=wo(x,h.mode,N),f.return=h,h=f}return l(h);case Dt:return R=x._init,v(h,f,R(x._payload),N)}if(vn(x))return g(h,f,x,N);if(ln(x))return b(h,f,x,N);wa(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(r(h,f.sibling),f=a(f,x),f.return=h,h=f):(r(h,f),f=bo(x,h.mode,N),f.return=h,h=f),l(h)):r(h,f)}return v}var qr=Ud(!0),Hd=Ud(!1),is=nr(null),us=null,Fr=null,ti=null;function ri(){ti=Fr=us=null}function ni(e){var t=is.current;ie(is),e._currentValue=t}function sl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Wr(e,t){us=e,ti=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(ti!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(us===null)throw Error(I(308));Fr=e,us.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var cr=null;function ai(e){cr===null?cr=[e]:cr.push(e)}function Wd(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,ai(t)):(r.next=a.next,a.next=r),t.interleaved=r,Lt(e,n)}function Lt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var It=!1;function si(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Lt(e,r)}return a=n.interleaved,a===null?(t.next=t,ai(n)):(t.next=a.next,a.next=t),n.interleaved=t,Lt(e,r)}function Oa(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wl(e,r)}}function wu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=l:s=s.next=l,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cs(e,t,r,n){var a=e.updateQueue;It=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(i!==null){a.shared.pending=null;var u=i,c=u.next;u.next=null,l===null?s=c:l.next=c,l=u;var d=e.alternate;d!==null&&(d=d.updateQueue,i=d.lastBaseUpdate,i!==l&&(i===null?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=u))}if(s!==null){var m=a.baseState;l=0,d=c=u=null,i=s;do{var p=i.lane,C=i.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:C,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var g=e,b=i;switch(p=t,C=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){m=g.call(C,m,p);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,p=typeof g=="function"?g.call(C,m,p):g,p==null)break e;m=pe({},m,p);break e;case 2:It=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[i]:p.push(i))}else C={eventTime:C,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},d===null?(c=d=C,u=m):d=d.next=C,l|=p;if(i=i.next,i===null){if(i=a.shared.pending,i===null)break;p=i,i=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(1);if(d===null&&(u=m),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);vr|=l,e.lanes=l,e.memoizedState=m}}function ju(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(I(191,a));a.call(n)}}}var na={},St=nr(na),Hn=nr(na),Wn=nr(na);function dr(e){if(e===na)throw Error(I(174));return e}function oi(e,t){switch(oe(Wn,t),oe(Hn,e),oe(St,na),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Io(t,e)}ie(St),oe(St,t)}function Kr(){ie(St),ie(Hn),ie(Wn)}function Xd(e){dr(Wn.current);var t=dr(St.current),r=Io(t,e.type);t!==r&&(oe(Hn,e),oe(St,r))}function li(e){Hn.current===e&&(ie(St),ie(Hn))}var de=nr(0);function ds(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ho=[];function ii(){for(var e=0;e<ho.length;e++)ho[e]._workInProgressVersionPrimary=null;ho.length=0}var Ma=At.ReactCurrentDispatcher,go=At.ReactCurrentBatchConfig,xr=0,me=null,Ne=null,Ce=null,fs=!1,En=!1,Vn=0,D0=0;function Te(){throw Error(I(321))}function ui(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!gt(e[r],t[r]))return!1;return!0}function ci(e,t,r,n,a,s){if(xr=s,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ma.current=e===null||e.memoizedState===null?U0:H0,e=r(n,a),En){s=0;do{if(En=!1,Vn=0,25<=s)throw Error(I(301));s+=1,Ce=Ne=null,t.updateQueue=null,Ma.current=W0,e=r(n,a)}while(En)}if(Ma.current=ms,t=Ne!==null&&Ne.next!==null,xr=0,Ce=Ne=me=null,fs=!1,t)throw Error(I(300));return e}function di(){var e=Vn!==0;return Vn=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?me.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ot(){if(Ne===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ce===null?me.memoizedState:Ce.next;if(t!==null)Ce=t,Ne=e;else{if(e===null)throw Error(I(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ce===null?me.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Xn(e,t){return typeof t=="function"?t(e):t}function yo(e){var t=ot(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Ne,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var l=a.next;a.next=s.next,s.next=l}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var i=l=null,u=null,c=s;do{var d=c.lane;if((xr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(i=u=m,l=n):u=u.next=m,me.lanes|=d,vr|=d}c=c.next}while(c!==null&&c!==s);u===null?l=n:u.next=i,gt(n,t.memoizedState)||(We=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,me.lanes|=s,vr|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xo(e){var t=ot(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do s=e(s,l.action),l=l.next;while(l!==a);gt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Yd(){}function Qd(e,t){var r=me,n=ot(),a=t(),s=!gt(n.memoizedState,a);if(s&&(n.memoizedState=a,We=!0),n=n.queue,fi(Jd.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ce!==null&&Ce.memoizedState.tag&1){if(r.flags|=2048,Yn(9,Kd.bind(null,r,n,a,t),void 0,null),Ee===null)throw Error(I(349));xr&30||qd(r,t,a)}return a}function qd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Kd(e,t,r,n){t.value=r,t.getSnapshot=n,Gd(t)&&Zd(e)}function Jd(e,t,r){return r(function(){Gd(t)&&Zd(e)})}function Gd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gt(e,r)}catch{return!0}}function Zd(e){var t=Lt(e,1);t!==null&&pt(t,e,1,-1)}function Nu(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},t.queue=e,e=e.dispatch=$0.bind(null,me,e),[t.memoizedState,e]}function Yn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ef(){return ot().memoizedState}function Aa(e,t,r,n){var a=bt();me.flags|=e,a.memoizedState=Yn(1|t,r,void 0,n===void 0?null:n)}function Rs(e,t,r,n){var a=ot();n=n===void 0?null:n;var s=void 0;if(Ne!==null){var l=Ne.memoizedState;if(s=l.destroy,n!==null&&ui(n,l.deps)){a.memoizedState=Yn(t,r,s,n);return}}me.flags|=e,a.memoizedState=Yn(1|t,r,s,n)}function Su(e,t){return Aa(8390656,8,e,t)}function fi(e,t){return Rs(2048,8,e,t)}function tf(e,t){return Rs(4,2,e,t)}function rf(e,t){return Rs(4,4,e,t)}function nf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function af(e,t,r){return r=r!=null?r.concat([e]):null,Rs(4,4,nf.bind(null,t,e),r)}function mi(){}function sf(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ui(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function of(e,t){var r=ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ui(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lf(e,t,r){return xr&21?(gt(r,t)||(r=fd(),me.lanes|=r,vr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function I0(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=go.transition;go.transition={};try{e(!1),t()}finally{ne=r,go.transition=n}}function uf(){return ot().memoizedState}function B0(e,t,r){var n=Jt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},cf(e))df(t,r);else if(r=Wd(e,t,r,n),r!==null){var a=Ie();pt(r,e,n,a),ff(r,t,n)}}function $0(e,t,r){var n=Jt(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(cf(e))df(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,i=s(l,r);if(a.hasEagerState=!0,a.eagerState=i,gt(i,l)){var u=t.interleaved;u===null?(a.next=a,ai(t)):(a.next=u.next,u.next=a),t.interleaved=a;return}}catch{}finally{}r=Wd(e,t,a,n),r!==null&&(a=Ie(),pt(r,e,n,a),ff(r,t,n))}}function cf(e){var t=e.alternate;return e===me||t!==null&&t===me}function df(e,t){En=fs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ff(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Wl(e,r)}}var ms={readContext:st,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},U0={readContext:st,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Su,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Aa(4194308,4,nf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var r=bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=B0.bind(null,me,e),[n.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Nu,useDebugValue:mi,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Nu(!1),t=e[0];return e=I0.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=me,a=bt();if(ce){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ee===null)throw Error(I(349));xr&30||qd(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Su(Jd.bind(null,n,s,e),[e]),n.flags|=2048,Yn(9,Kd.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=bt(),t=Ee.identifierPrefix;if(ce){var r=_t,n=Pt;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Vn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=D0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},H0={readContext:st,useCallback:sf,useContext:st,useEffect:fi,useImperativeHandle:af,useInsertionEffect:tf,useLayoutEffect:rf,useMemo:of,useReducer:yo,useRef:ef,useState:function(){return yo(Xn)},useDebugValue:mi,useDeferredValue:function(e){var t=ot();return lf(t,Ne.memoizedState,e)},useTransition:function(){var e=yo(Xn)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Qd,useId:uf,unstable_isNewReconciler:!1},W0={readContext:st,useCallback:sf,useContext:st,useEffect:fi,useImperativeHandle:af,useInsertionEffect:tf,useLayoutEffect:rf,useMemo:of,useReducer:xo,useRef:ef,useState:function(){return xo(Xn)},useDebugValue:mi,useDeferredValue:function(e){var t=ot();return Ne===null?t.memoizedState=e:lf(t,Ne.memoizedState,e)},useTransition:function(){var e=xo(Xn)[0],t=ot().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Qd,useId:uf,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ol(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ts={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ie(),a=Jt(e),s=Rt(n,a);s.payload=t,r!=null&&(s.callback=r),t=qt(e,s,a),t!==null&&(pt(t,e,a,n),Oa(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ie(),a=Jt(e),s=Rt(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=qt(e,s,a),t!==null&&(pt(t,e,a,n),Oa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ie(),n=Jt(e),a=Rt(r,n);a.tag=2,t!=null&&(a.callback=t),t=qt(e,a,n),t!==null&&(pt(t,e,n,r),Oa(t,e,n))}};function Cu(e,t,r,n,a,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!In(r,n)||!In(a,s):!0}function mf(e,t,r){var n=!1,a=er,s=t.contextType;return typeof s=="object"&&s!==null?s=st(s):(a=Xe(t)?gr:Me.current,n=t.contextTypes,s=(n=n!=null)?Yr(e,a):er),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ts,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Eu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ts.enqueueReplaceState(t,t.state,null)}function ll(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},si(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=st(s):(s=Xe(t)?gr:Me.current,a.context=Yr(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ol(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ts.enqueueReplaceState(a,a.state,null),cs(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var r="",n=t;do r+=xp(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function vo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function il(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var V0=typeof WeakMap=="function"?WeakMap:Map;function pf(e,t,r){r=Rt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){hs||(hs=!0,xl=n),il(e,t)},r}function hf(e,t,r){r=Rt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){il(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){il(e,t),typeof n!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Pu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new V0;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=sh.bind(null,e,t,r),t.then(e,e))}function _u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ru(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rt(-1,1),t.tag=2,qt(r,t,1))),r.lanes|=1),e)}var X0=At.ReactCurrentOwner,We=!1;function De(e,t,r,n){t.child=e===null?Hd(t,null,r,n):qr(t,e.child,r,n)}function Tu(e,t,r,n,a){r=r.render;var s=t.ref;return Wr(t,a),n=ci(e,t,r,n,s,a),r=di(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ot(e,t,a)):(ce&&r&&Gl(t),t.flags|=1,De(e,t,n,a),t.child)}function zu(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!bi(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,gf(e,t,s,n,a)):(e=Ba(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var l=s.memoizedProps;if(r=r.compare,r=r!==null?r:In,r(l,n)&&e.ref===t.ref)return Ot(e,t,a)}return t.flags|=1,e=Gt(s,n),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(In(s,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Ot(e,t,a)}return ul(e,t,r,n,a)}function yf(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Ir,qe),qe|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Ir,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,oe(Ir,qe),qe|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,oe(Ir,qe),qe|=n;return De(e,t,a,r),t.child}function xf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ul(e,t,r,n,a){var s=Xe(r)?gr:Me.current;return s=Yr(t,s),Wr(t,a),r=ci(e,t,r,n,s,a),n=di(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ot(e,t,a)):(ce&&n&&Gl(t),t.flags|=1,De(e,t,r,a),t.child)}function Lu(e,t,r,n,a){if(Xe(r)){var s=!0;ss(t)}else s=!1;if(Wr(t,a),t.stateNode===null)Fa(e,t),mf(t,r,n),ll(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,i=t.memoizedProps;l.props=i;var u=l.context,c=r.contextType;typeof c=="object"&&c!==null?c=st(c):(c=Xe(r)?gr:Me.current,c=Yr(t,c));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==n||u!==c)&&Eu(t,l,n,c),It=!1;var p=t.memoizedState;l.state=p,cs(t,n,l,a),u=t.memoizedState,i!==n||p!==u||Ve.current||It?(typeof d=="function"&&(ol(t,r,d,n),u=t.memoizedState),(i=It||Cu(t,r,i,n,p,u,c))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),l.props=n,l.state=u,l.context=c,n=i):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Vd(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ut(t.type,i),l.props=c,m=t.pendingProps,p=l.context,u=r.contextType,typeof u=="object"&&u!==null?u=st(u):(u=Xe(r)?gr:Me.current,u=Yr(t,u));var C=r.getDerivedStateFromProps;(d=typeof C=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==m||p!==u)&&Eu(t,l,n,u),It=!1,p=t.memoizedState,l.state=p,cs(t,n,l,a);var g=t.memoizedState;i!==m||p!==g||Ve.current||It?(typeof C=="function"&&(ol(t,r,C,n),g=t.memoizedState),(c=It||Cu(t,r,c,n,p,g,u)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=u,n=c):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return cl(e,t,r,n,s,a)}function cl(e,t,r,n,a,s){xf(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&xu(t,r,!1),Ot(e,t,s);n=t.stateNode,X0.current=t;var i=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=qr(t,e.child,null,s),t.child=qr(t,null,i,s)):De(e,t,i,s),t.memoizedState=n.state,a&&xu(t,r,!0),t.child}function vf(e){var t=e.stateNode;t.pendingContext?yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yu(e,t.context,!1),oi(e,t.containerInfo)}function Ou(e,t,r,n,a){return Qr(),ei(a),t.flags|=256,De(e,t,r,n),t.child}var dl={dehydrated:null,treeContext:null,retryLane:0};function fl(e){return{baseLanes:e,cachePool:null,transitions:null}}function kf(e,t,r){var n=t.pendingProps,a=de.current,s=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(a&2)!==0),i?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),oe(de,a&1),e===null)return al(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,s?(n=t.mode,s=t.child,l={mode:"hidden",children:l},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Os(l,n,0,null),e=pr(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=fl(r),t.memoizedState=dl,e):pi(t,l));if(a=e.memoizedState,a!==null&&(i=a.dehydrated,i!==null))return Y0(e,t,l,n,i,a,r);if(s){s=n.fallback,l=t.mode,a=e.child,i=a.sibling;var u={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Gt(a,u),n.subtreeFlags=a.subtreeFlags&14680064),i!==null?s=Gt(i,s):(s=pr(s,l,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,l=e.child.memoizedState,l=l===null?fl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=dl,n}return s=e.child,e=s.sibling,n=Gt(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pi(e,t){return t=Os({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ja(e,t,r,n){return n!==null&&ei(n),qr(t,e.child,null,r),e=pi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y0(e,t,r,n,a,s,l){if(r)return t.flags&256?(t.flags&=-257,n=vo(Error(I(422))),ja(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Os({mode:"visible",children:n.children},a,0,null),s=pr(s,a,l,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&qr(t,e.child,null,l),t.child.memoizedState=fl(l),t.memoizedState=dl,s);if(!(t.mode&1))return ja(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var i=n.dgst;return n=i,s=Error(I(419)),n=vo(s,n,void 0),ja(e,t,l,n)}if(i=(l&e.childLanes)!==0,We||i){if(n=Ee,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Lt(e,a),pt(n,e,a,-1))}return ki(),n=vo(Error(I(421))),ja(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=oh.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ke=Qt(a.nextSibling),Je=t,ce=!0,dt=null,e!==null&&(tt[rt++]=Pt,tt[rt++]=_t,tt[rt++]=yr,Pt=e.id,_t=e.overflow,yr=t),t=pi(t,n.children),t.flags|=4096,t)}function Mu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),sl(e.return,t,r)}function ko(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function bf(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(De(e,t,n.children,r),n=de.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mu(e,r,t);else if(e.tag===19)Mu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(oe(de,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ds(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),ko(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ds(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}ko(t,!0,r,null,s);break;case"together":ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=Gt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Q0(e,t,r){switch(t.tag){case 3:vf(t),Qr();break;case 5:Xd(t);break;case 1:Xe(t.type)&&ss(t);break;case 4:oi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;oe(is,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(oe(de,de.current&1),t.flags|=128,null):r&t.child.childLanes?kf(e,t,r):(oe(de,de.current&1),e=Ot(e,t,r),e!==null?e.sibling:null);oe(de,de.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bf(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),oe(de,de.current),n)break;return null;case 22:case 23:return t.lanes=0,yf(e,t,r)}return Ot(e,t,r)}var wf,ml,jf,Nf;wf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ml=function(){};jf=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,dr(St.current);var s=null;switch(r){case"input":a=Mo(e,a),n=Mo(e,n),s=[];break;case"select":a=pe({},a,{value:void 0}),n=pe({},n,{value:void 0}),s=[];break;case"textarea":a=Do(e,a),n=Do(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ns)}Bo(r,n);var l;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var i=a[c];for(l in i)i.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zn.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(i=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&u!==i&&(u!=null||i!=null))if(c==="style")if(i){for(l in i)!i.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&i[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,i=i?i.__html:void 0,u!=null&&i!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&le("scroll",e),s||i===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Nf=function(e,t,r,n){r!==n&&(t.flags|=4)};function pn(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function q0(e,t,r){var n=t.pendingProps;switch(Zl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Xe(t.type)&&as(),ze(t),null;case 3:return n=t.stateNode,Kr(),ie(Ve),ie(Me),ii(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ba(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(bl(dt),dt=null))),ml(e,t),ze(t),null;case 5:li(t);var a=dr(Wn.current);if(r=t.type,e!==null&&t.stateNode!=null)jf(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return ze(t),null}if(e=dr(St.current),ba(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[jt]=t,n[Un]=s,e=(t.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(a=0;a<bn.length;a++)le(bn[a],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":Wi(n,s),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},le("invalid",n);break;case"textarea":Xi(n,s),le("invalid",n)}Bo(r,s),a=null;for(var l in s)if(s.hasOwnProperty(l)){var i=s[l];l==="children"?typeof i=="string"?n.textContent!==i&&(s.suppressHydrationWarning!==!0&&ka(n.textContent,i,e),a=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(s.suppressHydrationWarning!==!0&&ka(n.textContent,i,e),a=["children",""+i]):zn.hasOwnProperty(l)&&i!=null&&l==="onScroll"&&le("scroll",n)}switch(r){case"input":fa(n),Vi(n,s,!0);break;case"textarea":fa(n),Yi(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=ns)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[jt]=t,e[Un]=n,wf(e,t,!1,!1),t.stateNode=e;e:{switch(l=$o(r,n),r){case"dialog":le("cancel",e),le("close",e),a=n;break;case"iframe":case"object":case"embed":le("load",e),a=n;break;case"video":case"audio":for(a=0;a<bn.length;a++)le(bn[a],e);a=n;break;case"source":le("error",e),a=n;break;case"img":case"image":case"link":le("error",e),le("load",e),a=n;break;case"details":le("toggle",e),a=n;break;case"input":Wi(e,n),a=Mo(e,n),le("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=pe({},n,{value:void 0}),le("invalid",e);break;case"textarea":Xi(e,n),a=Do(e,n),le("invalid",e);break;default:a=n}Bo(r,a),i=a;for(s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="style"?ed(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Gc(e,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Ln(e,u):typeof u=="number"&&Ln(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zn.hasOwnProperty(s)?u!=null&&s==="onScroll"&&le("scroll",e):u!=null&&Dl(e,s,u,l))}switch(r){case"input":fa(e),Vi(e,n,!1);break;case"textarea":fa(e),Yi(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Zt(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Br(e,!!n.multiple,s,!1):n.defaultValue!=null&&Br(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ns)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Nf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=dr(Wn.current),dr(St.current),ba(t)){if(n=t.stateNode,r=t.memoizedProps,n[jt]=t,(s=n.nodeValue!==r)&&(e=Je,e!==null))switch(e.tag){case 3:ka(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ka(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jt]=t,t.stateNode=n}return ze(t),null;case 13:if(ie(de),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ke!==null&&t.mode&1&&!(t.flags&128))$d(),Qr(),t.flags|=98560,s=!1;else if(s=ba(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(I(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(I(317));s[jt]=t}else Qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),s=!1}else dt!==null&&(bl(dt),dt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?Se===0&&(Se=3):ki())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Kr(),ml(e,t),e===null&&Bn(t.stateNode.containerInfo),ze(t),null;case 10:return ni(t.type._context),ze(t),null;case 17:return Xe(t.type)&&as(),ze(t),null;case 19:if(ie(de),s=t.memoizedState,s===null)return ze(t),null;if(n=(t.flags&128)!==0,l=s.rendering,l===null)if(n)pn(s,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ds(e),l!==null){for(t.flags|=128,pn(s,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(de,de.current&1|2),t.child}e=e.sibling}s.tail!==null&&ke()>Gr&&(t.flags|=128,n=!0,pn(s,!1),t.lanes=4194304)}else{if(!n)if(e=ds(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ce)return ze(t),null}else 2*ke()-s.renderingStartTime>Gr&&r!==1073741824&&(t.flags|=128,n=!0,pn(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(r=s.last,r!==null?r.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ke(),t.sibling=null,r=de.current,oe(de,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return vi(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qe&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function K0(e,t){switch(Zl(t),t.tag){case 1:return Xe(t.type)&&as(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kr(),ie(Ve),ie(Me),ii(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return li(t),null;case 13:if(ie(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(de),null;case 4:return Kr(),null;case 10:return ni(t.type._context),null;case 22:case 23:return vi(),null;case 24:return null;default:return null}}var Na=!1,Le=!1,J0=typeof WeakSet=="function"?WeakSet:Set,V=null;function Dr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ye(e,t,n)}else r.current=null}function pl(e,t,r){try{r()}catch(n){ye(e,t,n)}}var Au=!1;function G0(e,t){if(Jo=es,e=Pd(),Jl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var l=0,i=-1,u=-1,c=0,d=0,m=e,p=null;t:for(;;){for(var C;m!==r||a!==0&&m.nodeType!==3||(i=l+a),m!==s||n!==0&&m.nodeType!==3||(u=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(C=m.firstChild)!==null;)p=m,m=C;for(;;){if(m===e)break t;if(p===r&&++c===a&&(i=l),p===s&&++d===n&&(u=l),(C=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=C}r=i===-1||u===-1?null:{start:i,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Go={focusedElem:e,selectionRange:r},es=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,v=g.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?b:ut(t.type,b),v);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(N){ye(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return g=Au,Au=!1,g}function Pn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&pl(t,r,s)}a=a.next}while(a!==n)}}function zs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Sf(e){var t=e.alternate;t!==null&&(e.alternate=null,Sf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[Un],delete t[tl],delete t[O0],delete t[M0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cf(e){return e.tag===5||e.tag===3||e.tag===4}function Fu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ns));else if(n!==4&&(e=e.child,e!==null))for(gl(e,t,r),e=e.sibling;e!==null;)gl(e,t,r),e=e.sibling}function yl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yl(e,t,r),e=e.sibling;e!==null;)yl(e,t,r),e=e.sibling}var Pe=null,ct=!1;function Ft(e,t,r){for(r=r.child;r!==null;)Ef(e,t,r),r=r.sibling}function Ef(e,t,r){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ns,r)}catch{}switch(r.tag){case 5:Le||Dr(r,t);case 6:var n=Pe,a=ct;Pe=null,Ft(e,t,r),Pe=n,ct=a,Pe!==null&&(ct?(e=Pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pe.removeChild(r.stateNode));break;case 18:Pe!==null&&(ct?(e=Pe,r=r.stateNode,e.nodeType===8?mo(e.parentNode,r):e.nodeType===1&&mo(e,r),Fn(e)):mo(Pe,r.stateNode));break;case 4:n=Pe,a=ct,Pe=r.stateNode.containerInfo,ct=!0,Ft(e,t,r),Pe=n,ct=a;break;case 0:case 11:case 14:case 15:if(!Le&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&pl(r,t,l),a=a.next}while(a!==n)}Ft(e,t,r);break;case 1:if(!Le&&(Dr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){ye(r,t,i)}Ft(e,t,r);break;case 21:Ft(e,t,r);break;case 22:r.mode&1?(Le=(n=Le)||r.memoizedState!==null,Ft(e,t,r),Le=n):Ft(e,t,r);break;default:Ft(e,t,r)}}function Du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new J0),t.forEach(function(n){var a=lh.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function it(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,l=t,i=l;e:for(;i!==null;){switch(i.tag){case 5:Pe=i.stateNode,ct=!1;break e;case 3:Pe=i.stateNode.containerInfo,ct=!0;break e;case 4:Pe=i.stateNode.containerInfo,ct=!0;break e}i=i.return}if(Pe===null)throw Error(I(160));Ef(s,l,a),Pe=null,ct=!1;var u=a.alternate;u!==null&&(u.return=null),a.return=null}catch(c){ye(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pf(t,e),t=t.sibling}function Pf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),xt(e),n&4){try{Pn(3,e,e.return),zs(3,e)}catch(b){ye(e,e.return,b)}try{Pn(5,e,e.return)}catch(b){ye(e,e.return,b)}}break;case 1:it(t,e),xt(e),n&512&&r!==null&&Dr(r,r.return);break;case 5:if(it(t,e),xt(e),n&512&&r!==null&&Dr(r,r.return),e.flags&32){var a=e.stateNode;try{Ln(a,"")}catch(b){ye(e,e.return,b)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,l=r!==null?r.memoizedProps:s,i=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{i==="input"&&s.type==="radio"&&s.name!=null&&qc(a,s),$o(i,l);var c=$o(i,s);for(l=0;l<u.length;l+=2){var d=u[l],m=u[l+1];d==="style"?ed(a,m):d==="dangerouslySetInnerHTML"?Gc(a,m):d==="children"?Ln(a,m):Dl(a,d,m,c)}switch(i){case"input":Ao(a,s);break;case"textarea":Kc(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var C=s.value;C!=null?Br(a,!!s.multiple,C,!1):p!==!!s.multiple&&(s.defaultValue!=null?Br(a,!!s.multiple,s.defaultValue,!0):Br(a,!!s.multiple,s.multiple?[]:"",!1))}a[Un]=s}catch(b){ye(e,e.return,b)}}break;case 6:if(it(t,e),xt(e),n&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(b){ye(e,e.return,b)}}break;case 3:if(it(t,e),xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fn(t.containerInfo)}catch(b){ye(e,e.return,b)}break;case 4:it(t,e),xt(e);break;case 13:it(t,e),xt(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(yi=ke())),n&4&&Du(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Le=(c=Le)||d,it(t,e),Le=c):it(t,e),xt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(m=V=d;V!==null;){switch(p=V,C=p.child,p.tag){case 0:case 11:case 14:case 15:Pn(4,p,p.return);break;case 1:Dr(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(b){ye(n,r,b)}}break;case 5:Dr(p,p.return);break;case 22:if(p.memoizedState!==null){Bu(m);continue}}C!==null?(C.return=p,V=C):Bu(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{a=m.stateNode,c?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(i=m.stateNode,u=m.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,i.style.display=Zc("display",l))}catch(b){ye(e,e.return,b)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(b){ye(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:it(t,e),xt(e),n&4&&Du(e);break;case 21:break;default:it(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Cf(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ln(a,""),n.flags&=-33);var s=Fu(e);yl(e,s,a);break;case 3:case 4:var l=n.stateNode.containerInfo,i=Fu(e);gl(e,i,l);break;default:throw Error(I(161))}}catch(u){ye(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Z0(e,t,r){V=e,_f(e)}function _f(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var a=V,s=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||Na;if(!l){var i=a.alternate,u=i!==null&&i.memoizedState!==null||Le;i=Na;var c=Le;if(Na=l,(Le=u)&&!c)for(V=a;V!==null;)l=V,u=l.child,l.tag===22&&l.memoizedState!==null?$u(a):u!==null?(u.return=l,V=u):$u(a);for(;s!==null;)V=s,_f(s),s=s.sibling;V=a,Na=i,Le=c}Iu(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,V=s):Iu(e)}}function Iu(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||zs(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Le)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ut(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ju(t,s,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ju(t,l,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Fn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Le||t.flags&512&&hl(t)}catch(p){ye(t,t.return,p)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function Bu(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function $u(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zs(4,t)}catch(u){ye(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(u){ye(t,a,u)}}var s=t.return;try{hl(t)}catch(u){ye(t,s,u)}break;case 5:var l=t.return;try{hl(t)}catch(u){ye(t,l,u)}}}catch(u){ye(t,t.return,u)}if(t===e){V=null;break}var i=t.sibling;if(i!==null){i.return=t.return,V=i;break}V=t.return}}var eh=Math.ceil,ps=At.ReactCurrentDispatcher,hi=At.ReactCurrentOwner,at=At.ReactCurrentBatchConfig,te=0,Ee=null,be=null,_e=0,qe=0,Ir=nr(0),Se=0,Qn=null,vr=0,Ls=0,gi=0,_n=null,He=null,yi=0,Gr=1/0,Ct=null,hs=!1,xl=null,Kt=null,Sa=!1,Ht=null,gs=0,Rn=0,vl=null,Da=-1,Ia=0;function Ie(){return te&6?ke():Da!==-1?Da:Da=ke()}function Jt(e){return e.mode&1?te&2&&_e!==0?_e&-_e:F0.transition!==null?(Ia===0&&(Ia=fd()),Ia):(e=ne,e!==0||(e=window.event,e=e===void 0?16:vd(e.type)),e):1}function pt(e,t,r,n){if(50<Rn)throw Rn=0,vl=null,Error(I(185));ea(e,r,n),(!(te&2)||e!==Ee)&&(e===Ee&&(!(te&2)&&(Ls|=r),Se===4&&$t(e,_e)),Ye(e,n),r===1&&te===0&&!(t.mode&1)&&(Gr=ke()+500,_s&&ar()))}function Ye(e,t){var r=e.callbackNode;Fp(e,t);var n=Za(e,e===Ee?_e:0);if(n===0)r!==null&&Ki(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ki(r),t===1)e.tag===0?A0(Uu.bind(null,e)):Dd(Uu.bind(null,e)),z0(function(){!(te&6)&&ar()}),r=null;else{switch(md(n)){case 1:r=Hl;break;case 4:r=cd;break;case 16:r=Ga;break;case 536870912:r=dd;break;default:r=Ga}r=Ff(r,Rf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rf(e,t){if(Da=-1,Ia=0,te&6)throw Error(I(327));var r=e.callbackNode;if(Vr()&&e.callbackNode!==r)return null;var n=Za(e,e===Ee?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ys(e,n);else{t=n;var a=te;te|=2;var s=zf();(Ee!==e||_e!==t)&&(Ct=null,Gr=ke()+500,mr(e,t));do try{nh();break}catch(i){Tf(e,i)}while(1);ri(),ps.current=s,te=a,be!==null?t=0:(Ee=null,_e=0,t=Se)}if(t!==0){if(t===2&&(a=Xo(e),a!==0&&(n=a,t=kl(e,a))),t===1)throw r=Qn,mr(e,0),$t(e,n),Ye(e,ke()),r;if(t===6)$t(e,n);else{if(a=e.current.alternate,!(n&30)&&!th(a)&&(t=ys(e,n),t===2&&(s=Xo(e),s!==0&&(n=s,t=kl(e,s))),t===1))throw r=Qn,mr(e,0),$t(e,n),Ye(e,ke()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:ir(e,He,Ct);break;case 3:if($t(e,n),(n&130023424)===n&&(t=yi+500-ke(),10<t)){if(Za(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ie(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=el(ir.bind(null,e,He,Ct),t);break}ir(e,He,Ct);break;case 4:if($t(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-mt(n);s=1<<l,l=t[l],l>a&&(a=l),n&=~s}if(n=a,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eh(n/1960))-n,10<n){e.timeoutHandle=el(ir.bind(null,e,He,Ct),n);break}ir(e,He,Ct);break;case 5:ir(e,He,Ct);break;default:throw Error(I(329))}}}return Ye(e,ke()),e.callbackNode===r?Rf.bind(null,e):null}function kl(e,t){var r=_n;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=ys(e,t),e!==2&&(t=He,He=r,t!==null&&bl(t)),e}function bl(e){He===null?He=e:He.push.apply(He,e)}function th(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!gt(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~gi,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function Uu(e){if(te&6)throw Error(I(327));Vr();var t=Za(e,0);if(!(t&1))return Ye(e,ke()),null;var r=ys(e,t);if(e.tag!==0&&r===2){var n=Xo(e);n!==0&&(t=n,r=kl(e,n))}if(r===1)throw r=Qn,mr(e,0),$t(e,t),Ye(e,ke()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ir(e,He,Ct),Ye(e,ke()),null}function xi(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(Gr=ke()+500,_s&&ar())}}function kr(e){Ht!==null&&Ht.tag===0&&!(te&6)&&Vr();var t=te;te|=1;var r=at.transition,n=ne;try{if(at.transition=null,ne=1,e)return e()}finally{ne=n,at.transition=r,te=t,!(te&6)&&ar()}}function vi(){qe=Ir.current,ie(Ir)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,T0(r)),be!==null)for(r=be.return;r!==null;){var n=r;switch(Zl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&as();break;case 3:Kr(),ie(Ve),ie(Me),ii();break;case 5:li(n);break;case 4:Kr();break;case 13:ie(de);break;case 19:ie(de);break;case 10:ni(n.type._context);break;case 22:case 23:vi()}r=r.return}if(Ee=e,be=e=Gt(e.current,null),_e=qe=t,Se=0,Qn=null,gi=Ls=vr=0,He=_n=null,cr!==null){for(t=0;t<cr.length;t++)if(r=cr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var l=s.next;s.next=a,n.next=l}r.pending=n}cr=null}return e}function Tf(e,t){do{var r=be;try{if(ri(),Ma.current=ms,fs){for(var n=me.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}fs=!1}if(xr=0,Ce=Ne=me=null,En=!1,Vn=0,hi.current=null,r===null||r.return===null){Se=1,Qn=t,be=null;break}e:{var s=e,l=r.return,i=r,u=t;if(t=_e,i.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=i,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var C=_u(l);if(C!==null){C.flags&=-257,Ru(C,l,i,s,t),C.mode&1&&Pu(s,c,t),t=C,u=c;var g=t.updateQueue;if(g===null){var b=new Set;b.add(u),t.updateQueue=b}else g.add(u);break e}else{if(!(t&1)){Pu(s,c,t),ki();break e}u=Error(I(426))}}else if(ce&&i.mode&1){var v=_u(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ru(v,l,i,s,t),ei(Jr(u,i));break e}}s=u=Jr(u,i),Se!==4&&(Se=2),_n===null?_n=[s]:_n.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=pf(s,u,t);wu(s,h);break e;case 1:i=u;var f=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Kt===null||!Kt.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=hf(s,i,t);wu(s,N);break e}}s=s.return}while(s!==null)}Of(r)}catch(k){t=k,be===r&&r!==null&&(be=r=r.return);continue}break}while(1)}function zf(){var e=ps.current;return ps.current=ms,e===null?ms:e}function ki(){(Se===0||Se===3||Se===2)&&(Se=4),Ee===null||!(vr&268435455)&&!(Ls&268435455)||$t(Ee,_e)}function ys(e,t){var r=te;te|=2;var n=zf();(Ee!==e||_e!==t)&&(Ct=null,mr(e,t));do try{rh();break}catch(a){Tf(e,a)}while(1);if(ri(),te=r,ps.current=n,be!==null)throw Error(I(261));return Ee=null,_e=0,Se}function rh(){for(;be!==null;)Lf(be)}function nh(){for(;be!==null&&!Pp();)Lf(be)}function Lf(e){var t=Af(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?Of(e):be=t,hi.current=null}function Of(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=K0(r,t),r!==null){r.flags&=32767,be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,be=null;return}}else if(r=q0(r,t,qe),r!==null){be=r;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Se===0&&(Se=5)}function ir(e,t,r){var n=ne,a=at.transition;try{at.transition=null,ne=1,ah(e,t,r,n)}finally{at.transition=a,ne=n}return null}function ah(e,t,r,n){do Vr();while(Ht!==null);if(te&6)throw Error(I(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(Dp(e,s),e===Ee&&(be=Ee=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sa||(Sa=!0,Ff(Ga,function(){return Vr(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=at.transition,at.transition=null;var l=ne;ne=1;var i=te;te|=4,hi.current=null,G0(e,r),Pf(r,e),N0(Go),es=!!Jo,Go=Jo=null,e.current=r,Z0(r),_p(),te=i,ne=l,at.transition=s}else e.current=r;if(Sa&&(Sa=!1,Ht=e,gs=a),s=e.pendingLanes,s===0&&(Kt=null),zp(r.stateNode),Ye(e,ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(hs)throw hs=!1,e=xl,xl=null,e;return gs&1&&e.tag!==0&&Vr(),s=e.pendingLanes,s&1?e===vl?Rn++:(Rn=0,vl=e):Rn=0,ar(),null}function Vr(){if(Ht!==null){var e=md(gs),t=at.transition,r=ne;try{if(at.transition=null,ne=16>e?16:e,Ht===null)var n=!1;else{if(e=Ht,Ht=null,gs=0,te&6)throw Error(I(331));var a=te;for(te|=4,V=e.current;V!==null;){var s=V,l=s.child;if(V.flags&16){var i=s.deletions;if(i!==null){for(var u=0;u<i.length;u++){var c=i[u];for(V=c;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:Pn(8,d,s)}var m=d.child;if(m!==null)m.return=d,V=m;else for(;V!==null;){d=V;var p=d.sibling,C=d.return;if(Sf(d),d===c){V=null;break}if(p!==null){p.return=C,V=p;break}V=C}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}V=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,V=l;else e:for(;V!==null;){if(s=V,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pn(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,V=h;break e}V=s.return}}var f=e.current;for(V=f;V!==null;){l=V;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,V=x;else e:for(l=f;V!==null;){if(i=V,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:zs(9,i)}}catch(k){ye(i,i.return,k)}if(i===l){V=null;break e}var N=i.sibling;if(N!==null){N.return=i.return,V=N;break e}V=i.return}}if(te=a,ar(),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ns,e)}catch{}n=!0}return n}finally{ne=r,at.transition=t}}return!1}function Hu(e,t,r){t=Jr(r,t),t=pf(e,t,1),e=qt(e,t,1),t=Ie(),e!==null&&(ea(e,1,t),Ye(e,t))}function ye(e,t,r){if(e.tag===3)Hu(e,e,r);else for(;t!==null;){if(t.tag===3){Hu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kt===null||!Kt.has(n))){e=Jr(r,e),e=hf(t,e,1),t=qt(t,e,1),e=Ie(),t!==null&&(ea(t,1,e),Ye(t,e));break}}t=t.return}}function sh(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&r,Ee===e&&(_e&r)===r&&(Se===4||Se===3&&(_e&130023424)===_e&&500>ke()-yi?mr(e,0):gi|=r),Ye(e,t)}function Mf(e,t){t===0&&(e.mode&1?(t=ha,ha<<=1,!(ha&130023424)&&(ha=4194304)):t=1);var r=Ie();e=Lt(e,t),e!==null&&(ea(e,t,r),Ye(e,r))}function oh(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mf(e,r)}function lh(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),Mf(e,r)}var Af;Af=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,Q0(e,t,r);We=!!(e.flags&131072)}else We=!1,ce&&t.flags&1048576&&Id(t,ls,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fa(e,t),e=t.pendingProps;var a=Yr(t,Me.current);Wr(t,r),a=ci(null,t,n,e,a,r);var s=di();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(n)?(s=!0,ss(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,si(t),a.updater=Ts,t.stateNode=a,a._reactInternals=t,ll(t,n,e,r),t=cl(null,t,n,!0,s,r)):(t.tag=0,ce&&s&&Gl(t),De(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fa(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=uh(n),e=ut(n,e),a){case 0:t=ul(null,t,n,e,r);break e;case 1:t=Lu(null,t,n,e,r);break e;case 11:t=Tu(null,t,n,e,r);break e;case 14:t=zu(null,t,n,ut(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ut(n,a),ul(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ut(n,a),Lu(e,t,n,a,r);case 3:e:{if(vf(t),e===null)throw Error(I(387));n=t.pendingProps,s=t.memoizedState,a=s.element,Vd(e,t),cs(t,n,null,r);var l=t.memoizedState;if(n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Jr(Error(I(423)),t),t=Ou(e,t,n,r,a);break e}else if(n!==a){a=Jr(Error(I(424)),t),t=Ou(e,t,n,r,a);break e}else for(Ke=Qt(t.stateNode.containerInfo.firstChild),Je=t,ce=!0,dt=null,r=Hd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qr(),n===a){t=Ot(e,t,r);break e}De(e,t,n,r)}t=t.child}return t;case 5:return Xd(t),e===null&&al(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,l=a.children,Zo(n,a)?l=null:s!==null&&Zo(n,s)&&(t.flags|=32),xf(e,t),De(e,t,l,r),t.child;case 6:return e===null&&al(t),null;case 13:return kf(e,t,r);case 4:return oi(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qr(t,null,n,r):De(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ut(n,a),Tu(e,t,n,a,r);case 7:return De(e,t,t.pendingProps,r),t.child;case 8:return De(e,t,t.pendingProps.children,r),t.child;case 12:return De(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,l=a.value,oe(is,n._currentValue),n._currentValue=l,s!==null)if(gt(s.value,l)){if(s.children===a.children&&!Ve.current){t=Ot(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var i=s.dependencies;if(i!==null){l=s.child;for(var u=i.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Rt(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),sl(s.return,r,t),i.lanes|=r;break}u=u.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(I(341));l.lanes|=r,i=l.alternate,i!==null&&(i.lanes|=r),sl(l,r,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}De(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Wr(t,r),a=st(a),n=n(a),t.flags|=1,De(e,t,n,r),t.child;case 14:return n=t.type,a=ut(n,t.pendingProps),a=ut(n.type,a),zu(e,t,n,a,r);case 15:return gf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ut(n,a),Fa(e,t),t.tag=1,Xe(n)?(e=!0,ss(t)):e=!1,Wr(t,r),mf(t,n,a),ll(t,n,a,r),cl(null,t,n,!0,e,r);case 19:return bf(e,t,r);case 22:return yf(e,t,r)}throw Error(I(156,t.tag))};function Ff(e,t){return ud(e,t)}function ih(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,r,n){return new ih(e,t,r,n)}function bi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uh(e){if(typeof e=="function")return bi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bl)return 11;if(e===$l)return 14}return 2}function Gt(e,t){var r=e.alternate;return r===null?(r=nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ba(e,t,r,n,a,s){var l=2;if(n=e,typeof e=="function")bi(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case _r:return pr(r.children,a,s,t);case Il:l=8,a|=8;break;case To:return e=nt(12,r,t,a|2),e.elementType=To,e.lanes=s,e;case zo:return e=nt(13,r,t,a),e.elementType=zo,e.lanes=s,e;case Lo:return e=nt(19,r,t,a),e.elementType=Lo,e.lanes=s,e;case Xc:return Os(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wc:l=10;break e;case Vc:l=9;break e;case Bl:l=11;break e;case $l:l=14;break e;case Dt:l=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=nt(l,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function pr(e,t,r,n){return e=nt(7,e,n,t),e.lanes=r,e}function Os(e,t,r,n){return e=nt(22,e,n,t),e.elementType=Xc,e.lanes=r,e.stateNode={isHidden:!1},e}function bo(e,t,r){return e=nt(6,e,null,t),e.lanes=r,e}function wo(e,t,r){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ch(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function wi(e,t,r,n,a,s,l,i,u){return e=new ch(e,t,r,i,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=nt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},si(s),e}function dh(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Df(e){if(!e)return er;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(Xe(r))return Fd(e,r,t)}return t}function If(e,t,r,n,a,s,l,i,u){return e=wi(r,n,!0,e,a,s,l,i,u),e.context=Df(null),r=e.current,n=Ie(),a=Jt(r),s=Rt(n,a),s.callback=t??null,qt(r,s,a),e.current.lanes=a,ea(e,a,n),Ye(e,n),e}function Ms(e,t,r,n){var a=t.current,s=Ie(),l=Jt(a);return r=Df(r),t.context===null?t.context=r:t.pendingContext=r,t=Rt(s,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qt(a,t,l),e!==null&&(pt(e,a,l,s),Oa(e,a,l)),l}function xs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ji(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}function fh(){return null}var Bf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ni(e){this._internalRoot=e}As.prototype.render=Ni.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Ms(e,t,null,null)};As.prototype.unmount=Ni.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){Ms(null,e,null,null)}),t[zt]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=gd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&xd(e)}};function Si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vu(){}function mh(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var c=xs(l);s.call(c)}}var l=If(t,n,e,0,null,!1,!1,"",Vu);return e._reactRootContainer=l,e[zt]=l.current,Bn(e.nodeType===8?e.parentNode:e),kr(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var i=n;n=function(){var c=xs(u);i.call(c)}}var u=wi(e,0,!1,null,null,!1,!1,"",Vu);return e._reactRootContainer=u,e[zt]=u.current,Bn(e.nodeType===8?e.parentNode:e),kr(function(){Ms(t,u,r,n)}),u}function Ds(e,t,r,n,a){var s=r._reactRootContainer;if(s){var l=s;if(typeof a=="function"){var i=a;a=function(){var u=xs(l);i.call(u)}}Ms(t,l,e,a)}else l=mh(r,t,e,a,n);return xs(l)}pd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kn(t.pendingLanes);r!==0&&(Wl(t,r|1),Ye(t,ke()),!(te&6)&&(Gr=ke()+500,ar()))}break;case 13:kr(function(){var n=Lt(e,1);if(n!==null){var a=Ie();pt(n,e,1,a)}}),ji(e,1)}};Vl=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var r=Ie();pt(t,e,134217728,r)}ji(e,134217728)}};hd=function(e){if(e.tag===13){var t=Jt(e),r=Lt(e,t);if(r!==null){var n=Ie();pt(r,e,t,n)}ji(e,t)}};gd=function(){return ne};yd=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};Ho=function(e,t,r){switch(t){case"input":if(Ao(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ps(n);if(!a)throw Error(I(90));Qc(n),Ao(n,a)}}}break;case"textarea":Kc(e,r);break;case"select":t=r.value,t!=null&&Br(e,!!r.multiple,t,!1)}};nd=xi;ad=kr;var ph={usingClientEntryPoint:!1,Events:[ra,Lr,Ps,td,rd,xi]},hn={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hh={bundleType:hn.bundleType,version:hn.version,rendererPackageName:hn.rendererPackageName,rendererConfig:hn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:hn.findFiberByHostInstance||fh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ca=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ca.isDisabled&&Ca.supportsFiber)try{Ns=Ca.inject(hh),Nt=Ca}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ph;Ze.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Si(t))throw Error(I(200));return dh(e,t,null,r)};Ze.createRoot=function(e,t){if(!Si(e))throw Error(I(299));var r=!1,n="",a=Bf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=wi(e,1,!1,null,null,r,!1,n,a),e[zt]=t.current,Bn(e.nodeType===8?e.parentNode:e),new Ni(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return kr(e)};Ze.hydrate=function(e,t,r){if(!Fs(t))throw Error(I(200));return Ds(null,e,t,!0,r)};Ze.hydrateRoot=function(e,t,r){if(!Si(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",l=Bf;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=If(t,null,e,1,r??null,a,!1,s,l),e[zt]=t.current,Bn(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new As(t)};Ze.render=function(e,t,r){if(!Fs(t))throw Error(I(200));return Ds(null,e,t,!1,r)};Ze.unmountComponentAtNode=function(e){if(!Fs(e))throw Error(I(40));return e._reactRootContainer?(kr(function(){Ds(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};Ze.unstable_batchedUpdates=xi;Ze.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fs(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Ds(e,t,r,!1,n)};Ze.version="18.3.1-next-f1338f8080-20240426";function $f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($f)}catch(e){console.error(e)}}$f(),Bc.exports=Ze;var gh=Bc.exports,Xu=gh;_o.createRoot=Xu.createRoot,_o.hydrateRoot=Xu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qn(){return qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qn.apply(this,arguments)}var Wt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wt||(Wt={}));const Yu="popstate";function yh(e){e===void 0&&(e={});function t(n,a){let{pathname:s,search:l,hash:i}=n.location;return wl("",{pathname:s,search:l,hash:i},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Hf(a)}return vh(t,r,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xh(){return Math.random().toString(36).substr(2,8)}function Qu(e,t){return{usr:e.state,key:e.key,idx:t}}function wl(e,t,r,n){return r===void 0&&(r=null),qn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nn(t):t,{state:r,key:t&&t.key||n||xh()})}function Hf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function vh(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,i=Wt.Pop,u=null,c=d();c==null&&(c=0,l.replaceState(qn({},l.state,{idx:c}),""));function d(){return(l.state||{idx:null}).idx}function m(){i=Wt.Pop;let v=d(),h=v==null?null:v-c;c=v,u&&u({action:i,location:b.location,delta:h})}function p(v,h){i=Wt.Push;let f=wl(b.location,v,h);r&&r(f,v),c=d()+1;let x=Qu(f,c),N=b.createHref(f);try{l.pushState(x,"",N)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(N)}s&&u&&u({action:i,location:b.location,delta:1})}function C(v,h){i=Wt.Replace;let f=wl(b.location,v,h);r&&r(f,v),c=d();let x=Qu(f,c),N=b.createHref(f);l.replaceState(x,"",N),s&&u&&u({action:i,location:b.location,delta:0})}function g(v){let h=a.location.origin!=="null"?a.location.origin:a.location.href,f=typeof v=="string"?v:Hf(v);return f=f.replace(/ $/,"%20"),we(h,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,h)}let b={get action(){return i},get location(){return e(a,l)},listen(v){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(Yu,m),u=v,()=>{a.removeEventListener(Yu,m),u=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let h=g(v);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:p,replace:C,go(v){return l.go(v)}};return b}var qu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qu||(qu={}));function kh(e,t,r){return r===void 0&&(r="/"),bh(e,t,r,!1)}function bh(e,t,r,n){let a=typeof t=="string"?nn(t):t,s=Xf(a.pathname||"/",r);if(s==null)return null;let l=Wf(e);wh(l);let i=null;for(let u=0;i==null&&u<l.length;++u){let c=Lh(s);i=Th(l[u],c,n)}return i}function Wf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(s,l,i)=>{let u={relativePath:i===void 0?s.path||"":i,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(we(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=hr([n,u.relativePath]),d=r.concat(u);s.children&&s.children.length>0&&(we(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Wf(s.children,t,d,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:_h(c,s.index),routesMeta:d})};return e.forEach((s,l)=>{var i;if(s.path===""||!((i=s.path)!=null&&i.includes("?")))a(s,l);else for(let u of Vf(s.path))a(s,l,u)}),t}function Vf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=Vf(n.join("/")),i=[];return i.push(...l.map(u=>u===""?s:[s,u].join("/"))),a&&i.push(...l),i.map(u=>e.startsWith("/")&&u===""?"/":u)}function wh(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Rh(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jh=/^:[\w-]+$/,Nh=3,Sh=2,Ch=1,Eh=10,Ph=-2,Ku=e=>e==="*";function _h(e,t){let r=e.split("/"),n=r.length;return r.some(Ku)&&(n+=Ph),t&&(n+=Sh),r.filter(a=>!Ku(a)).reduce((a,s)=>a+(jh.test(s)?Nh:s===""?Ch:Eh),n)}function Rh(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Th(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,a={},s="/",l=[];for(let i=0;i<n.length;++i){let u=n[i],c=i===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",m=Ju({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!m&&c&&r&&!n[n.length-1].route.index&&(m=Ju({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:hr([s,m.pathname]),pathnameBase:Fh(hr([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=hr([s,m.pathnameBase]))}return l}function Ju(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zh(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((c,d,m)=>{let{paramName:p,isOptional:C}=d;if(p==="*"){let b=i[m]||"";l=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=i[m];return C&&!g?c[p]=void 0:c[p]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:l,pattern:e}}function zh(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Uf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,u)=>(n.push({paramName:i,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Lh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Uf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Oh(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?nn(e):e;return{pathname:r?r.startsWith("/")?r:Mh(r,t):t,search:Dh(n),hash:Ih(a)}}function Mh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function jo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ah(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Yf(e,t){let r=Ah(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qf(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=nn(e):(a=qn({},e),we(!a.pathname||!a.pathname.includes("?"),jo("?","pathname","search",a)),we(!a.pathname||!a.pathname.includes("#"),jo("#","pathname","hash",a)),we(!a.search||!a.search.includes("#"),jo("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,i;if(l==null)i=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}i=m>=0?t[m]:"/"}let u=Oh(a,i),c=l&&l!=="/"&&l.endsWith("/"),d=(s||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const hr=e=>e.join("/").replace(/\/\/+/g,"/"),Fh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Ih=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Bh(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qf=["post","put","patch","delete"];new Set(qf);const $h=["get",...qf];new Set($h);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kn.apply(this,arguments)}const Ci=y.createContext(null),Uh=y.createContext(null),aa=y.createContext(null),Is=y.createContext(null),Sr=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Kf=y.createContext(null);function sa(){return y.useContext(Is)!=null}function Bs(){return sa()||we(!1),y.useContext(Is).location}function Jf(e){y.useContext(aa).static||y.useLayoutEffect(e)}function Ei(){let{isDataRoute:e}=y.useContext(Sr);return e?tg():Hh()}function Hh(){sa()||we(!1);let e=y.useContext(Ci),{basename:t,future:r,navigator:n}=y.useContext(aa),{matches:a}=y.useContext(Sr),{pathname:s}=Bs(),l=JSON.stringify(Yf(a,r.v7_relativeSplatPath)),i=y.useRef(!1);return Jf(()=>{i.current=!0}),y.useCallback(function(c,d){if(d===void 0&&(d={}),!i.current)return;if(typeof c=="number"){n.go(c);return}let m=Qf(c,JSON.parse(l),s,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:hr([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,l,s,e])}function Wh(e,t){return Vh(e,t)}function Vh(e,t,r,n){sa()||we(!1);let{navigator:a}=y.useContext(aa),{matches:s}=y.useContext(Sr),l=s[s.length-1],i=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let c=Bs(),d;if(t){var m;let v=typeof t=="string"?nn(t):t;u==="/"||(m=v.pathname)!=null&&m.startsWith(u)||we(!1),d=v}else d=c;let p=d.pathname||"/",C=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");C="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=kh(e,{pathname:C}),b=Kh(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},i,v.params),pathname:hr([u,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:hr([u,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return t&&b?y.createElement(Is.Provider,{value:{location:Kn({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Wt.Pop}},b):b}function Xh(){let e=eg(),t=Bh(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,s)}const Yh=y.createElement(Xh,null);class Qh extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Sr.Provider,{value:this.props.routeContext},y.createElement(Kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qh(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(Ci);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Sr.Provider,{value:t},n)}function Kh(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,i=(a=r)==null?void 0:a.errors;if(i!=null){let d=l.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);d>=0||we(!1),l=l.slice(0,Math.min(l.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let m=l[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:p,errors:C}=r,g=m.route.loader&&p[m.route.id]===void 0&&(!C||C[m.route.id]===void 0);if(m.route.lazy||g){u=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((d,m,p)=>{let C,g=!1,b=null,v=null;r&&(C=i&&m.route.id?i[m.route.id]:void 0,b=m.route.errorElement||Yh,u&&(c<0&&p===0?(rg("route-fallback",!1),g=!0,v=null):c===p&&(g=!0,v=m.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,p+1)),f=()=>{let x;return C?x=b:g?x=v:m.route.Component?x=y.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=d,y.createElement(qh,{match:m,routeContext:{outlet:d,matches:h,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?y.createElement(Qh,{location:r.location,revalidation:r.revalidation,component:b,error:C,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var Gf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gf||{}),vs=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vs||{});function Jh(e){let t=y.useContext(Ci);return t||we(!1),t}function Gh(e){let t=y.useContext(Uh);return t||we(!1),t}function Zh(e){let t=y.useContext(Sr);return t||we(!1),t}function Zf(e){let t=Zh(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function eg(){var e;let t=y.useContext(Kf),r=Gh(vs.UseRouteError),n=Zf(vs.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function tg(){let{router:e}=Jh(Gf.UseNavigateStable),t=Zf(vs.UseNavigateStable),r=y.useRef(!1);return Jf(()=>{r.current=!0}),y.useCallback(function(a,s){s===void 0&&(s={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Kn({fromRouteId:t},s)))},[e,t])}const Gu={};function rg(e,t,r){!t&&!Gu[e]&&(Gu[e]=!0)}function ng(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function em(e){let{to:t,replace:r,state:n,relative:a}=e;sa()||we(!1);let{future:s,static:l}=y.useContext(aa),{matches:i}=y.useContext(Sr),{pathname:u}=Bs(),c=Ei(),d=Qf(t,Yf(i,s.v7_relativeSplatPath),u,a==="path"),m=JSON.stringify(d);return y.useEffect(()=>c(JSON.parse(m),{replace:r,state:n,relative:a}),[c,m,a,r,n]),null}function kt(e){we(!1)}function ag(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Wt.Pop,navigator:s,static:l=!1,future:i}=e;sa()&&we(!1);let u=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:u,navigator:s,static:l,future:Kn({v7_relativeSplatPath:!1},i)}),[u,i,s,l]);typeof n=="string"&&(n=nn(n));let{pathname:d="/",search:m="",hash:p="",state:C=null,key:g="default"}=n,b=y.useMemo(()=>{let v=Xf(d,u);return v==null?null:{location:{pathname:v,search:m,hash:p,state:C,key:g},navigationType:a}},[u,d,m,p,C,g,a]);return b==null?null:y.createElement(aa.Provider,{value:c},y.createElement(Is.Provider,{children:r,value:b}))}function sg(e){let{children:t,location:r}=e;return Wh(jl(t),r)}new Promise(()=>{});function jl(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let s=[...t,a];if(n.type===y.Fragment){r.push.apply(r,jl(n.props.children,s));return}n.type!==kt&&we(!1),!n.props.index||!n.props.children||we(!1);let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=jl(n.props.children,s)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const og="6";try{window.__reactRouterVersion=og}catch{}const lg="startTransition",Zu=sp[lg];function ig(e){let{basename:t,children:r,future:n,window:a}=e,s=y.useRef();s.current==null&&(s.current=yh({window:a,v5Compat:!0}));let l=s.current,[i,u]=y.useState({action:l.action,location:l.location}),{v7_startTransition:c}=n||{},d=y.useCallback(m=>{c&&Zu?Zu(()=>u(m)):u(m)},[u,c]);return y.useLayoutEffect(()=>l.listen(d),[l,d]),y.useEffect(()=>ng(n),[n]),y.createElement(ag,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:l,future:n})}var ec;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ec||(ec={}));var tc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tc||(tc={}));const tm=y.createContext(),tr=()=>{const e=y.useContext(tm);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},ug=({children:e})=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0);y.useEffect(()=>{const c=new URLSearchParams(window.location.search),d=c.has("logout"),m=c.has("forcelogin")||c.has("nologin");d&&localStorage.removeItem("token"),m||localStorage.getItem("token")&&r({nombre:"Administrator MapShade",email:"admin@mapshade.com",rol:"admin"}),a(!1)},[]);const u={user:t,loading:n,login:async(c,d)=>(await new Promise(m=>setTimeout(m,1e3)),c==="admin"&&d==="123456"?(r({nombre:"Administrator MapShade",email:"admin@mapshade.com",rol:"admin"}),localStorage.setItem("token","admin-token-2024"),{success:!0,message:"Access granted"}):c==="user"&&d==="123456"?(r({nombre:"User Demo",email:"user@mapshade.com",rol:"usuario"}),localStorage.setItem("token","user-token-2024"),{success:!0,message:"Access granted"}):{success:!1,message:"Invalid credentials"}),logout:()=>{r(null),localStorage.removeItem("token"),typeof window<"u"&&(window.location.href="/login?logout&forcelogin")},isAdmin:()=>(t==null?void 0:t.rol)==="admin"};return o.jsx(tm.Provider,{value:u,children:e})},rm=y.createContext({theme:"dark",toggleTheme:()=>{},setTheme:()=>{}}),rc="ms.theme.pref",cg=({children:e})=>{const[t,r]=y.useState(()=>{var i;if(typeof window>"u")return"dark";const s=localStorage.getItem(rc);return s==="light"||s==="dark"?s:((i=window.matchMedia)==null?void 0:i.call(window,"(prefers-color-scheme: dark)").matches)?"dark":"light"});y.useEffect(()=>{const s=document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark");try{localStorage.setItem(rc,t)}catch{}},[t]);const n=y.useCallback(()=>{r(s=>s==="dark"?"light":"dark")},[]),a={theme:t,setTheme:r,toggleTheme:n};return o.jsx(rm.Provider,{value:a,children:e})},dg=()=>y.useContext(rm);function fg({hiding:e}){return o.jsxs("div",{className:`fixed inset-0 z-50 overflow-hidden transition-opacity duration-700 ease-out ${e?"opacity-0":"opacity-100"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0e0e11] via-[#0a0a0d] to-black"}),o.jsx("div",{className:"absolute -top-1/4 -left-1/4 h-[120vmin] w-[120vmin] rounded-full bg-[radial-gradient(circle_at_center,rgba(255,0,0,0.08),transparent_60%)] animate-pulse opacity-70"}),o.jsx("div",{className:"absolute -bottom-1/3 -right-1/3 h-[120vmin] w-[120vmin] rounded-full bg-[radial-gradient(circle_at_center,rgba(128,0,128,0.08),transparent_60%)] animate-pulse [animation-delay:200ms] opacity-70"}),o.jsx("div",{className:"relative h-full grid place-items-center",children:o.jsxs("h1",{className:"animate-fadeIn text-[48px] sm:text-[56px] md:text-[64px] font-extrabold tracking-tight",children:[o.jsx("span",{className:"text-white",children:"Welcome to "}),o.jsx("span",{className:"text-red-600",children:"Map"}),o.jsx("span",{className:"text-white",children:" "}),o.jsx("span",{className:"text-red-600",children:"Shade"})]})})]})}const mg=()=>{const[e,t]=y.useState(!0),[r,n]=y.useState(!1),[a,s]=y.useState({username:"",password:""}),[l,i]=y.useState(!1),{login:u,user:c}=tr(),d=Ei();y.useEffect(()=>{if(typeof window>"u")return;let p=!1,C=!1;try{p=window.location.search.includes("nowelcome"),C=sessionStorage.getItem("ms_welcome_shown")==="1"}catch{}if(p||C){t(!1);return}const g=setTimeout(()=>n(!0),1400),b=setTimeout(()=>{t(!1);try{sessionStorage.setItem("ms_welcome_shown","1")}catch{}},2e3),v=setTimeout(()=>{n(!0),t(!1)},5e3);return()=>{clearTimeout(g),clearTimeout(b),clearTimeout(v)}},[]),y.useEffect(()=>{const C=new URLSearchParams(window.location.search).has("forcelogin");c&&!C&&d("/")},[c,d]);const m=async p=>{p.preventDefault(),i(!0),(await u(a.username,a.password)).success&&setTimeout(()=>d("/"),500),i(!1)};return o.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-[#0f1013] via-[#0b0c0f] to-black",children:[e&&o.jsxs(o.Fragment,{children:[o.jsx(fg,{hiding:r}),o.jsx("button",{type:"button",onClick:()=>{n(!0),t(!1)},className:"fixed bottom-4 right-4 z-[60] px-3 py-1.5 text-xs rounded-md bg-white/10 hover:bg-white/20 text-white backdrop-blur border border-white/20 transition",children:"Skip"})]}),o.jsx("div",{className:`pointer-events-none absolute -top-24 left-1/3 h-80 w-80 rounded-full blur-3xl opacity-20 bg-purple-700 transition-opacity duration-700 ${r||!e?"opacity-20":"opacity-30"}`}),o.jsx("div",{className:`pointer-events-none absolute -bottom-32 right-1/4 h-96 w-96 rounded-full blur-3xl opacity-15 bg-red-700 transition-opacity duration-700 ${r||!e?"opacity-15":"opacity-25"}`}),o.jsxs("div",{className:`relative max-w-6xl mx-auto px-8 pt-20 transition-all duration-700 ease-out ${e?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,children:[o.jsxs("div",{className:"leading-none",children:[o.jsx("div",{className:"text-white font-extrabold tracking-tight text-[110px]",children:"Map"}),o.jsx("div",{className:"text-red-600 font-extrabold tracking-tight text-[110px] -mt-6 ml-24",children:"Shade"})]}),o.jsxs("form",{className:`mt-10 w-[720px] rounded-[28px] border-[3px] border-red-600/80 p-10 text-white shadow-[0_0_40px_rgba(0,0,0,0.6)] bg-[linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02))] backdrop-blur-[2px] transition-all duration-700 ease-out ${e?"opacity-0 translate-y-2":"opacity-100 translate-y-0"}`,onSubmit:m,children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("label",{htmlFor:"username",className:"text-2xl font-extrabold",children:"Username"}),o.jsx("input",{id:"username",name:"username",type:"text",value:a.username,onChange:p=>s({...a,username:p.target.value}),className:"w-[440px] h-10 rounded-lg border border-white/70 bg-black/60 px-4 text-white outline-none focus:ring-2 focus:ring-red-500 focus:border-red-400 transition",autoComplete:"username",required:!0})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("label",{htmlFor:"password",className:"text-2xl font-extrabold",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",value:a.password,onChange:p=>s({...a,password:p.target.value}),className:"w-[440px] h-10 rounded-lg border border-white/70 bg-black/60 px-4 text-white outline-none focus:ring-2 focus:ring-red-500 focus:border-red-400 transition",autoComplete:"current-password",required:!0})]}),o.jsx("div",{className:"mt-10 flex justify-center",children:o.jsx("button",{type:"submit",className:"h-12 px-10 rounded-full bg-gradient-to-r from-purple-800 to-pink-600 text-white text-xl font-extrabold shadow-lg hover:brightness-110 active:scale-95 transition will-change-transform",children:l?"ACCESSING SYSTEM...":"LOGIN TO DASHBOARD"})})]})]})]})};var pg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),re=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,children:i,...u},c)=>y.createElement("svg",{ref:c,...pg,width:a,height:a,stroke:n,strokeWidth:l?Number(s)*24/Number(a):s,className:`lucide lucide-${hg(e)}`,...u},[...t.map(([d,m])=>y.createElement(d,m)),...(Array.isArray(i)?i:[i])||[]]));return r.displayName=`${e}`,r},gg=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),nm=re("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),yg=re("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),xg=re("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Pi=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),_i=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),vg=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),kg=re("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Nl=re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),nc=re("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),bg=re("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),wg=re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ac=re("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),am=re("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),Tn=re("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),jg=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Ng=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),sc=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Sg=re("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]),sm=re("Move",[["polyline",{points:"5 9 2 12 5 15",key:"1r5uj5"}],["polyline",{points:"9 5 12 2 15 5",key:"5v383o"}],["polyline",{points:"15 19 12 22 9 19",key:"g7qi8m"}],["polyline",{points:"19 9 22 12 19 15",key:"tpp73q"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}]]),Cg=re("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),om=re("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),$s=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Eg=re("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),ks=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Pg=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),lm=re("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),oc=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),br=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),_g=re("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Cr=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ae=512,lc="ms.tiles.v1",No="ms.map.view.v1";function Rg(e){const[t,r]=y.useState(()=>{try{const n=JSON.parse(localStorage.getItem(lc)||"[]");if(Array.isArray(n)&&n.length)return n}catch{}return e?[{x:0,y:0,url:e}]:[]});return y.useEffect(()=>{try{localStorage.setItem(lc,JSON.stringify(t))}catch{}},[t]),[t,r]}function Tg({initialImage:e="/demo/ejemplo.png",className:t,isAdmin:r=!0,isTiling:n=!1,onViewInfo:a,onContainer:s,points:l=[],onPointSelect:i,isMoving:u=!1,onPointMove:c,isDeleting:d=!1,onPointDelete:m}){const[p,C]=Rg(e),[g,b]=y.useState(.5),[v,h]=y.useState({x:0,y:0}),f=y.useRef(null),x=y.useRef(null),N=y.useRef(null),k=y.useMemo(()=>{if(!p.length)return{minX:0,maxX:0,minY:0,maxY:0};const w=p.map(M=>M.x),S=p.map(M=>M.y);return{minX:Math.min(...w),maxX:Math.max(...w),minY:Math.min(...S),maxY:Math.max(...S)}},[p]),R=k.maxX-k.minX+1,z=k.maxY-k.minY+1,L=R*ae,U=z*ae;y.useEffect(()=>{const w=N.current;if(!w)return;s==null||s(w);try{const M=JSON.parse(localStorage.getItem(No)||"null");if(M&&typeof M.scale=="number"&&M.offset&&typeof M.offset.x=="number"){b(Math.min(2,Math.max(.25,M.scale))),h({x:M.offset.x,y:M.offset.y}),a==null||a({scale:M.scale,offset:{x:M.offset.x,y:M.offset.y},tileSize:ae,gridOffX:k.minX||0,gridOffY:k.minY||0,minX:k.minX||0,minY:k.minY||0,maxX:k.maxX||0,maxY:k.maxY||0});return}}catch{}const S=w.getBoundingClientRect();h({x:(S.width-L*g)/2,y:(S.height-U*g)/2}),a==null||a({scale:g,offset:{x:(S.width-L*g)/2,y:(S.height-U*g)/2},tileSize:ae,gridOffX:k.minX||0,gridOffY:k.minY||0,minX:k.minX||0,minY:k.minY||0,maxX:k.maxX||0,maxY:k.maxY||0})},[]);const B=w=>{w.preventDefault();const S=N.current;if(!S)return;const M=S.getBoundingClientRect(),X=w.clientX-M.left,H=w.clientY-M.top,q=g,J=Math.min(2,Math.max(.25,g*(w.deltaY>0?.9:1.1))),ue=X-v.x,Ae=H-v.y,ve=X-ue*J/q,O=H-Ae*J/q;b(J);const Y={x:ve,y:O};h(Y),a==null||a({scale:J,offset:Y,tileSize:ae,gridOffX:k.minX||0,gridOffY:k.minY||0,minX:k.minX||0,minY:k.minY||0,maxX:k.maxX||0,maxY:k.maxY||0});try{localStorage.setItem(No,JSON.stringify({scale:J,offset:Y}))}catch{}},$=w=>{w.button!==0&&w.pointerType!=="touch"||x.current||(f.current={x:w.clientX,y:w.clientY,ox:v.x,oy:v.y},window.addEventListener("pointermove",A),window.addEventListener("pointerup",Q,{once:!0}))},A=w=>{if(!f.current)return;const{x:S,y:M,ox:X,oy:H}=f.current,q={x:X+(w.clientX-S),y:H+(w.clientY-M)};h(q),a==null||a({scale:g,offset:q,tileSize:ae,gridOffX:k.minX||0,gridOffY:k.minY||0,minX:k.minX||0,minY:k.minY||0,maxX:k.maxX||0,maxY:k.maxY||0})},Q=()=>{f.current=null,window.removeEventListener("pointermove",A);try{localStorage.setItem(No,JSON.stringify({scale:g,offset:v}))}catch{}},K=(w,S)=>`${w}_${S}`,D=(w,S)=>{const M=document.createElement("input");M.type="file",M.accept=".png,.jpg,.jpeg",M.onchange=()=>{var q;const X=(q=M.files)==null?void 0:q[0];if(!X)return;const H=URL.createObjectURL(X);C(J=>[...J.filter(Ae=>!(Ae.x===w&&Ae.y===S)),{x:w,y:S,url:H}])},M.click()},_=(w,S)=>{C(M=>M.filter(X=>!(X.x===w&&X.y===S)))},W=({style:w,onClick:S})=>o.jsx("button",{className:"pointer-events-auto",onClick:S,title:"Agregar sección",style:{position:"absolute",padding:"10px 18px",borderRadius:9999,border:"2px solid #ff4d4f",background:"rgba(13,18,28,.85)",color:"#fff",fontSize:18,boxShadow:"0 6px 18px rgba(0,0,0,.25)",...w},children:"+"}),j=28,T=y.useMemo(()=>new Set(p.map(w=>`${w.x}_${w.y}`)),[p]),E=(w,S)=>T.has(`${w}_${S}`),F=w=>({left:v.x+w.left*g,top:v.y+w.top*g,transform:"translate(-50%, -50%)"});return y.useEffect(()=>{N.current&&(a==null||a({scale:g,offset:v,tileSize:ae,gridOffX:k.minX||0,gridOffY:k.minY||0,minX:k.minX||0,minY:k.minY||0,maxX:k.maxX||0,maxY:k.maxY||0}))},[k.minX,k.minY,k.maxX,k.maxY,g,v,a]),o.jsxs("div",{ref:N,className:t,style:{position:"absolute",inset:0,background:"#000",overflow:"hidden",touchAction:"none",cursor:r&&n?"crosshair":"default"},onWheel:B,onPointerDown:$,children:[o.jsx("div",{style:{position:"absolute",left:v.x,top:v.y,width:L,height:U,transform:`scale(${g})`,transformOrigin:"top left",backgroundColor:"#fff",backgroundImage:`linear-gradient(to right, rgba(0,0,0,.08) 1px, transparent 1px),
             linear-gradient(to bottom, rgba(0,0,0,.08) 1px, transparent 1px)`,backgroundSize:`${ae}px ${ae}px, ${ae}px ${ae}px`,boxShadow:"0 0 0 9999px #000"},children:p.map(w=>o.jsx("div",{onClick:S=>{r&&n&&(S.stopPropagation(),S.ctrlKey||S.metaKey?_(w.x,w.y):D(w.x,w.y))},style:{position:"absolute",left:(w.x-k.minX)*ae,top:(w.y-k.minY)*ae,width:ae,height:ae,backgroundImage:`url("${w.url}")`,backgroundSize:"cover",backgroundPosition:"center",cursor:r&&n?"pointer":"default"},title:r&&n?`(${w.x}, ${w.y}) — Click: reemplazar | Ctrl+Click: borrar`:`(${w.x}, ${w.y})`},K(w.x,w.y)))}),o.jsxs("div",{className:"pointer-events-none",style:{position:"absolute",inset:0},children:[Array.isArray(l)&&l.length>0&&l.map(w=>{var q,J,ue;const S=(q=w==null?void 0:w.coordenadas)==null?void 0:q.x,M=(J=w==null?void 0:w.coordenadas)==null?void 0:J.y;if(typeof S!="number"||typeof M!="number")return null;const X=S-(k.minX||0)*ae,H=M-(k.minY||0)*ae;return o.jsx("button",{className:`absolute pointer-events-auto p-2 -m-2 group ${u?"cursor-grab active:cursor-grabbing":"cursor-pointer"}`,style:F({left:X,top:H}),title:`${(w==null?void 0:w.nombre)||"Punto"}${(ue=w==null?void 0:w.compañia)!=null&&ue.nombre?" — "+w.compañia.nombre:""}`,"aria-label":`${(w==null?void 0:w.nombre)||"Punto"} — abrir panel`,onClick:Ae=>{if(Ae.stopPropagation(),d){const ve=(w==null?void 0:w.nombre)||"punto";confirm(`¿Borrar ${ve}?`)&&(m==null||m(w));return}u||i==null||i(w)},onPointerDown:Ae=>{if(!u)return;Ae.stopPropagation(),x.current={point:w};const ve=Y=>{},O=Y=>{var Ai,Fi;window.removeEventListener("pointermove",ve),window.removeEventListener("pointerup",O);const se=N.current;if(!se){x.current=null;return}const ee=se.getBoundingClientRect(),lt=Y.clientX-ee.left,he=Y.clientY-ee.top,Fe=(lt-v.x)/g,Qs=(he-v.y)/g,on=Math.round(Fe+(k.minX||0)*ae),qs=Math.round(Qs+(k.minY||0)*ae),Bm=(Ai=w==null?void 0:w.coordenadas)==null?void 0:Ai.x,$m=(Fi=w==null?void 0:w.coordenadas)==null?void 0:Fi.y;x.current=null,typeof on=="number"&&typeof qs=="number"&&(on!==Bm||qs!==$m)&&(c==null||c(w,on,qs))};window.addEventListener("pointermove",ve),window.addEventListener("pointerup",O,{once:!0})},children:o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 ring-2 ring-white shadow-sm drop-shadow-[0_1px_1px_rgba(0,0,0,0.2)] transition-transform duration-150 group-hover:scale-110"})},w._id||w.id||`${S}-${M}-${(w==null?void 0:w.nombre)||""}`)}),r&&n&&p.map(w=>{const S=(w.x-k.minX)*ae,M=(w.y-k.minY)*ae,X=[];return E(w.x,w.y-1)||X.push(o.jsx(W,{style:F({left:S+ae/2,top:M-j}),onClick:()=>D(w.x,w.y-1)},`top-${w.x}_${w.y}`)),E(w.x,w.y+1)||X.push(o.jsx(W,{style:F({left:S+ae/2,top:M+ae+j}),onClick:()=>D(w.x,w.y+1)},`bottom-${w.x}_${w.y}`)),E(w.x-1,w.y)||X.push(o.jsx(W,{style:F({left:S-j,top:M+ae/2}),onClick:()=>D(w.x-1,w.y)},`left-${w.x}_${w.y}`)),E(w.x+1,w.y)||X.push(o.jsx(W,{style:F({left:S+ae+j,top:M+ae/2}),onClick:()=>D(w.x+1,w.y)},`right-${w.x}_${w.y}`)),X}),o.jsxs("div",{style:{position:"absolute",left:"calc(env(safe-area-inset-left) + 12px)",bottom:"calc(env(safe-area-inset-bottom) + 12px)",color:"#9aa4b2",fontSize:12},children:["Zoom: ",Math.round(g*100),"%"]})]})]})}const im=y.createContext({mode:"idle",setMode:()=>{},resetMode:()=>{},is:()=>!1,lastPointCreated:null,setLastPointCreated:()=>{}}),zg=({children:e,initialMode:t="idle",disabled:r=!1})=>{const[n,a]=y.useState(t),[s,l]=y.useState(null),i=y.useRef(t),u=y.useCallback(m=>{r||(i.current=n,a(m))},[n,r]),c=y.useCallback(()=>u("idle"),[u]),d=y.useCallback(m=>n===m,[n]);return o.jsx(im.Provider,{value:{mode:n,setMode:u,resetMode:c,is:d,lastPointCreated:s,setLastPointCreated:l},children:e})},Jn=()=>y.useContext(im);function Lg({onViewInfo:e,onContainer:t,points:r=[],onPointSelect:n,isMoving:a=!1,onPointMove:s,onPointDelete:l}){const i=(typeof tr=="function"?tr():{})||{},u=typeof i.isAdmin=="function"?!!i.isAdmin():!!i.isAdmin,{mode:c}=typeof Jn=="function"?Jn():{mode:"idle"},d=c==="tiling",m=c==="deleting";return o.jsx("div",{className:"relative w-full h-full",children:o.jsx(Tg,{className:"absolute inset-0",isAdmin:u,isTiling:d,onViewInfo:e,onContainer:t,points:r,onPointSelect:n,isMoving:a,onPointMove:s,isDeleting:m,onPointDelete:l})})}const Og=(...e)=>e.filter(Boolean).join(" "),Mg="inline-flex items-center justify-center rounded-md font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 text-sm",Ag={solid:"bg-primary-600 hover:bg-primary-500 text-white focus-visible:ring-primary-400 ring-offset-transparent",outline:"border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 focus-visible:ring-primary-400",subtle:"bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-800 dark:text-gray-200 focus-visible:ring-primary-400",ghost:"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 focus-visible:ring-primary-400",icon:"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-white/10 focus-visible:ring-primary-400"},Fg={sm:"h-8 px-3 text-xs",md:"h-10 px-4",lg:"h-12 px-6 text-base",icon:"h-9 w-9 p-0"},xe=y.forwardRef(function({variant:t="solid",size:r="md",className:n="",children:a,as:s="button",...l},i){return o.jsx(s,{ref:i,className:Og(Mg,Ag[t],Fg[r],n),...l,children:a})}),ic=(...e)=>e.filter(Boolean).join(" "),Dg=[{key:"adding",label:"Agregar punto",icon:$s},{key:"moving",label:"Mover punto",icon:sm},{key:"deleting",label:"Borrar punto",icon:br},{key:"tiling",label:"Editar mosaicos",icon:am}];function Ig({isAdmin:e}){const{mode:t,setMode:r,resetMode:n,is:a}=Jn(),[s,l]=y.useState(!1),i=y.useRef(null),u=y.useRef(null),c=y.useCallback(()=>l(p=>!p),[]),d=y.useCallback(()=>l(!1),[]);y.useEffect(()=>{if(!s)return;const p=C=>{var g;i.current&&(i.current.contains(C.target)||(g=u.current)!=null&&g.contains(C.target)||d())};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[s,d]),y.useEffect(()=>{const p=C=>{var g;C.key==="Escape"&&(s?(d(),n(),(g=u.current)==null||g.focus()):t!=="idle"&&n())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[s,t,n,d]);const m=p=>{t===p?n():r(p),d()};return e?o.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:o.jsxs("div",{className:"flex flex-col items-end gap-3",children:[s&&o.jsx("div",{ref:i,role:"menu","aria-label":"Acciones del mapa",className:"p-2 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/90 backdrop-blur-sm flex flex-col gap-1 w-48 animate-fade-in",children:Dg.map(p=>{const C=p.icon,g=a(p.key);return o.jsxs("button",{role:"menuitemradio","aria-checked":g,onClick:()=>m(p.key),className:ic("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 ring-offset-2 ring-primary-500",g?"bg-primary-600 text-white shadow":"bg-white/70 dark:bg-gray-700/60 text-gray-800 dark:text-gray-100 hover:bg-primary-50 dark:hover:bg-gray-600"),children:[o.jsx(C,{size:16}),o.jsx("span",{className:"flex-1 text-left",children:p.label}),g&&o.jsx(Cr,{size:14,className:"opacity-80"})]},p.key)})}),o.jsxs(xe,{ref:u,variant:"solid","aria-haspopup":"true","aria-expanded":s,"aria-label":"Acciones del mapa",onClick:c,className:ic("h-14 w-14 rounded-full p-0 flex items-center justify-center shadow-lg transition-transform",t!=="idle"?"bg-primary-600 hover:bg-primary-500":"bg-primary-500 hover:bg-primary-400"),children:[t==="idle"&&o.jsx(Sg,{size:26}),t==="adding"&&o.jsx($s,{size:26}),t==="moving"&&o.jsx(sm,{size:26}),t==="deleting"&&o.jsx(br,{size:26}),t==="tiling"&&o.jsx(am,{size:26})]})]})}):null}const um=y.createContext({screenToBoard:(e,t)=>({x:e,y:t}),boardToScreen:(e,t)=>({x:e,y:t}),container:null,tileSize:512,gridOffX:0,gridOffY:0,ready:!1,minX:0,minY:0,maxX:0,maxY:0});function Bg({value:e,children:t}){return o.jsx(um.Provider,{value:e,children:t})}function $g(){return y.useContext(um)}function cm(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ug}=Object.prototype,{getPrototypeOf:Ri}=Object,{iterator:Us,toStringTag:dm}=Symbol,Hs=(e=>t=>{const r=Ug.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yt=e=>(e=e.toLowerCase(),t=>Hs(t)===e),Ws=e=>t=>typeof t===e,{isArray:an}=Array,Zr=Ws("undefined");function oa(e){return e!==null&&!Zr(e)&&e.constructor!==null&&!Zr(e.constructor)&&Qe(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fm=yt("ArrayBuffer");function Hg(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fm(e.buffer),t}const Wg=Ws("string"),Qe=Ws("function"),mm=Ws("number"),la=e=>e!==null&&typeof e=="object",Vg=e=>e===!0||e===!1,$a=e=>{if(Hs(e)!=="object")return!1;const t=Ri(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(dm in e)&&!(Us in e)},Xg=e=>{if(!la(e)||oa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Yg=yt("Date"),Qg=yt("File"),qg=yt("Blob"),Kg=yt("FileList"),Jg=e=>la(e)&&Qe(e.pipe),Gg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Qe(e.append)&&((t=Hs(e))==="formdata"||t==="object"&&Qe(e.toString)&&e.toString()==="[object FormData]"))},Zg=yt("URLSearchParams"),[ey,ty,ry,ny]=["ReadableStream","Request","Response","Headers"].map(yt),ay=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ia(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),an(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(oa(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let i;for(n=0;n<l;n++)i=s[n],t.call(null,e[i],i,e)}}function pm(e,t){if(oa(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const fr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),hm=e=>!Zr(e)&&e!==fr;function Sl(){const{caseless:e,skipUndefined:t}=hm(this)&&this||{},r={},n=(a,s)=>{const l=e&&pm(r,s)||s;$a(r[l])&&$a(a)?r[l]=Sl(r[l],a):$a(a)?r[l]=Sl({},a):an(a)?r[l]=a.slice():(!t||!Zr(a))&&(r[l]=a)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&ia(arguments[a],n);return r}const sy=(e,t,r,{allOwnKeys:n}={})=>(ia(t,(a,s)=>{r&&Qe(a)?e[s]=cm(a,r):e[s]=a},{allOwnKeys:n}),e),oy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ly=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},iy=(e,t,r,n)=>{let a,s,l;const i={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],(!n||n(l,e,t))&&!i[l]&&(t[l]=e[l],i[l]=!0);e=r!==!1&&Ri(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},uy=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},cy=e=>{if(!e)return null;if(an(e))return e;let t=e.length;if(!mm(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},dy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ri(Uint8Array)),fy=(e,t)=>{const n=(e&&e[Us]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},my=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},py=yt("HTMLFormElement"),hy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),uc=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),gy=yt("RegExp"),gm=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ia(r,(a,s)=>{let l;(l=t(a,s,e))!==!1&&(n[s]=l||a)}),Object.defineProperties(e,n)},yy=e=>{gm(e,(t,r)=>{if(Qe(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Qe(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},xy=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return an(e)?n(e):n(String(e).split(t)),r},vy=()=>{},ky=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function by(e){return!!(e&&Qe(e.append)&&e[dm]==="FormData"&&e[Us])}const wy=e=>{const t=new Array(10),r=(n,a)=>{if(la(n)){if(t.indexOf(n)>=0)return;if(oa(n))return n;if(!("toJSON"in n)){t[a]=n;const s=an(n)?[]:{};return ia(n,(l,i)=>{const u=r(l,a+1);!Zr(u)&&(s[i]=u)}),t[a]=void 0,s}}return n};return r(e,0)},jy=yt("AsyncFunction"),Ny=e=>e&&(la(e)||Qe(e))&&Qe(e.then)&&Qe(e.catch),ym=((e,t)=>e?setImmediate:t?((r,n)=>(fr.addEventListener("message",({source:a,data:s})=>{a===fr&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),fr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Qe(fr.postMessage)),Sy=typeof queueMicrotask<"u"?queueMicrotask.bind(fr):typeof process<"u"&&process.nextTick||ym,Cy=e=>e!=null&&Qe(e[Us]),P={isArray:an,isArrayBuffer:fm,isBuffer:oa,isFormData:Gg,isArrayBufferView:Hg,isString:Wg,isNumber:mm,isBoolean:Vg,isObject:la,isPlainObject:$a,isEmptyObject:Xg,isReadableStream:ey,isRequest:ty,isResponse:ry,isHeaders:ny,isUndefined:Zr,isDate:Yg,isFile:Qg,isBlob:qg,isRegExp:gy,isFunction:Qe,isStream:Jg,isURLSearchParams:Zg,isTypedArray:dy,isFileList:Kg,forEach:ia,merge:Sl,extend:sy,trim:ay,stripBOM:oy,inherits:ly,toFlatObject:iy,kindOf:Hs,kindOfTest:yt,endsWith:uy,toArray:cy,forEachEntry:fy,matchAll:my,isHTMLForm:py,hasOwnProperty:uc,hasOwnProp:uc,reduceDescriptors:gm,freezeMethods:yy,toObjectSet:xy,toCamelCase:hy,noop:vy,toFiniteNumber:ky,findKey:pm,global:fr,isContextDefined:hm,isSpecCompliantForm:by,toJSONObject:wy,isAsyncFn:jy,isThenable:Ny,setImmediate:ym,asap:Sy,isIterable:Cy};function G(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}P.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const xm=G.prototype,vm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vm[e]={value:e}});Object.defineProperties(G,vm);Object.defineProperty(xm,"isAxiosError",{value:!0});G.from=(e,t,r,n,a,s)=>{const l=Object.create(xm);P.toFlatObject(e,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const i=e&&e.message?e.message:"Error",u=t==null&&e?e.code:t;return G.call(l,i,u,r,n,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const Ey=null;function Cl(e){return P.isPlainObject(e)||P.isArray(e)}function km(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function cc(e,t,r){return e?e.concat(t).map(function(a,s){return a=km(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function Py(e){return P.isArray(e)&&!e.some(Cl)}const _y=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function Vs(e,t,r){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,v){return!P.isUndefined(v[b])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,l=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(a))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(P.isDate(g))return g.toISOString();if(P.isBoolean(g))return g.toString();if(!u&&P.isBlob(g))throw new G("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(g)||P.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,b,v){let h=g;if(g&&!v&&typeof g=="object"){if(P.endsWith(b,"{}"))b=n?b:b.slice(0,-2),g=JSON.stringify(g);else if(P.isArray(g)&&Py(g)||(P.isFileList(g)||P.endsWith(b,"[]"))&&(h=P.toArray(g)))return b=km(b),h.forEach(function(x,N){!(P.isUndefined(x)||x===null)&&t.append(l===!0?cc([b],N,s):l===null?b:b+"[]",c(x))}),!1}return Cl(g)?!0:(t.append(cc(v,b,s),c(g)),!1)}const m=[],p=Object.assign(_y,{defaultVisitor:d,convertValue:c,isVisitable:Cl});function C(g,b){if(!P.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(g),P.forEach(g,function(h,f){(!(P.isUndefined(h)||h===null)&&a.call(t,h,P.isString(f)?f.trim():f,b,p))===!0&&C(h,b?b.concat(f):[f])}),m.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return C(e),t}function dc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ti(e,t){this._pairs=[],e&&Vs(e,this,t)}const bm=Ti.prototype;bm.append=function(t,r){this._pairs.push([t,r])};bm.toString=function(t){const r=t?function(n){return t.call(this,n,dc)}:dc;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Ry(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wm(e,t,r){if(!t)return e;const n=r&&r.encode||Ry;P.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=P.isURLSearchParams(t)?t.toString():new Ti(t,r).toString(n),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Ty{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(n){n!==null&&t(n)})}}const fc=Ty,jm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zy=typeof URLSearchParams<"u"?URLSearchParams:Ti,Ly=typeof FormData<"u"?FormData:null,Oy=typeof Blob<"u"?Blob:null,My={isBrowser:!0,classes:{URLSearchParams:zy,FormData:Ly,Blob:Oy},protocols:["http","https","file","blob","url","data"]},zi=typeof window<"u"&&typeof document<"u",El=typeof navigator=="object"&&navigator||void 0,Ay=zi&&(!El||["ReactNative","NativeScript","NS"].indexOf(El.product)<0),Fy=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Dy=zi&&window.location.href||"http://localhost",Iy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zi,hasStandardBrowserEnv:Ay,hasStandardBrowserWebWorkerEnv:Fy,navigator:El,origin:Dy},Symbol.toStringTag,{value:"Module"})),Oe={...Iy,...My};function By(e,t){return Vs(e,new Oe.classes.URLSearchParams,{visitor:function(r,n,a,s){return Oe.isNode&&P.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function $y(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Uy(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function Nm(e){function t(r,n,a,s){let l=r[s++];if(l==="__proto__")return!0;const i=Number.isFinite(+l),u=s>=r.length;return l=!l&&P.isArray(a)?a.length:l,u?(P.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!i):((!a[l]||!P.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],s)&&P.isArray(a[l])&&(a[l]=Uy(a[l])),!i)}if(P.isFormData(e)&&P.isFunction(e.entries)){const r={};return P.forEachEntry(e,(n,a)=>{t($y(n),a,r,0)}),r}return null}function Hy(e,t,r){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Li={transitional:jm,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=P.isObject(t);if(s&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return a?JSON.stringify(Nm(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return By(t,this.formSerializer).toString();if((i=P.isFileList(t))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Vs(i?{"files[]":t}:t,u&&new u,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),Hy(t)):t}],transformResponse:[function(t){const r=this.transitional||Li.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(i){if(l)throw i.name==="SyntaxError"?G.from(i,G.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oe.classes.FormData,Blob:Oe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{Li.headers[e]={}});const Oi=Li,Wy=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Vy=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&Wy[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},mc=Symbol("internals");function gn(e){return e&&String(e).trim().toLowerCase()}function Ua(e){return e===!1||e==null?e:P.isArray(e)?e.map(Ua):String(e)}function Xy(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const Yy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function So(e,t,r,n,a){if(P.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!P.isString(t)){if(P.isString(n))return t.indexOf(n)!==-1;if(P.isRegExp(n))return n.test(t)}}function Qy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function qy(e,t){const r=P.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,l){return this[n].call(this,t,a,s,l)},configurable:!0})})}class Xs{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(i,u,c){const d=gn(u);if(!d)throw new Error("header name must be a non-empty string");const m=P.findKey(a,d);(!m||a[m]===void 0||c===!0||c===void 0&&a[m]!==!1)&&(a[m||u]=Ua(i))}const l=(i,u)=>P.forEach(i,(c,d)=>s(c,d,u));if(P.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(P.isString(t)&&(t=t.trim())&&!Yy(t))l(Vy(t),r);else if(P.isObject(t)&&P.isIterable(t)){let i={},u,c;for(const d of t){if(!P.isArray(d))throw TypeError("Object iterator must return a key-value pair");i[c=d[0]]=(u=i[c])?P.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}l(i,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=gn(t),t){const n=P.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Xy(a);if(P.isFunction(r))return r.call(this,a,n);if(P.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=gn(t),t){const n=P.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||So(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(l){if(l=gn(l),l){const i=P.findKey(n,l);i&&(!r||So(n,n[i],i,r))&&(delete n[i],a=!0)}}return P.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||So(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return P.forEach(this,(a,s)=>{const l=P.findKey(n,s);if(l){r[l]=Ua(a),delete r[s];return}const i=t?Qy(s):String(s).trim();i!==s&&delete r[s],r[i]=Ua(a),n[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return P.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&P.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[mc]=this[mc]={accessors:{}}).accessors,a=this.prototype;function s(l){const i=gn(l);n[i]||(qy(a,l),n[i]=!0)}return P.isArray(t)?t.forEach(s):s(t),this}}Xs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Xs.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});P.freezeMethods(Xs);const ht=Xs;function Co(e,t){const r=this||Oi,n=t||r,a=ht.from(n.headers);let s=n.data;return P.forEach(e,function(i){s=i.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Sm(e){return!!(e&&e.__CANCEL__)}function sn(e,t,r){G.call(this,e??"canceled",G.ERR_CANCELED,t,r),this.name="CanceledError"}P.inherits(sn,G,{__CANCEL__:!0});function Cm(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new G("Request failed with status code "+r.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ky(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Jy(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,l;return t=t!==void 0?t:1e3,function(u){const c=Date.now(),d=n[s];l||(l=c),r[a]=u,n[a]=c;let m=s,p=0;for(;m!==a;)p+=r[m++],m=m%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),c-l<t)return;const C=d&&c-d;return C?Math.round(p*1e3/C):void 0}}function Gy(e,t){let r=0,n=1e3/t,a,s;const l=(c,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e(...c)};return[(...c)=>{const d=Date.now(),m=d-r;m>=n?l(c,d):(a=c,s||(s=setTimeout(()=>{s=null,l(a)},n-m)))},()=>a&&l(a)]}const bs=(e,t,r=3)=>{let n=0;const a=Jy(50,250);return Gy(s=>{const l=s.loaded,i=s.lengthComputable?s.total:void 0,u=l-n,c=a(u),d=l<=i;n=l;const m={loaded:l,total:i,progress:i?l/i:void 0,bytes:u,rate:c||void 0,estimated:c&&i&&d?(i-l)/c:void 0,event:s,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(m)},r)},pc=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},hc=e=>(...t)=>P.asap(()=>e(...t)),Zy=Oe.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Oe.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Oe.origin),Oe.navigator&&/(msie|trident)/i.test(Oe.navigator.userAgent)):()=>!0,ex=Oe.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const l=[e+"="+encodeURIComponent(t)];P.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),P.isString(n)&&l.push("path="+n),P.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rx(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Em(e,t,r){let n=!tx(t);return e&&(n||r==!1)?rx(e,t):t}const gc=e=>e instanceof ht?{...e}:e;function wr(e,t){t=t||{};const r={};function n(c,d,m,p){return P.isPlainObject(c)&&P.isPlainObject(d)?P.merge.call({caseless:p},c,d):P.isPlainObject(d)?P.merge({},d):P.isArray(d)?d.slice():d}function a(c,d,m,p){if(P.isUndefined(d)){if(!P.isUndefined(c))return n(void 0,c,m,p)}else return n(c,d,m,p)}function s(c,d){if(!P.isUndefined(d))return n(void 0,d)}function l(c,d){if(P.isUndefined(d)){if(!P.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function i(c,d,m){if(m in t)return n(c,d);if(m in e)return n(void 0,c)}const u={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(c,d,m)=>a(gc(c),gc(d),m,!0)};return P.forEach(Object.keys({...e,...t}),function(d){const m=u[d]||a,p=m(e[d],t[d],d);P.isUndefined(p)&&m!==i||(r[d]=p)}),r}const Pm=e=>{const t=wr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:i}=t;if(t.headers=l=ht.from(l),t.url=wm(Em(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),P.isFormData(r)){if(Oe.hasStandardBrowserEnv||Oe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(P.isFunction(r.getHeaders)){const u=r.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,m])=>{c.includes(d.toLowerCase())&&l.set(d,m)})}}if(Oe.hasStandardBrowserEnv&&(n&&P.isFunction(n)&&(n=n(t)),n||n!==!1&&Zy(t.url))){const u=a&&s&&ex.read(s);u&&l.set(a,u)}return t},nx=typeof XMLHttpRequest<"u",ax=nx&&function(e){return new Promise(function(r,n){const a=Pm(e);let s=a.data;const l=ht.from(a.headers).normalize();let{responseType:i,onUploadProgress:u,onDownloadProgress:c}=a,d,m,p,C,g;function b(){C&&C(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function h(){if(!v)return;const x=ht.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),k={data:!i||i==="text"||i==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:x,config:e,request:v};Cm(function(z){r(z),b()},function(z){n(z),b()},k),v=null}"onloadend"in v?v.onloadend=h:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(h)},v.onabort=function(){v&&(n(new G("Request aborted",G.ECONNABORTED,e,v)),v=null)},v.onerror=function(N){const k=N&&N.message?N.message:"Network Error",R=new G(k,G.ERR_NETWORK,e,v);R.event=N||null,n(R),v=null},v.ontimeout=function(){let N=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const k=a.transitional||jm;a.timeoutErrorMessage&&(N=a.timeoutErrorMessage),n(new G(N,k.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,v)),v=null},s===void 0&&l.setContentType(null),"setRequestHeader"in v&&P.forEach(l.toJSON(),function(N,k){v.setRequestHeader(k,N)}),P.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),i&&i!=="json"&&(v.responseType=a.responseType),c&&([p,g]=bs(c,!0),v.addEventListener("progress",p)),u&&v.upload&&([m,C]=bs(u),v.upload.addEventListener("progress",m),v.upload.addEventListener("loadend",C)),(a.cancelToken||a.signal)&&(d=x=>{v&&(n(!x||x.type?new sn(null,e,v):x),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const f=Ky(a.url);if(f&&Oe.protocols.indexOf(f)===-1){n(new G("Unsupported protocol "+f+":",G.ERR_BAD_REQUEST,e));return}v.send(s||null)})},sx=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(c){if(!a){a=!0,i();const d=c instanceof Error?c:this.reason;n.abort(d instanceof G?d:new sn(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,s(new G(`timeout ${t} of ms exceeded`,G.ETIMEDOUT))},t);const i=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>P.asap(i),u}},ox=sx,lx=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},ix=async function*(e,t){for await(const r of ux(e))yield*lx(r,t)},ux=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},yc=(e,t,r,n)=>{const a=ix(e,t);let s=0,l,i=u=>{l||(l=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await a.next();if(c){i(),u.close();return}let m=d.byteLength;if(r){let p=s+=m;r(p)}u.enqueue(new Uint8Array(d))}catch(c){throw i(c),c}},cancel(u){return i(u),a.return()}},{highWaterMark:2})},xc=64*1024,{isFunction:Ea}=P,cx=(({Request:e,Response:t})=>({Request:e,Response:t}))(P.global),{ReadableStream:vc,TextEncoder:kc}=P.global,bc=(e,...t)=>{try{return!!e(...t)}catch{return!1}},dx=e=>{e=P.merge.call({skipUndefined:!0},cx,e);const{fetch:t,Request:r,Response:n}=e,a=t?Ea(t):typeof fetch=="function",s=Ea(r),l=Ea(n);if(!a)return!1;const i=a&&Ea(vc),u=a&&(typeof kc=="function"?(g=>b=>g.encode(b))(new kc):async g=>new Uint8Array(await new r(g).arrayBuffer())),c=s&&i&&bc(()=>{let g=!1;const b=new r(Oe.origin,{body:new vc,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!b}),d=l&&i&&bc(()=>P.isReadableStream(new n("").body)),m={stream:d&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!m[g]&&(m[g]=(b,v)=>{let h=b&&b[g];if(h)return h.call(b);throw new G(`Response type '${g}' is not supported`,G.ERR_NOT_SUPPORT,v)})});const p=async g=>{if(g==null)return 0;if(P.isBlob(g))return g.size;if(P.isSpecCompliantForm(g))return(await new r(Oe.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(P.isArrayBufferView(g)||P.isArrayBuffer(g))return g.byteLength;if(P.isURLSearchParams(g)&&(g=g+""),P.isString(g))return(await u(g)).byteLength},C=async(g,b)=>{const v=P.toFiniteNumber(g.getContentLength());return v??p(b)};return async g=>{let{url:b,method:v,data:h,signal:f,cancelToken:x,timeout:N,onDownloadProgress:k,onUploadProgress:R,responseType:z,headers:L,withCredentials:U="same-origin",fetchOptions:B}=Pm(g),$=t||fetch;z=z?(z+"").toLowerCase():"text";let A=ox([f,x&&x.toAbortSignal()],N),Q=null;const K=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let D;try{if(R&&c&&v!=="get"&&v!=="head"&&(D=await C(L,h))!==0){let F=new r(b,{method:"POST",body:h,duplex:"half"}),w;if(P.isFormData(h)&&(w=F.headers.get("content-type"))&&L.setContentType(w),F.body){const[S,M]=pc(D,bs(hc(R)));h=yc(F.body,xc,S,M)}}P.isString(U)||(U=U?"include":"omit");const _=s&&"credentials"in r.prototype,W={...B,signal:A,method:v.toUpperCase(),headers:L.normalize().toJSON(),body:h,duplex:"half",credentials:_?U:void 0};Q=s&&new r(b,W);let j=await(s?$(Q,B):$(b,W));const T=d&&(z==="stream"||z==="response");if(d&&(k||T&&K)){const F={};["status","statusText","headers"].forEach(X=>{F[X]=j[X]});const w=P.toFiniteNumber(j.headers.get("content-length")),[S,M]=k&&pc(w,bs(hc(k),!0))||[];j=new n(yc(j.body,xc,S,()=>{M&&M(),K&&K()}),F)}z=z||"text";let E=await m[P.findKey(m,z)||"text"](j,g);return!T&&K&&K(),await new Promise((F,w)=>{Cm(F,w,{data:E,headers:ht.from(j.headers),status:j.status,statusText:j.statusText,config:g,request:Q})})}catch(_){throw K&&K(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,g,Q),{cause:_.cause||_}):G.from(_,_&&_.code,g,Q)}}},fx=new Map,_m=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let l=s.length,i=l,u,c,d=fx;for(;i--;)u=s[i],c=d.get(u),c===void 0&&d.set(u,c=i?new Map:dx(t)),d=c;return c};_m();const Pl={http:Ey,xhr:ax,fetch:{get:_m}};P.forEach(Pl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const wc=e=>`- ${e}`,mx=e=>P.isFunction(e)||e===null||e===!1,Rm={getAdapter:(e,t)=>{e=P.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let l=0;l<r;l++){n=e[l];let i;if(a=n,!mx(n)&&(a=Pl[(i=String(n)).toLowerCase()],a===void 0))throw new G(`Unknown adapter '${i}'`);if(a&&(P.isFunction(a)||(a=a.get(t))))break;s[i||"#"+l]=a}if(!a){const l=Object.entries(s).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=r?l.length>1?`since :
`+l.map(wc).join(`
`):" "+wc(l[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return a},adapters:Pl};function Eo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sn(null,e)}function jc(e){return Eo(e),e.headers=ht.from(e.headers),e.data=Co.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rm.getAdapter(e.adapter||Oi.adapter,e)(e).then(function(n){return Eo(e),n.data=Co.call(e,e.transformResponse,n),n.headers=ht.from(n.headers),n},function(n){return Sm(n)||(Eo(e),n&&n.response&&(n.response.data=Co.call(e,e.transformResponse,n.response),n.response.headers=ht.from(n.response.headers))),Promise.reject(n)})}const Tm="1.12.2",Ys={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ys[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Nc={};Ys.transitional=function(t,r,n){function a(s,l){return"[Axios v"+Tm+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,i)=>{if(t===!1)throw new G(a(l," has been removed"+(r?" in "+r:"")),G.ERR_DEPRECATED);return r&&!Nc[l]&&(Nc[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,l,i):!0}};Ys.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function px(e,t,r){if(typeof e!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],l=t[s];if(l){const i=e[s],u=i===void 0||l(i,s,e);if(u!==!0)throw new G("option "+s+" must be "+u,G.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new G("Unknown option "+s,G.ERR_BAD_OPTION)}}const Ha={assertOptions:px,validators:Ys},vt=Ha.validators;class ws{constructor(t){this.defaults=t||{},this.interceptors={request:new fc,response:new fc}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=wr(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Ha.assertOptions(n,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),a!=null&&(P.isFunction(a)?r.paramsSerializer={serialize:a}:Ha.assertOptions(a,{encode:vt.function,serialize:vt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ha.assertOptions(r,{baseUrl:vt.spelling("baseURL"),withXsrfToken:vt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&P.merge(s.common,s[r.method]);s&&P.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=ht.concat(l,s);const i=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(u=u&&b.synchronous,i.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let d,m=0,p;if(!u){const g=[jc.bind(this),void 0];for(g.unshift(...i),g.push(...c),p=g.length,d=Promise.resolve(r);m<p;)d=d.then(g[m++],g[m++]);return d}p=i.length;let C=r;for(;m<p;){const g=i[m++],b=i[m++];try{C=g(C)}catch(v){b.call(this,v);break}}try{d=jc.call(this,C)}catch(g){return Promise.reject(g)}for(m=0,p=c.length;m<p;)d=d.then(c[m++],c[m++]);return d}getUri(t){t=wr(this.defaults,t);const r=Em(t.baseURL,t.url,t.allowAbsoluteUrls);return wm(r,t.params,t.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(t){ws.prototype[t]=function(r,n){return this.request(wr(n||{},{method:t,url:r,data:(n||{}).data}))}});P.forEach(["post","put","patch"],function(t){function r(n){return function(s,l,i){return this.request(wr(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}ws.prototype[t]=r(),ws.prototype[t+"Form"]=r(!0)});const Wa=ws;class Mi{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const l=new Promise(i=>{n.subscribe(i),s=i}).then(a);return l.cancel=function(){n.unsubscribe(s)},l},t(function(s,l,i){n.reason||(n.reason=new sn(s,l,i),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Mi(function(a){t=a}),cancel:t}}}const hx=Mi;function gx(e){return function(r){return e.apply(null,r)}}function yx(e){return P.isObject(e)&&e.isAxiosError===!0}const _l={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_l).forEach(([e,t])=>{_l[t]=e});const xx=_l;function zm(e){const t=new Wa(e),r=cm(Wa.prototype.request,t);return P.extend(r,Wa.prototype,t,{allOwnKeys:!0}),P.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return zm(wr(e,a))},r}const je=zm(Oi);je.Axios=Wa;je.CanceledError=sn;je.CancelToken=hx;je.isCancel=Sm;je.VERSION=Tm;je.toFormData=Vs;je.AxiosError=G;je.Cancel=je.CanceledError;je.all=function(t){return Promise.all(t)};je.spread=gx;je.isAxiosError=yx;je.mergeConfig=wr;je.AxiosHeaders=ht;je.formToJSON=e=>Nm(P.isHTMLForm(e)?new FormData(e):e);je.getAdapter=Rm.getAdapter;je.HttpStatusCode=xx;je.default=je;const vx=je;let Rl=new Set,Gn=0;function kx(){Gn++,Lm()}function Sc(){Gn=Math.max(0,Gn-1),Lm()}function bx(){return Gn}function wx(e){return Rl.add(e),()=>Rl.delete(e)}function Lm(){Rl.forEach(e=>e(Gn))}const jx={}.VITE_API_URL||"http://localhost:5000/api",fe=vx.create({baseURL:jx,headers:{"Content-Type":"application/json"}});fe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),kx(),e},e=>Promise.reject(e));fe.interceptors.response.use(e=>(Sc(),e),e=>{var t;return Sc(),((t=e.response)==null?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const Ue={getCompanies:(e={})=>fe.get("/companies",e),createCompany:e=>fe.post("/companies",e),updateCompany:(e,t)=>fe.patch(`/companies/${e}`,t),deleteCompany:e=>fe.delete(`/companies/${e}`)},ft={getObjects:(e={})=>fe.get("/objects",{params:e}),createObject:e=>fe.post("/objects",e,{headers:{"Content-Type":"multipart/form-data"}}),updateObject:(e,t)=>fe.patch(`/objects/${e}`,t),deleteObject:e=>fe.delete(`/objects/${e}`)},Mt={getPoints:(e={})=>fe.get("/points",{params:e}),createPoint:e=>fe.post("/points",e),updatePoint:(e,t)=>fe.patch(`/points/${e}`,t),deletePoint:(e,t)=>fe.delete(`/points/${e}`,t?{data:t}:void 0),uploadFiles:(e,t)=>{const r=new FormData;for(const n of(t==null?void 0:t.fotos)||[])r.append("fotos",n);for(const n of(t==null?void 0:t.documentos)||[])r.append("documentos",n);return fe.post(`/points/${e}/files`,r,{headers:{"Content-Type":"multipart/form-data"}})}},Va={list:()=>fe.get("/points/deleted/list"),restore:e=>fe.post(`/points/deleted/${e}/restore`),purge:e=>fe.delete(`/points/deleted/${e}`)},Xa={deleteFile:(e,t,r)=>fe.delete(`/points/${e}/files/${t}`,{data:r}),listDeleted:e=>fe.get("/files/deleted/list",{params:e}),restore:e=>fe.post(`/files/deleted/${e}/restore`),purge:e=>fe.delete(`/files/deleted/${e}`)},Nx=(...e)=>e.filter(Boolean).join(" ");function Sx({open:e,coords:t,onCancel:r,onConfirm:n}){var Ae,ve;const[a,s]=y.useState(""),[l,i]=y.useState(""),[u,c]=y.useState(""),[d,m]=y.useState([]),[p,C]=y.useState({fotos:[],documentos:[]}),[g,b]=y.useState(0),[v,h]=y.useState(""),[f,x]=y.useState(""),[N,k]=y.useState({nombre:!1,categoria:!1}),[R,z]=y.useState([]),L=y.useRef(null),[U,B]=y.useState([]),[$,A]=y.useState([]),[Q,K]=y.useState(!1),[D,_]=y.useState("");y.useEffect(()=>{if(!e)return;s(""),i(""),c(""),m([]),C({fotos:[],documentos:[]}),_(""),b(Y=>Y+1),h(""),x(""),k({nombre:!1,categoria:!1}),z([]);let O=!1;return(async()=>{var Y,se,ee,lt;try{K(!0);const[he,Fe]=await Promise.all([Ue!=null&&Ue.getCompanies?Ue.getCompanies({params:{limit:1e3}}):Promise.resolve({data:[]}),ft!=null&&ft.getObjects?ft.getObjects({params:{limit:1e3}}):Promise.resolve({data:[]})]);if(O)return;const Qs=Array.isArray((Y=he==null?void 0:he.data)==null?void 0:Y.companies)?he.data.companies:Array.isArray(he==null?void 0:he.data)?he.data:Array.isArray(he)?he:[],on=Array.isArray((se=Fe==null?void 0:Fe.data)==null?void 0:se.objects)?Fe.data.objects:Array.isArray(Fe==null?void 0:Fe.data)?Fe.data:Array.isArray(Fe)?Fe:[];B(Qs.filter(Boolean)),A(on.filter(Boolean))}catch(he){_(((lt=(ee=he==null?void 0:he.response)==null?void 0:ee.data)==null?void 0:lt.message)||(he==null?void 0:he.message)||"Error cargando catálogos"),B([]),A([])}finally{O||K(!1)}})(),()=>{O=!0}},[e]),y.useEffect(()=>{if(!e)return;const O=L.current;if(!O)return;const Y=O.querySelector('input, select, button, textarea, [tabindex]:not([tabindex="-1"])');Y&&typeof Y.focus=="function"&&Y.focus();const se=ee=>{if(ee.key==="Escape"){ee.stopPropagation(),r==null||r();return}if(ee.key==="Tab"){const lt=Array.from(O.querySelectorAll('a[href], button:not([disabled]), textarea, input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])'));if(lt.length===0)return;const he=lt[0],Fe=lt[lt.length-1];ee.shiftKey?(document.activeElement===he||!O.contains(document.activeElement))&&(ee.preventDefault(),Fe.focus()):document.activeElement===Fe&&(ee.preventDefault(),he.focus())}};return O.addEventListener("keydown",se),()=>O.removeEventListener("keydown",se)},[e,r]);const W=()=>{m(O=>[...O,{objeto:"",cantidad:1}])},j=(O,Y)=>{m(se=>se.map((ee,lt)=>lt===O?{...ee,...Y}:ee))},T=O=>{m(Y=>Y.filter((se,ee)=>ee!==O))},E=O=>{C(Y=>({...Y,fotos:Array.from(O.target.files||[])}))},F=O=>{C(Y=>({...Y,documentos:Array.from(O.target.files||[])}))};y.useEffect(()=>{var Y;if(R.forEach(se=>URL.revokeObjectURL(se.url)),!((Y=p==null?void 0:p.fotos)!=null&&Y.length)){z([]);return}const O=p.fotos.slice(0,6).map(se=>({url:URL.createObjectURL(se),name:se.name}));return z(O),()=>{O.forEach(se=>URL.revokeObjectURL(se.url))}},[p==null?void 0:p.fotos,g]);const w=!!(a&&l),S=!a&&N.nombre?"Requerido":"",M=!l&&N.categoria?"Requerido":"",X=y.useMemo(()=>(Array.isArray(U)?U:[]).map(O=>({id:(O==null?void 0:O._id)||(O==null?void 0:O.id)||"",name:(O==null?void 0:O.nombre)||(O==null?void 0:O.name)||""})),[U]),H=y.useMemo(()=>(Array.isArray($)?$:[]).map(O=>({id:(O==null?void 0:O._id)||(O==null?void 0:O.id)||"",name:(O==null?void 0:O.nombre)||(O==null?void 0:O.name)||"",categoria:(O==null?void 0:O.categoria)||(O==null?void 0:O.category)||""})),[$]),q=y.useMemo(()=>{const O=v.trim().toLowerCase();return O?X.filter(Y=>Y.name.toLowerCase().includes(O)):X},[X,v]),J=y.useMemo(()=>{const O=f.trim().toLowerCase();return O?H.filter(Y=>Y.name.toLowerCase().includes(O)||(Y.categoria||"").toLowerCase().includes(O)):H},[H,f]),ue=()=>{if(!w)return;const O=(d||[]).map(Y=>{var se,ee;return{objeto:((se=Y==null?void 0:Y.objeto)==null?void 0:se._id)||((ee=Y==null?void 0:Y.objeto)==null?void 0:ee.id)||(Y==null?void 0:Y.objeto)||"",cantidad:Number(Y==null?void 0:Y.cantidad)||1}}).filter(Y=>Y.objeto);n==null||n({nombre:a,categoria:l,compañia:u||null,inventario:O,files:p})};return o.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"cpd-title","aria-describedby":D?"cpd-err":void 0,onClick:O=>O.stopPropagation(),style:{position:"absolute",inset:0,display:e?"flex":"none",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,.35)",zIndex:40},children:o.jsxs("div",{ref:L,className:"w-[640px] max-w-[92vw] rounded-xl bg-white text-gray-900 dark:bg-gray-900 dark:text-gray-100 shadow-2xl outline-none",children:[o.jsxs("div",{className:"px-5 py-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{id:"cpd-title",className:"font-semibold text-lg",children:"Crear punto"}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["X: ",(t==null?void 0:t.x)??"-"," · Y: ",(t==null?void 0:t.y)??"-"]})]}),o.jsx("button",{className:"px-2 py-1 rounded-md text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800",onClick:r,"aria-label":"Cerrar",title:"Cerrar",children:"✕"})]}),D?o.jsx("div",{id:"cpd-err",className:"px-5 py-2 text-sm text-red-600 dark:text-red-400 border-b border-gray-200 dark:border-gray-800","aria-live":"polite",children:D}):null,o.jsxs("div",{className:"px-5 py-4 space-y-5",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:["Nombre ",o.jsx("span",{className:"text-red-600 dark:text-red-400",children:"*"})]}),o.jsx("input",{className:"w-full px-3 py-2 rounded border text-gray-900 placeholder-gray-400 bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:text-gray-100 dark:bg-gray-800 dark:border-gray-700",value:a,onChange:O=>s(O.target.value),onBlur:()=>k(O=>({...O,nombre:!0})),placeholder:"Nombre del punto"}),S?o.jsx("div",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:S}):null]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:["Categoría ",o.jsx("span",{className:"text-red-600 dark:text-red-400",children:"*"})]}),o.jsx("input",{className:"w-full px-3 py-2 rounded border text-gray-900 placeholder-gray-400 bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:text-gray-100 dark:bg-gray-800 dark:border-gray-700",value:l,onChange:O=>i(O.target.value),onBlur:()=>k(O=>({...O,categoria:!0})),placeholder:"silla, mesa, ..."}),M?o.jsx("div",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:M}):null]}),o.jsxs("div",{className:"col-span-2",children:[o.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Compañía"}),o.jsx("input",{type:"text",value:v,onChange:O=>h(O.target.value),placeholder:"Buscar compañía…",className:"mb-2 w-full px-3 py-2 rounded border text-gray-900 placeholder-gray-400 bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:text-gray-100 dark:bg-gray-800 dark:border-gray-700"}),o.jsxs("select",{className:"w-full px-3 py-2 rounded border text-gray-900 bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:text-gray-100 dark:bg-gray-800 dark:border-gray-700",value:u,onChange:O=>c(O.target.value),disabled:Q,children:[o.jsx("option",{value:"",children:"Sin compañía"}),q.map(O=>o.jsx("option",{value:O.id,children:O.name},O.id))]}),Q?o.jsx("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Cargando catálogos…"}):null]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300",children:"Inventario inicial"}),o.jsx("button",{type:"button",className:"text-sm px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 text-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-100",onClick:W,children:"+ Agregar ítem"})]}),o.jsx("div",{className:"mb-2",children:o.jsx("input",{type:"text",value:f,onChange:O=>x(O.target.value),placeholder:"Buscar objetos…",className:"w-full px-3 py-2 rounded border text-gray-900 placeholder-gray-400 bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:text-gray-100 dark:bg-gray-800 dark:border-gray-700"})}),d.length===0?o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sin ítems. Usa “Agregar ítem”."}):o.jsx("div",{className:"space-y-2",children:d.map((O,Y)=>{var se;return o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[o.jsx("div",{className:"col-span-8",children:o.jsxs("select",{className:"w-full px-3 py-2 rounded border text-gray-900 bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:text-gray-100 dark:bg-gray-800 dark:border-gray-700",value:((se=O==null?void 0:O.objeto)==null?void 0:se._id)||(O==null?void 0:O.objeto)||"",onChange:ee=>j(Y,{objeto:ee.target.value}),disabled:Q,children:[o.jsx("option",{value:"",children:"Seleccione objeto…"}),J.map(ee=>o.jsxs("option",{value:ee.id,children:[ee.name," ",ee.categoria?`· ${ee.categoria}`:""]},ee.id))]})}),o.jsx("div",{className:"col-span-3",children:o.jsx("input",{type:"number",min:1,className:"w-full px-3 py-2 rounded border text-gray-900 bg-white border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:text-gray-100 dark:bg-gray-800 dark:border-gray-700",value:(O==null?void 0:O.cantidad)??1,onChange:ee=>j(Y,{cantidad:Number(ee.target.value)||1})})}),o.jsx("div",{className:"col-span-1 flex justify-end",children:o.jsx("button",{className:"px-2 py-2 rounded bg-gray-100 hover:bg-gray-200 text-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-100",onClick:()=>T(Y),title:"Quitar","aria-label":"Quitar",children:"✕"})})]},Y)})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Fotos"}),o.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:E,className:"block w-full text-sm text-gray-700 dark:text-gray-200"},`fotos-${g}`),!!((Ae=p==null?void 0:p.fotos)!=null&&Ae.length)&&o.jsxs("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-300",children:[p.fotos.length," foto(s) seleccionada(s)"]}),!!R.length&&o.jsx("div",{className:"mt-2 grid grid-cols-6 gap-2",children:R.map((O,Y)=>o.jsx("div",{className:"w-16 h-16 rounded overflow-hidden ring-1 ring-gray-200 dark:ring-gray-700",children:o.jsx("img",{src:O.url,alt:O.name,className:"w-full h-full object-cover"})},Y))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm mb-1 text-gray-700 dark:text-gray-300",children:"Documentos"}),o.jsx("input",{type:"file",multiple:!0,onChange:F,className:"block w-full text-sm text-gray-700 dark:text-gray-200"},`docs-${g}`),!!((ve=p==null?void 0:p.documentos)!=null&&ve.length)&&o.jsxs("div",{className:"mt-2 max-h-20 overflow-auto text-xs text-gray-600 dark:text-gray-300",children:[p.documentos.slice(0,5).map((O,Y)=>o.jsx("div",{className:"truncate",children:O.name},Y)),p.documentos.length>5?o.jsxs("div",{className:"text-[11px] text-gray-500 dark:text-gray-400",children:["+",p.documentos.length-5," más…"]}):null]})]})]})]}),o.jsxs("div",{className:"px-5 py-4 border-t border-gray-200 dark:border-gray-800 flex justify-end gap-2",children:[o.jsx("button",{className:"px-3 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-100",onClick:r,children:"Cancelar"}),o.jsx("button",{className:Nx("px-3 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white disabled:opacity-50",!w&&"cursor-not-allowed"),disabled:!w,onClick:ue,children:"Crear"})]})]})})}function Cx({className:e="",points:t=[],onChanged:r}){const{mode:n}=Jn(),{view:a}=$g(),s=y.useRef(null),[l,i]=y.useState(!1),[u,c]=y.useState({x:0,y:0}),[d,m]=y.useState(0),p=n==="adding",C=y.useMemo(()=>a&&typeof a.scale=="number"&&a.offset&&typeof a.offset.x=="number"&&typeof a.tileSize=="number"&&typeof a.minX=="number"&&typeof a.minY=="number",[a]),g=(f,x)=>{const N=s.current;if(!N)return null;const k=N.getBoundingClientRect(),R=f-k.left,z=x-k.top,L=(a==null?void 0:a.scale)||1,U=(a==null?void 0:a.offset)||{x:0,y:0},B=(a==null?void 0:a.tileSize)||512,$=(a==null?void 0:a.minX)||0,A=(a==null?void 0:a.minY)||0,Q=(R-U.x)/(L||1),K=(z-U.y)/(L||1),D=Math.round(Q+$*B),_=Math.round(K+A*B);return!Number.isFinite(D)||!Number.isFinite(_)?null:{x:D,y:_}},b=f=>{if(!p||l)return;if(!C){const N=g(f.clientX,f.clientY);if(!N)return;c(N),i(!0),m(k=>k+1),f.stopPropagation();return}const x=g(f.clientX,f.clientY);x&&(c(x),i(!0),m(N=>N+1),f.stopPropagation())},v=async f=>{var x,N,k,R,z;try{const L={nombre:f==null?void 0:f.nombre,categoria:f==null?void 0:f.categoria,compañia:(f==null?void 0:f.compañia)||(f==null?void 0:f.compania)||null,coordenadas:{x:u.x,y:u.y},inventario:Array.isArray(f==null?void 0:f.inventario)?f.inventario.map($=>{var A;return{objeto:((A=$==null?void 0:$.objeto)==null?void 0:A._id)||($==null?void 0:$.objeto)||($==null?void 0:$.id),cantidad:Number($==null?void 0:$.cantidad)||1}}):[]},U=await Mt.createPoint(L),B=((x=U==null?void 0:U.data)==null?void 0:x._id)||(U==null?void 0:U.id);B&&(f!=null&&f.files)&&((N=f.files.fotos)!=null&&N.length||(k=f.files.documentos)!=null&&k.length)&&await Mt.uploadFiles(B,{fotos:f.files.fotos||[],documentos:f.files.documentos||[]}),r==null||r(),i(!1)}catch(L){const U=((z=(R=L==null?void 0:L.response)==null?void 0:R.data)==null?void 0:z.message)||(L==null?void 0:L.message)||"Error al crear el punto";alert(U),i(!1)}},h=()=>{i(!1)};return o.jsxs("div",{ref:s,className:e,style:{position:"absolute",inset:0,pointerEvents:p?"auto":"none"},onClick:b,children:[l&&o.jsx("div",{onClick:f=>f.stopPropagation(),style:{position:"absolute",inset:0,background:"transparent",pointerEvents:"auto"}}),p&&!l&&o.jsx("div",{style:{position:"absolute",top:8,left:8,padding:"6px 10px",borderRadius:8,background:"rgba(17,24,39,.6)",color:"#e5e7eb",fontSize:12,pointerEvents:"none"},children:C?"Agregar: haz clic en el mapa para crear":"Preparando vista…"}),l&&o.jsx(Sx,{open:!0,coords:u,onCancel:h,onConfirm:v},d)]})}const Ya=320,Qa=260;function Po({x:e,y:t,w:r,h:n},a){if(e=Number.isFinite(e)?e:24,t=Number.isFinite(t)?t:24,r=Math.max(Number.isFinite(r)?r:Ya,Ya),n=Math.max(Number.isFinite(n)?n:Qa,Qa),!a)return{x:e,y:t,w:r,h:n};const{width:s,height:l}=a,i=.6,u=Math.max(-(r*i),0-r),c=Math.max(-(n*i),0-n),d=s-Math.max(r*(1-i),40),m=l-Math.max(n*(1-i),40),p=Math.min(Math.max(e,u),d),C=Math.min(Math.max(t,c),m);return{x:p,y:C,w:Math.max(r,Ya),h:Math.max(n,Qa)}}const Om=y.createContext(null);function Ex({children:e,getBounds:t}){const[r,n]=y.useState([]),a=y.useRef(10),s=y.useMemo(()=>{try{return(t==null?void 0:t())||null}catch{return null}},[t]),l=y.useCallback(b=>{n(v=>{const h=++a.current;return v.map(f=>f.id===b?{...f,z:h}:f)})},[]),i=l,u=y.useCallback(b=>{const v=b._id||b.id,h=b.nombre||"Punto";v&&n(f=>{if(f.find(A=>A.pointId===v))return f.map(A=>A.pointId===v?{...A,minimized:!1,z:++a.current}:A);const N=++a.current,k=f.length,R=360,z=420,L=24+k*24%96,U=24+k*24%96,B=Po({x:L,y:U,w:R,h:z},s),$=`${v}-${Date.now()}`;return[...f,{id:$,pointId:v,title:h,...B,minimized:!1,z:N,point:b}]})},[s]),c=y.useCallback((b,{x:v,y:h})=>{n(f=>f.map(x=>{if(x.id!==b)return x;const N=Po({...x,x:v,y:h},s);return{...x,...N}}))},[s]),d=y.useCallback((b,{w:v,h})=>{n(f=>f.map(x=>{if(x.id!==b)return x;const N=Po({...x,w:v,h},s);return{...x,...N}}))},[s]),m=y.useCallback(b=>{n(v=>v.map(h=>h.id===b?{...h,minimized:!h.minimized}:h))},[]),p=y.useCallback(b=>{n(v=>v.filter(h=>h.id!==b))},[]),C=y.useCallback(async b=>{var h;const v=r.find(f=>f.id===b);if(v!=null&&v.pointId)try{const f=await Mt.getPoints(),N=(((h=f.data)==null?void 0:h.points)||f.data||[]).find(k=>(k._id||k.id)===v.pointId);N&&n(k=>k.map(R=>R.id===b?{...R,point:N,title:N.nombre||"Punto"}:R))}catch(f){console.error("Failed to refresh panel:",f)}},[r]),g=y.useMemo(()=>({panels:r,openPanel:u,focusPanel:i,movePanel:c,resizePanel:d,toggleMinimize:m,closePanel:p,bringToFront:l,refreshPanel:C,MIN_W:Ya,MIN_H:Qa}),[r,u,i,c,d,m,p,l,C]);return o.jsx(Om.Provider,{value:g,children:e})}function ua(){const e=y.useContext(Om);if(!e)throw new Error("usePointPanels must be used within PointPanelsProvider");return e}function Mm({point:e,activeTab:t,onChangeTab:r,onRefresh:n}){var Q,K,D,_,W;const[a,s]=y.useState(!1),[l,i]=y.useState(!1),[u,c]=y.useState(()=>{var j,T;return{nombre:(e==null?void 0:e.nombre)||"",categoria:(e==null?void 0:e.categoria)||"",companiaId:((j=e==null?void 0:e.compañia)==null?void 0:j._id)||((T=e==null?void 0:e.compañia)==null?void 0:T.id)||""}}),[d,m]=y.useState([]),[p,C]=y.useState([]),[g,b]=y.useState(()=>Array.isArray(e==null?void 0:e.inventario)?e.inventario.map(j=>{var T,E;return{objeto:((T=j.objeto)==null?void 0:T._id)||((E=j.objeto)==null?void 0:E.id),objetoData:j.objeto,cantidad:j.cantidad}}):[]),[v,h]=y.useState([]),[f,x]=y.useState([]);y.useEffect(()=>{Ue.getCompanies({params:{page:1,limit:200}}).then(j=>{var T;return m(((T=j.data)==null?void 0:T.companies)||j.data||[])}).catch(()=>{}),ft.getObjects({page:1,limit:200}).then(j=>{var T;return C(((T=j.data)==null?void 0:T.objects)||j.data||[])}).catch(()=>{})},[]),y.useEffect(()=>{var j,T;c({nombre:(e==null?void 0:e.nombre)||"",categoria:(e==null?void 0:e.categoria)||"",companiaId:((j=e==null?void 0:e.compañia)==null?void 0:j._id)||((T=e==null?void 0:e.compañia)==null?void 0:T.id)||""}),b(Array.isArray(e==null?void 0:e.inventario)?e.inventario.map(E=>{var F,w;return{objeto:((F=E.objeto)==null?void 0:F._id)||((w=E.objeto)==null?void 0:w.id),objetoData:E.objeto,cantidad:E.cantidad}}):[]),h([]),x([]),s(!1)},[e==null?void 0:e._id]);const[N,k]=y.useState(""),[R,z]=y.useState(""),L=async()=>{var j,T,E,F,w;if(k(""),z(""),!((j=u.nombre)!=null&&j.trim())||!((T=u.categoria)!=null&&T.trim())||!u.companiaId){k("Completa nombre, categoría y compañía");return}i(!0);try{const S=(e==null?void 0:e._id)||(e==null?void 0:e.id),M={nombre:u.nombre.trim(),categoria:u.categoria.trim(),compañia:u.companiaId,inventario:g.filter(q=>q.objeto&&q.cantidad).map(q=>({objeto:q.objeto,cantidad:Math.max(1,Number(q.cantidad)||1)}))},X=await Mt.updatePoint(S,M),H=((E=X.data)==null?void 0:E.point)||X.data;if((v.length||f.length)&&(H!=null&&H._id))try{await Mt.uploadFiles(H._id,{fotos:v,documentos:f})}catch(q){console.error("Error uploading files:",q)}n&&await n(),z("Punto actualizado"),s(!1),h([]),x([])}catch(S){console.error(S),k(((w=(F=S==null?void 0:S.response)==null?void 0:F.data)==null?void 0:w.message)||"No se pudo actualizar el punto")}finally{i(!1)}},U=()=>b(j=>[...j,{objeto:"",objetoData:null,cantidad:1}]),B=j=>b(T=>T.filter((E,F)=>F!==j)),$=(j,T,E)=>b(F=>F.map((w,S)=>S===j?{...w,[T]:E}:w)),A=async(j,T)=>{var F,w;const E=window.prompt(`Motivo para borrar este ${T==="foto"?"foto":"documento"}:`)||"Sin motivo";if(window.confirm(`¿Borrar este ${T==="foto"?"foto":"documento"}?`)){i(!0);try{const S={fileType:T,reason:E,context:{source:"panel",at:Date.now()}};await Xa.deleteFile(e._id,j,S),n&&await n(),z(`${T==="foto"?"Foto":"Documento"} borrado`),setTimeout(()=>z(""),3e3)}catch(S){console.error("Error borrando archivo:",S),k(((w=(F=S.response)==null?void 0:F.data)==null?void 0:w.message)||"Error al borrar archivo"),setTimeout(()=>k(""),3e3)}finally{i(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",role:"tablist","aria-label":"Panel del punto",children:o.jsx("div",{className:"flex",children:["info","inventory","photos","documents"].map(j=>{const T=t===j,E=`pp-tab-${j}`;return o.jsxs("button",{id:E,role:"tab","aria-selected":T,"aria-controls":`pp-panel-${j}`,tabIndex:T?0:-1,onClick:()=>r(j),className:`flex-1 py-3 text-sm font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-400 relative after:absolute after:left-1/2 after:-translate-x-1/2 after:bottom-0 after:h-0.5 after:w-0 after:transition-all after:bg-primary-500 ${T?"text-primary-600 dark:text-primary-400 after:w-8":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:[j==="info"&&"Información",j==="inventory"&&"Inventario",j==="photos"&&"Fotos",j==="documents"&&"Documentos"]},j)})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:[o.jsxs("div",{className:"p-3 flex items-center gap-2 justify-between border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex-1",children:[N&&o.jsx("div",{className:"px-3 py-2 text-sm rounded bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800",children:N}),R&&o.jsx("div",{className:"px-3 py-2 text-sm rounded bg-green-50 dark:bg-green-900/30 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800",children:R})]}),a?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{className:"px-3 h-9 rounded-md border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>{var j,T;s(!1),c({nombre:(e==null?void 0:e.nombre)||"",categoria:(e==null?void 0:e.categoria)||"",companiaId:((j=e==null?void 0:e.compañia)==null?void 0:j._id)||((T=e==null?void 0:e.compañia)==null?void 0:T.id)||""}),b(Array.isArray(e==null?void 0:e.inventario)?e.inventario.map(E=>{var F,w;return{objeto:((F=E.objeto)==null?void 0:F._id)||((w=E.objeto)==null?void 0:w.id),objetoData:E.objeto,cantidad:E.cantidad}}):[]),x([]),h([])},children:"Cancelar"}),o.jsx("button",{className:`px-3 h-9 rounded-md text-white ${l?"bg-gray-400":"bg-primary-600 hover:bg-primary-500"}`,disabled:l,onClick:L,children:l?"Guardando...":"Guardar"})]}):o.jsx("button",{className:"px-3 h-9 rounded-md bg-primary-600 text-white hover:bg-primary-500",onClick:()=>s(!0),children:"Editar"})]}),t==="info"&&o.jsxs("div",{id:"pp-panel-info",role:"tabpanel","aria-labelledby":"pp-tab-info",className:"p-6 space-y-6 text-gray-800 dark:text-gray-200",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Información del Punto"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(yg,{className:"text-gray-400 dark:text-gray-500 mt-2",size:18}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Compañía"}),a?o.jsxs("select",{className:"mt-1 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-2 py-1.5 text-sm",value:u.companiaId,onChange:j=>c(T=>({...T,companiaId:j.target.value})),children:[o.jsx("option",{value:"",children:"Selecciona compañía"}),d.map(j=>o.jsx("option",{value:j._id||j.id,children:j.nombre},j._id||j.id))]}):o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:((Q=e.compañia)==null?void 0:Q.nombre)||"N/A"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Tn,{className:"text-gray-400 dark:text-gray-500 mt-2",size:18}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Coordenadas"}),o.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[(K=e.coordenadas)==null?void 0:K.x,", ",(D=e.coordenadas)==null?void 0:D.y]})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Nombre"}),a?o.jsx("input",{className:"mt-1 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-2 py-1.5 text-sm",value:u.nombre,onChange:j=>c(T=>({...T,nombre:j.target.value}))}):o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.nombre})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-2"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Categoría"}),a?o.jsx("input",{className:"mt-1 w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-2 py-1.5 text-sm",value:u.categoria,onChange:j=>c(T=>({...T,categoria:j.target.value}))}):o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.categoria})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(xg,{className:"text-gray-400 dark:text-gray-500 mt-2",size:18}),o.jsxs("div",{className:"flex-1",children:[o.jsx("label",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Fecha de creación"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:e.fecha?new Date(e.fecha).toLocaleDateString():"—"})]})]})]})]}),e.compañia&&o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 rounded-lg p-4 border border-gray-200 dark:border-gray-700 transition-colors",children:[o.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100 mb-2",children:"Contacto de la Compañía"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-700 dark:text-gray-300",children:[o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Persona:"})," ",e.compañia.personaContacto]}),o.jsxs("p",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Teléfono:"})," ",e.compañia.telefono]})]})]})]}),t==="inventory"&&o.jsxs("div",{id:"pp-panel-inventory",role:"tabpanel","aria-labelledby":"pp-tab-inventory",className:"p-6 text-gray-800 dark:text-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Inventario"}),o.jsxs("div",{className:"space-y-3",children:[(_=a?g:e.inventario)==null?void 0:_.map((j,T)=>{var E,F,w,S;return o.jsx("div",{className:"flex items-center justify-between gap-3 p-3 bg-gray-50 dark:bg-gray-800/60 rounded-lg border border-gray-200 dark:border-gray-700 transition-colors",children:o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("span",{className:"text-2xl",children:((E=j.objetoData)==null?void 0:E.icono)||((F=j.objeto)==null?void 0:F.icono)||"📦"}),o.jsx("div",{className:"flex-1 min-w-0",children:a?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("select",{className:"flex-1 min-w-0 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-2 py-1.5 text-sm",value:j.objeto||"",onChange:M=>$(T,"objeto",M.target.value),children:[o.jsx("option",{value:"",children:"Seleccione objeto"}),p.map(M=>o.jsx("option",{value:M._id||M.id,children:M.nombre},M._id||M.id))]}),o.jsx("input",{type:"number",min:1,className:"w-20 rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-2 py-1.5 text-sm",value:j.cantidad,onChange:M=>$(T,"cantidad",M.target.value)}),o.jsx("button",{className:"text-red-600 hover:text-red-700 text-sm",onClick:()=>B(T),children:"Quitar"})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 truncate",children:((w=j.objetoData)==null?void 0:w.nombre)||((S=j.objeto)==null?void 0:S.nombre)||"Objeto"}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Cantidad: ",j.cantidad]})]})})]})},T)}),((W=a?g:e.inventario)==null?void 0:W.length)===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:o.jsx("p",{children:"No hay inventario en este punto"})}),a&&o.jsx("button",{className:"mt-2 px-3 h-9 rounded-md bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-sm",onClick:U,children:"Agregar ítem"})]})]}),t==="photos"&&o.jsxs("div",{id:"pp-panel-photos",role:"tabpanel","aria-labelledby":"pp-tab-photos",className:"p-6 text-gray-800 dark:text-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Fotos del Punto"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[(e.fotos||[]).map((j,T)=>o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:j.url,alt:j.nombre||`foto-${T}`,className:"w-full h-20 object-cover rounded"}),!a&&o.jsx("button",{onClick:()=>A(T,"foto"),className:"absolute top-1 right-1 p-1 rounded-full bg-red-600 text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-700",title:"Borrar foto","aria-label":"Borrar foto",children:o.jsx(br,{size:14})}),!a&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs px-1 py-0.5 truncate",children:j.nombre||`foto-${T}`})]},T)),v.map((j,T)=>o.jsx("div",{className:"w-full h-20 grid place-items-center text-xs border rounded bg-gray-50 dark:bg-gray-800/60",children:j.name},`new-${T}`))]}),a&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:j=>h(Array.from(j.target.files||[]))}),o.jsx("span",{className:"text-xs text-gray-500",children:"Se subirán al guardar"})]}),!a&&(e.fotos||[]).length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:o.jsx("p",{children:"No hay fotos en este punto"})})]})]}),t==="documents"&&o.jsxs("div",{id:"pp-panel-documents",role:"tabpanel","aria-labelledby":"pp-tab-documents",className:"p-6 text-gray-800 dark:text-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100 mb-4",children:"Documentos"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("ul",{className:"space-y-1 text-sm",children:[(e.documentos||[]).map((j,T)=>o.jsxs("li",{className:"flex items-center justify-between gap-2 bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded px-2 py-1.5",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[o.jsx(Nl,{size:16,className:"text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:j.nombre})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("a",{className:"text-primary-600 hover:underline",href:j.url,download:!0,children:"Descargar"}),!a&&o.jsx("button",{onClick:()=>A(T,"documento"),className:"p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 transition-colors",title:"Borrar documento","aria-label":"Borrar documento",children:o.jsx(br,{size:14})})]})]},T)),f.map((j,T)=>o.jsxs("li",{className:"flex items-center justify-between gap-2 bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded px-2 py-1.5 text-xs",children:[o.jsx("span",{className:"truncate",children:j.name}),o.jsx("span",{children:"Pendiente de subir"})]},`new-${T}`))]}),a&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"file",multiple:!0,onChange:j=>x(Array.from(j.target.files||[]))}),o.jsx("span",{className:"text-xs text-gray-500",children:"Se subirán al guardar"})]}),!a&&(e.documentos||[]).length===0&&f.length===0&&o.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:o.jsx("p",{children:"No hay documentos en este punto"})})]})]})]})]})}const Px=(...e)=>e.filter(Boolean).join(" ");function _x({panel:e}){const{id:t,x:r,y:n,w:a,h:s,minimized:l,title:i,z:u,point:c}=e,{movePanel:d,resizePanel:m,toggleMinimize:p,closePanel:C,bringToFront:g,refreshPanel:b}=ua(),v=y.useRef(null),h=y.useRef({active:!1,sx:0,sy:0,ox:0,oy:0}),f=y.useRef({active:!1,sx:0,sy:0,ow:0,oh:0}),[x,N]=y.useState("info"),k=()=>g(t),R=y.useCallback((_,W)=>{h.current={active:!0,sx:_,sy:W,ox:r,oy:n},window.addEventListener("mousemove",L),window.addEventListener("mouseup",U,{once:!0}),window.addEventListener("touchmove",$,{passive:!1}),window.addEventListener("touchend",A,{once:!0})},[r,n]),z=_=>{_.preventDefault(),!_.target.closest("[data-panel-action]")&&(g(t),R(_.clientX,_.clientY))},L=_=>{if(!h.current.active)return;const W=_.clientX-h.current.sx,j=_.clientY-h.current.sy;d(t,{x:h.current.ox+W,y:h.current.oy+j})},U=()=>{h.current.active=!1,window.removeEventListener("mousemove",L),window.removeEventListener("touchmove",$)},B=_=>{if(_.touches.length!==1||_.target.closest("[data-panel-action]"))return;g(t);const W=_.touches[0];R(W.clientX,W.clientY)},$=_=>{if(!h.current.active||_.touches.length!==1)return;_.preventDefault();const W=_.touches[0],j=W.clientX-h.current.sx,T=W.clientY-h.current.sy;d(t,{x:h.current.ox+j,y:h.current.oy+T})},A=()=>{h.current.active=!1,window.removeEventListener("touchmove",$)},Q=_=>{_.preventDefault(),_.stopPropagation(),g(t),f.current={active:!0,sx:_.clientX,sy:_.clientY,ow:a,oh:s},window.addEventListener("mousemove",K),window.addEventListener("mouseup",D,{once:!0})},K=_=>{if(!f.current.active)return;const W=_.clientX-f.current.sx,j=_.clientY-f.current.sy;m(t,{w:f.current.ow+W,h:f.current.oh+j})},D=()=>{f.current.active=!1,window.removeEventListener("mousemove",K)};return y.useEffect(()=>()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mousemove",K)},[]),o.jsxs("div",{role:"dialog","aria-labelledby":`panel-title-${t}`,className:Px("absolute rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 shadow-xl transform-gpu transition-[opacity,transform] duration-200 will-change-transform select-none",l?"opacity-0 scale-95 pointer-events-none":"opacity-100 scale-100"),style:{left:r,top:n,width:a,height:s,zIndex:u},ref:v,onMouseDown:k,children:[o.jsxs("div",{className:"h-10 flex items-center justify-between px-3 rounded-t-xl bg-white/80 dark:bg-gray-800/80 border-b border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{className:"flex items-center gap-2 overflow-hidden cursor-move select-none",onMouseDown:z,onTouchStart:B,children:[o.jsx(bg,{size:16,className:"text-gray-400"}),o.jsx("h3",{id:`panel-title-${t}`,className:"font-semibold text-sm text-gray-800 dark:text-gray-100 truncate max-w-[20ch]",children:i})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{"data-panel-action":!0,"aria-pressed":l,onClick:()=>p(t),className:"h-8 w-8 grid place-items-center rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",title:"Minimizar",children:o.jsx(Ng,{size:16})}),o.jsx("button",{"data-panel-action":!0,onClick:()=>C(t),className:"h-8 w-8 grid place-items-center rounded-md hover:bg-red-50 dark:hover:bg-red-900/30 text-red-600",title:"Cerrar",children:o.jsx(Cr,{size:16})})]})]}),o.jsx("div",{className:"h-[calc(100%-2.5rem)] flex flex-col bg-white/60 dark:bg-gray-900/60",children:o.jsx(Mm,{point:c,activeTab:x,onChangeTab:N,onRefresh:()=>b(t)})}),o.jsx("div",{onMouseDown:Q,className:"absolute right-1.5 bottom-1.5 h-4 w-4 cursor-nwse-resize text-gray-400","aria-label":"Resize panel",title:"Redimensionar",children:o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:"opacity-60",children:o.jsx("path",{d:"M6 10h4v1H6zm2-3h4v1H8zM10 4h4v1h-4z",fill:"currentColor"})})})]})}function Rx(){const{panels:e,toggleMinimize:t,bringToFront:r}=ua(),n=e.filter(a=>a.minimized);return n.length===0?null:o.jsx("div",{className:"absolute bottom-3 right-3 left-3 md:left-auto md:w-auto z-[60]",children:o.jsx("div",{className:"max-w-full md:max-w-[60vw] ml-auto rounded-xl border border-gray-200 dark:border-gray-700 bg-white/80 dark:bg-gray-800/80 backdrop-blur px-2 py-2 shadow-lg",children:o.jsx("div",{className:"flex items-center gap-2 overflow-x-auto no-scrollbar",children:n.map(a=>{var s;return o.jsxs("button",{onClick:()=>{t(a.id),r(a.id)},className:"shrink-0 inline-flex items-center gap-2 px-3 h-9 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm text-gray-800 dark:text-gray-100",title:a.title,children:[o.jsx("span",{className:"text-base",children:((s=a.point)==null?void 0:s.icon)||"📍"}),o.jsx("span",{className:"max-w-[18ch] truncate",children:a.title})]},a.id)})})})})}const Am=y.createContext(null);let Tx=0;function zx({children:e}){const[t,r]=y.useState([]),n=y.useCallback(l=>r(i=>i.filter(u=>u.id!==l)),[]),a=y.useCallback(l=>{const i=++Tx,u={id:i,type:l.type||"info",title:l.title||"",message:l.message||"",timeout:l.timeout??2800,action:l.action||null};return r(c=>[...c,u]),u.timeout>0&&setTimeout(()=>n(i),u.timeout),i},[n]),s=y.useMemo(()=>({push:a,remove:n,toasts:t}),[a,n,t]);return o.jsxs(Am.Provider,{value:s,children:[e,o.jsx(Ox,{toasts:t,onClose:n})]})}function Lx(){const e=y.useContext(Am);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function Ox({toasts:e,onClose:t}){return o.jsx("div",{className:"fixed bottom-4 right-4 z-[100] space-y-2 w-[min(92vw,360px)]",children:e.map(r=>o.jsxs("div",{className:`rounded-lg border shadow-lg p-3 bg-white dark:bg-gray-900 ${r.type==="success"?"border-green-300 dark:border-green-800":r.type==="error"?"border-red-300 dark:border-red-800":"border-gray-200 dark:border-gray-700"}`,children:[o.jsx("div",{className:"text-sm font-medium mb-1 text-gray-900 dark:text-gray-100",children:r.title}),r.message&&o.jsx("div",{className:"text-xs text-gray-700 dark:text-gray-300",children:r.message}),o.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[r.action?o.jsx("button",{className:"text-xs text-primary-600 hover:underline",onClick:()=>{var n;(n=r.action)==null||n.call(r),t(r.id)},children:"Deshacer"}):o.jsx("span",{}),o.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:()=>t(r.id),children:"Cerrar"})]})]},r.id))})}const Mx=({point:e,isOpen:t,onClose:r,onUpdate:n,onDelete:a,variant:s="floating"})=>{tr();const[l,i]=y.useState("info");return!t||!e?null:o.jsxs("div",{className:`${s==="docked"?"w-full h-full bg-white dark:bg-surface shadow-inner flex flex-col transition-colors duration-300":"fixed inset-y-0 right-0 w-96 bg-white dark:bg-surface shadow-2xl transform transition-transform duration-300 z-50 flex flex-col transition-colors"}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700 bg-primary-50 dark:bg-surface-raised/60 backdrop-blur sticky top-0 z-10",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tn,{className:"text-primary-600 dark:text-primary-400",size:24}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:e.nombre}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Punto del mapa"})]})]}),o.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full transition-colors",children:o.jsx(Cr,{size:20})})]}),o.jsx(Mm,{point:e,activeTab:l,onChangeTab:i})]})},Fm=y.createContext(null),Cc="ms:search:q",Ax=({children:e})=>{const[t,r]=y.useState(()=>sessionStorage.getItem(Cc)||""),[n,a]=y.useState(t),[s,l]=y.useState({points:[],companies:[],objects:[]}),[i,u]=y.useState(!1),[c,d]=y.useState(null),[m,p]=y.useState(!1),[C,g]=y.useState(0),b=y.useRef([]),v=y.useRef(null),[h,f]=y.useState(0),[x,N]=y.useState(null);y.useEffect(()=>{sessionStorage.setItem(Cc,t)},[t]),y.useEffect(()=>{const $=setTimeout(()=>a(t.trim()),250);return()=>clearTimeout($)},[t]),y.useEffect(()=>{const $=n;if(!$||$.length<2){l({points:[],companies:[],objects:[]}),p(!1);return}u(!0),d(null),v.current&&v.current.abort();const A=new AbortController;v.current=A,fe.get("/search",{params:{q:$},signal:A.signal}).then(Q=>{l(Q.data||{points:[],companies:[],objects:[]}),p(!0),g(0)}).catch(Q=>{Q.name==="CanceledError"||Q.code==="ERR_CANCELED"||d(Q)}).finally(()=>u(!1))},[n]);const k=y.useMemo(()=>{const $=[];return s.points.forEach(A=>$.push({type:"point",item:A})),s.companies.forEach(A=>$.push({type:"company",item:A})),s.objects.forEach(A=>$.push({type:"object",item:A})),b.current=$,$},[s]),R=$=>{k.length&&g(A=>(A+$+k.length)%k.length)},z=()=>f($=>$+1),L=$=>{N($),p(!1)},B={query:t,setQuery:r,debouncedQuery:n,suggestions:s,loading:i,error:c,open:m,setOpen:p,activeIndex:C,moveActive:R,flatList:k,enterTick:h,triggerEnter:z,selection:x,selectSuggestion:L,selectActive:()=>{if(!k.length)return;const $=k[C];$&&L($)}};return o.jsx(Fm.Provider,{value:B,children:e})},Fx=()=>y.useContext(Fm),Dx=({companies:e=[],categories:t=[],value:r,onChange:n})=>{const[a,s]=y.useState(!1),l=y.useMemo(()=>!!(r!=null&&r.companyId||r!=null&&r.category),[r]),i=(c,d)=>{const m={...r||{},[c]:d};n==null||n(m)},u=()=>n==null?void 0:n({companyId:"",category:""});return o.jsxs("div",{className:"fixed bottom-4 right-4 z-20 transition-colors",children:[!a&&o.jsxs("button",{type:"button",className:`relative inline-flex items-center justify-center w-11 h-11 rounded-full shadow-lg border transition-colors duration-300 backdrop-blur ${l?"bg-primary-600 border-primary-500 text-white hover:bg-primary-500":"bg-white/90 border-gray-200 text-gray-700 hover:bg-white dark:bg-surface-raised/90 dark:border-gray-700 dark:text-gray-200 dark:hover:bg-surface-raised"}`,onClick:()=>s(!0),"aria-label":"Abrir filtros",children:[o.jsx(lm,{size:18}),l&&o.jsx("span",{className:"absolute -top-1 -right-1 w-2.5 h-2.5 bg-blue-400 rounded-full"})]}),a&&o.jsxs("div",{className:"w-72 bg-white/95 dark:bg-surface/95 backdrop-blur border border-gray-200 dark:border-gray-700 rounded-xl shadow-2xl p-3 text-sm text-gray-700 dark:text-gray-200 transition-colors duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:"Filtros"}),o.jsx("button",{className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>s(!1),"aria-label":"Cerrar filtros",children:o.jsx(Cr,{size:16})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-500 mb-1",children:"Compañía"}),o.jsxs("select",{value:(r==null?void 0:r.companyId)||"",onChange:c=>i("companyId",c.target.value),className:"w-full px-3 py-2 rounded-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Todas"}),e.map(c=>o.jsx("option",{value:c._id||c.id||"",children:c.nombre},c._id||c.id||c.nombre))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-500 mb-1",children:"Categoría"}),o.jsxs("select",{value:(r==null?void 0:r.category)||"",onChange:c=>i("category",c.target.value),className:"w-full px-3 py-2 rounded-md bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Todas"}),t.map(c=>o.jsx("option",{value:c,children:c},c))]})]}),o.jsxs("div",{className:"flex items-center justify-between pt-1",children:[o.jsx("button",{type:"button",onClick:u,className:"px-3 py-1.5 rounded-md border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Limpiar"}),o.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-3 py-1.5 rounded-md bg-primary-600 hover:bg-primary-500 text-white transition-colors",children:"Listo"})]})]})]})]})},Dm=(...e)=>e.filter(Boolean).join(" "),yn=({className:e="",rounded:t="md"})=>{const r=t==="full"?"rounded-full":t==="none"?"":`rounded-${t}`;return o.jsx("div",{className:Dm("animate-pulse bg-gray-200 dark:bg-gray-700",r,e)})},Ec=({lines:e=3,className:t=""})=>o.jsx("div",{className:Dm("space-y-2",t),children:Array.from({length:e}).map((r,n)=>o.jsx("div",{className:"h-3 w-full rounded bg-gray-200 dark:bg-gray-700 animate-pulse",style:{width:n===e-1?"70%":void 0}},n))});function Ix(){const{isAdmin:e}=tr(),{query:t,setQuery:r,debouncedQuery:n,open:a,setOpen:s,activeIndex:l,moveActive:i,flatList:u,loading:c,triggerEnter:d,enterTick:m,selection:p,selectSuggestion:C,selectActive:g}=Fx(),[b,v]=y.useState([]),[h,f]=y.useState(!0);y.useRef(null);const[x,N]=y.useState(null),[k,R]=y.useState(!1),z=y.useRef(null),[L,U]=y.useState(()=>({companyId:"",category:""}));y.useState(null);const B=y.useRef(null),$=y.useRef(null),A=()=>Mt.getPoints().then(D=>{var _;v(Array.isArray(D.data)?D.data:((_=D.data)==null?void 0:_.points)||[])}).catch(()=>{});y.useEffect(()=>{let D=!0;return f(!0),A().then(()=>{}).finally(()=>D&&f(!1)),()=>{D=!1}},[]),y.useEffect(()=>{const D=_=>{var W,j,T,E;if(_.key==="/"&&!_.metaKey&&!_.ctrlKey&&!_.altKey){const F=(W=document.activeElement)==null?void 0:W.tagName;F!=="INPUT"&&F!=="TEXTAREA"&&!((j=document.activeElement)!=null&&j.isContentEditable)&&(_.preventDefault(),(T=B.current)==null||T.focus())}else if(_.key==="Escape"){s==null||s(!1);const F=document.querySelector('[data-filters-popover="open"]');F&&((E=F.__close)==null||E.call(F))}};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[]);const Q=()=>{R(!1),N(null)};if(y.useEffect(()=>{if(!m)return;if((p==null?void 0:p.type)==="point"&&p.item){s(!1);return}if((p==null?void 0:p.type)==="company"&&p.item){const W=p.item._id||p.item.id||"";W&&U(j=>({...j,companyId:W})),s(!1);return}const D=(n||"").toLowerCase();if(!D)return;const _=b.find(W=>((W==null?void 0:W.nombre)||"").toLowerCase()===D);_&&(N(_),R(!0),s(!1))},[m]),h)return o.jsxs("div",{className:"flex h-[100dvh]",children:[o.jsxs("div",{className:"relative flex-1 min-h-0 h-full bg-white dark:bg-surface flex flex-col",children:[o.jsx("div",{className:"px-4 pt-4 md:px-6 md:pt-5 select-none",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex items-center flex-1 rounded-xl border border-gray-800 dark:border-gray-700 bg-gray-900/60 dark:bg-surface-raised/60 backdrop-blur px-3 py-3 shadow-sm",children:[o.jsx(yn,{className:"h-4 w-4 rounded-full mr-3"}),o.jsx(yn,{className:"h-4 w-1/3"})]}),o.jsx(yn,{className:"h-10 w-24 rounded-md hidden md:block"})]})}),o.jsx("div",{className:"flex-1 p-6 grid place-items-center",children:o.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[o.jsx(yn,{className:"h-52 w-full rounded-xl"}),o.jsx(Ec,{lines:3})]})})]}),o.jsx("aside",{className:"hidden lg:flex w-[380px] xl:w-[420px] border-l border-gray-800 bg-white dark:bg-surface p-6",children:o.jsxs("div",{className:"w-full space-y-4",children:[o.jsx(yn,{className:"h-6 w-2/3"}),o.jsx(Ec,{lines:5})]})})]});const K=()=>{const D=z.current;if(!D)return null;const _=D.getBoundingClientRect();return{width:_.width,height:_.height}};return o.jsx(zx,{children:o.jsx(zg,{children:o.jsx("div",{className:"flex h-[100dvh]",children:o.jsxs("div",{className:"relative flex-1 min-h-0 h-full bg-white dark:bg-surface flex flex-col transition-colors duration-300",children:[o.jsxs("div",{className:"relative z-20 px-4 pt-4 md:px-6 md:pt-5 select-none",ref:$,children:[o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex items-center flex-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-surface-raised/80 backdrop-blur px-3 py-2 shadow-lg transition-colors duration-300",role:"search","aria-label":"Buscar puntos, objetos o compañías",children:[o.jsx(ks,{size:16,className:"text-gray-500 dark:text-gray-400 mr-2"}),o.jsx("input",{ref:B,type:"text",value:t,onChange:D=>r==null?void 0:r(D.target.value),onFocus:()=>{(n||"").length>=2&&(s==null||s(!0))},onKeyDown:D=>{D.key==="ArrowDown"?(D.preventDefault(),i==null||i(1)):D.key==="ArrowUp"?(D.preventDefault(),i==null||i(-1)):D.key==="Enter"?(D.preventDefault(),g==null||g(),d==null||d(),s==null||s(!1)):D.key==="Escape"&&(s==null||s(!1))},placeholder:"Buscar puntos, objetos o compañías (/ para enfocar)",className:"w-full bg-transparent text-sm text-gray-800 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-500 focus:outline-none","aria-label":"Buscar puntos, objetos o compañías"}),(n||"").length>0&&o.jsx("button",{onClick:()=>{r==null||r(""),s==null||s(!1)},className:"ml-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 text-xs px-2 py-1 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Limpiar búsqueda",children:"Limpiar"})]}),o.jsx("div",{className:"hidden md:block relative",children:o.jsx(Xx,{filters:L,setFilters:U,companies:Array.from(new Map(b.filter(Boolean).map(D=>{const _=D==null?void 0:D.compañia,W=(_==null?void 0:_._id)||(_==null?void 0:_.id);return W?[W,_]:[void 0,void 0]}).filter(([D,_])=>!!(D&&_))).values()).filter(Boolean),categories:[...new Set(b.filter(Boolean).map(D=>D==null?void 0:D.categoria).filter(Boolean))]})}),o.jsx("div",{className:"md:hidden",children:o.jsx(Yx,{filters:L,setFilters:U,companies:Array.from(new Map(b.filter(Boolean).map(D=>{const _=D==null?void 0:D.compañia,W=(_==null?void 0:_._id)||(_==null?void 0:_.id);return W?[W,_]:[void 0,void 0]}).filter(([D,_])=>!!(D&&_))).values()).filter(Boolean),categories:[...new Set(b.filter(Boolean).map(D=>D==null?void 0:D.categoria).filter(Boolean))]})})]}),a&&(n||"").length>=2&&u.length>0&&o.jsx("div",{className:"absolute left-4 md:left-6 top-full mt-2 w-[calc(100%-2rem)] md:w-[640px] max-w-[90vw] bg-white dark:bg-surface-raised border border-gray-200 dark:border-gray-700 rounded-xl shadow-2xl overflow-hidden transition-colors",role:"listbox","aria-label":"Resultados de búsqueda","aria-activedescendant":l>=0?`search-opt-${l}`:void 0,children:o.jsx("div",{className:"max-h-72 overflow-auto divide-y divide-gray-200 dark:divide-gray-700",children:u.map((D,_)=>{var W;return o.jsxs("button",{role:"option",id:`search-opt-${_}`,"aria-selected":_===l,className:`w-full text-left px-3 py-2 text-sm flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700 ${_===l?"bg-gray-100 dark:bg-gray-700":""}`,onMouseDown:j=>j.preventDefault(),onClick:()=>{C==null||C(D),d==null||d(),s==null||s(!1)},children:[o.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 rounded bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-[10px] uppercase",children:D.type[0]}),o.jsxs("span",{className:"truncate",children:[D.type==="point"&&`${D.item.nombre} — ${((W=D.item.compañia)==null?void 0:W.nombre)||""}`,D.type==="company"&&`${D.item.nombre}`,D.type==="object"&&`${D.item.nombre}`]})]},`${D.type}-${D.item._id||D.item.nombre}`)})})})]}),o.jsx("div",{className:"relative flex-1",ref:z,children:o.jsx(Ex,{getBounds:K,children:o.jsxs(Bg,{value:Hx(z),children:[o.jsx(Bx,{mapContainerRef:z,points:b,fetchPoints:A}),o.jsx($x,{}),o.jsx(Ux,{selection:p,enterTick:m,onCloseSearch:()=>s(!1)}),o.jsx(Cx,{points:b,onChanged:A}),o.jsx(Ig,{isAdmin:e}),o.jsx(Rx,{})]})})}),o.jsx("div",{className:"lg:hidden",children:o.jsx(Mx,{point:x,isOpen:k,onClose:Q,onUpdate:()=>{},onDelete:()=>{},variant:"floating"})})]})})})})}function Bx({points:e,mapContainerRef:t,fetchPoints:r}){const{openPanel:n}=ua(),{mode:a,setMode:s,resetMode:l}=Jn(),{push:i}=Lx();return y.useEffect(()=>{const u=c=>{var d,m,p;c.target&&(c.target.tagName==="INPUT"||c.target.tagName==="TEXTAREA"||c.target.isContentEditable)||(((d=c.key)==null?void 0:d.toLowerCase())==="a"?s("adding"):((m=c.key)==null?void 0:m.toLowerCase())==="m"?s("moving"):((p=c.key)==null?void 0:p.toLowerCase())==="d"?s("deleting"):c.key==="Escape"&&l())};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[s,l]),o.jsx(o.Fragment,{children:o.jsx(Lg,{onViewInfo:u=>Wx(t,u),onContainer:u=>Vx(t,u),points:e,onPointSelect:u=>{a==="idle"&&(n==null||n(u))},isMoving:a==="moving",onPointMove:async(u,c,d)=>{var m,p,C;try{const g=(u==null?void 0:u._id)||(u==null?void 0:u.id);if(!g)return;const b=await Mt.updatePoint(g,{coordenadas:{x:c,y:d}});await r();const v=((m=b.data)==null?void 0:m.point)||b.data;v&&(n==null||n(v)),i({type:"success",title:"Punto movido",message:`${(v==null?void 0:v.nombre)||"Punto"} a (${c}, ${d})`})}catch(g){console.error("move failed",g),i({type:"error",title:"No se pudo mover",message:((C=(p=g==null?void 0:g.response)==null?void 0:p.data)==null?void 0:C.message)||(g==null?void 0:g.message)})}},onPointDelete:async u=>{var c,d,m;try{const p=(u==null?void 0:u._id)||(u==null?void 0:u.id);if(!p)return;let C="";try{C=window.prompt("Motivo del borrado (opcional):","")||""}catch{}const g={source:"map",at:Date.now()},b=await Mt.deletePoint(p,{reason:C,context:g});await r();const v=(c=b.data)==null?void 0:c.deleted;v!=null&&v._id?i({type:"success",title:"Punto borrado",message:`${u.nombre}`,timeout:3500,action:async()=>{try{await Va.restore(v._id),await r()}catch{}}}):i({type:"success",title:"Punto borrado",message:`${u.nombre}`})}catch(p){console.error("delete failed",p),i({type:"error",title:"No se pudo borrar",message:((m=(d=p==null?void 0:p.response)==null?void 0:d.data)==null?void 0:m.message)||(p==null?void 0:p.message)})}}})})}function $x(){const{panels:e}=ua();return o.jsx("div",{className:"absolute inset-0 z-40 pointer-events-none",children:e.map(t=>o.jsx("div",{className:"pointer-events-auto",children:o.jsx(_x,{panel:t})},t.id))})}function Ux({selection:e,enterTick:t,onCloseSearch:r}){const{openPanel:n}=ua();return y.useEffect(()=>{t&&(e==null?void 0:e.type)==="point"&&e.item&&(n(e.item),r==null||r())},[t]),null}let ge={scale:1,offset:{x:0,y:0},container:null,tileSize:512,gridOffX:0,gridOffY:0,ready:!1,minX:0,minY:0,maxX:0,maxY:0};function Hx(e){return{screenToBoard:(t,r)=>{const n=e.current||ge.container;if(!n)return{x:t,y:r};const a=n.getBoundingClientRect(),s=t-a.left,l=r-a.top,i=(s-ge.offset.x)/ge.scale,u=(l-ge.offset.y)/ge.scale;return{x:i,y:u}},boardToScreen:(t,r)=>{const n=e.current||ge.container;if(!n)return{x:t,y:r};const a=n.getBoundingClientRect(),s=ge.offset.x+t*ge.scale,l=ge.offset.y+r*ge.scale;return{x:s+a.left,y:l+a.top}},container:null,tileSize:ge.tileSize,gridOffX:ge.gridOffX,gridOffY:ge.gridOffY,ready:ge.ready,minX:ge.minX,minY:ge.minY,maxX:ge.maxX,maxY:ge.maxY}}function Wx(e,t){ge={...ge,...t,ready:!0}}function Vx(e,t){ge={...ge,container:t}}function Xx({filters:e,setFilters:t,companies:r,categories:n}){const[a,s]=y.useState(!1),l=!!(e.companyId||e.category),i=y.useRef(null);y.useEffect(()=>{const d=m=>{a&&i.current&&!i.current.contains(m.target)&&s(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[a]);const u=(d,m)=>t(p=>({...p,[d]:m})),c=()=>t({companyId:"",category:""});return o.jsxs("div",{className:"relative",ref:i,children:[o.jsxs("button",{type:"button",onClick:()=>s(d=>!d),className:`inline-flex items-center gap-1 h-10 px-3 rounded-md border text-sm font-medium transition-colors focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-400 ${l?"bg-primary-600 border-primary-500 text-white hover:bg-primary-500":"bg-white dark:bg-surface-raised/60 border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-surface-raised"}`,"aria-haspopup":"dialog","aria-expanded":a,children:[o.jsx(lm,{size:16}),o.jsx("span",{className:"hidden xl:inline",children:"Filtros"}),l&&o.jsx("span",{className:"ml-1 inline-block w-2 h-2 rounded-full bg-primary-300 animate-pulse"})]}),a&&o.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-surface-raised/95 dark:bg-surface backdrop-blur border border-gray-700 rounded-xl shadow-2xl p-4 text-sm z-30","data-filters-popover":"open",ref:d=>{d&&(d.__close=()=>s(!1))},role:"dialog","aria-label":"Filtros",children:[o.jsx("div",{className:"font-medium text-gray-100 mb-3",children:"Filtros"}),o.jsxs("div",{className:"space-y-4 max-h-80 overflow-auto pr-1 custom-scroll",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Compañía"}),o.jsxs("select",{value:e.companyId,onChange:d=>u("companyId",d.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-950 dark:bg-gray-800 border border-gray-800 dark:border-gray-700 text-gray-200 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Todas"}),r.map(d=>o.jsx("option",{value:d._id||d.id,children:d.nombre},d._id||d.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Categoría"}),o.jsxs("select",{value:e.category,onChange:d=>u("category",d.target.value),className:"w-full px-3 py-2 rounded-md bg-gray-950 dark:bg-gray-800 border border-gray-800 dark:border-gray-700 text-gray-200 focus:outline-none focus:ring-1 focus:ring-primary-500",children:[o.jsx("option",{value:"",children:"Todas"}),n.map(d=>o.jsx("option",{value:d,children:d},d))]})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-800 dark:border-gray-700",children:[o.jsx("button",{onClick:c,className:"px-3 py-1.5 text-xs rounded-md border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-400",children:"Limpiar"}),o.jsx("button",{onClick:()=>s(!1),className:"px-3 py-1.5 text-xs rounded-md bg-primary-600 hover:bg-primary-500 text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-400",children:"Cerrar"})]})]})]})}function Yx({filters:e,setFilters:t,companies:r,categories:n}){return o.jsx(Dx,{value:e,onChange:t,companies:r,categories:n})}const Qx=(...e)=>e.filter(Boolean).join(" "),wt=y.forwardRef(function({className:t="",invalid:r=!1,...n},a){return o.jsx("input",{ref:a,className:Qx("w-full rounded-md border bg-white dark:bg-gray-800 text-sm px-3 py-2 placeholder:text-gray-400 dark:placeholder:text-gray-500 text-gray-800 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:border-primary-400 transition-colors",r&&"border-danger-500 focus:ring-danger-400 focus:border-danger-400",!r&&"border-gray-300 dark:border-gray-600",t),...n})});function qx(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,s]=y.useState("items"),[l,i]=y.useState(""),[u,c]=y.useState([]),[d,m]=y.useState(!1),[p,C]=y.useState(!1),[g,b]=y.useState(""),[v,h]=y.useState(""),[f,x]=y.useState({nombre:"",categoria:"",numeroInventario:"",nickname:"",descripcion:"",icono:"📦",imagen:null}),[N,k]=y.useState(!1),[R,z]=y.useState(""),[L,U]=y.useState(1),[B,$]=y.useState(12),[A,Q]=y.useState(0),[K,D]=y.useState(1),[_,W]=y.useState(null);y.useEffect(()=>{let S=!0;return n(!0),Mt.getPoints().then(M=>{var H;if(!S)return;const X=Array.isArray(M.data)?M.data:((H=M.data)==null?void 0:H.points)||[];t(X.filter(Boolean))}).catch(()=>{}).finally(()=>S&&n(!1)),()=>{S=!1}},[]),y.useEffect(()=>{let S=!0;return ft.getObjects({search:R,page:L,limit:B}).then(M=>{if(!S)return;const X=M.data||{},H=Array.isArray(X)?X:X.objects||[];c(H.filter(Boolean)),typeof X.total=="number"&&Q(X.total),typeof X.pages=="number"&&D(X.pages)}).catch(()=>{}),()=>{S=!1}},[R,L,B]);const j=y.useMemo(()=>{var M,X;const S=new Map;for(const H of u){const q=(H==null?void 0:H.nombre)||"—",J=(H==null?void 0:H.icono)||"📦",ue=(H==null?void 0:H.imagen)||null;S.has(q)||S.set(q,{name:q,icon:J,image:ue,count:0})}for(const H of e){const q=Array.isArray(H==null?void 0:H.inventario)?H.inventario:[];for(const J of q){const ue=((M=J==null?void 0:J.objeto)==null?void 0:M.nombre)||"—",Ae=((X=J==null?void 0:J.objeto)==null?void 0:X.icono)||"📦",ve=Number(J==null?void 0:J.cantidad)||0;S.has(ue)||S.set(ue,{name:ue,icon:Ae,image:null,count:0}),S.get(ue).count+=ve}}return Array.from(S.values()).sort((H,q)=>q.count-H.count||H.name.localeCompare(q.name))},[e,u]),T=y.useMemo(()=>{var X,H;const S=new Map;for(const q of e){const J=q==null?void 0:q.compañia;if(!J||!(J._id||J.id))continue;const ue=J._id||J.id;S.has(ue)||S.set(ue,{id:ue,name:J.nombre||"Sin nombre",items:new Map});const Ae=Array.isArray(q==null?void 0:q.inventario)?q.inventario:[];for(const ve of Ae){const O=((X=ve==null?void 0:ve.objeto)==null?void 0:X.nombre)||"—",Y=((H=ve==null?void 0:ve.objeto)==null?void 0:H.icono)||"📦",se=Number(ve==null?void 0:ve.cantidad)||0,ee=S.get(ue).items;ee.has(O)||ee.set(O,{name:O,icon:Y,count:0}),ee.get(O).count+=se}}return Array.from(S.values()).map(q=>({...q,items:Array.from(q.items.values()).sort((J,ue)=>ue.count-J.count||J.name.localeCompare(ue.name))})).filter(q=>q.items.length>0).sort((q,J)=>q.name.localeCompare(J.name))},[e]),E=(l||"").toLowerCase().trim(),F=y.useMemo(()=>E?j.filter(S=>S.name.toLowerCase().includes(E)):j,[j,E]),w=y.useMemo(()=>E?T.map(S=>({...S,items:S.items.filter(M=>S.name.toLowerCase().includes(E)||M.name.toLowerCase().includes(E))})).filter(S=>S.items.length>0):T,[T,E]);return o.jsxs("div",{className:"flex flex-col h-[100dvh] relative",children:[o.jsx("div",{className:"px-4 pt-4 md:px-6 md:pt-5 select-none",children:o.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex items-center flex-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-surface-raised/80 backdrop-blur px-3 py-2 shadow-lg",role:"search","aria-label":"Buscar inventario",children:[o.jsx(ks,{size:16,className:"text-gray-500 dark:text-gray-400 mr-2"}),o.jsx("input",{type:"text",value:l,onChange:S=>i(S.target.value),placeholder:a==="items"?"Buscar por objeto (e.g., silla, mesa)":"Buscar por compañía u objeto",className:"w-full bg-transparent text-sm text-gray-800 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-500 focus:outline-none","aria-label":"Buscar inventario"})]}),o.jsxs(xe,{onClick:()=>{W(null),m(!0)},className:"gap-2 whitespace-nowrap",children:[o.jsx($s,{size:16})," Crear objeto"]}),o.jsxs("div",{className:"flex items-center rounded-md border border-gray-200 dark:border-gray-700 overflow-hidden",children:[o.jsx("button",{type:"button",onClick:()=>s("items"),className:`px-3 py-2 text-sm ${a==="items"?"bg-primary-600 text-white":"bg-white dark:bg-surface-raised/60 text-gray-700 dark:text-gray-200"}`,"aria-pressed":a==="items",children:"Por objeto"}),o.jsx("button",{type:"button",onClick:()=>s("companies"),className:`px-3 py-2 text-sm border-l border-gray-200 dark:border-gray-700 ${a==="companies"?"bg-primary-600 text-white":"bg-white dark:bg-surface-raised/60 text-gray-700 dark:text-gray-200"}`,"aria-pressed":a==="companies",children:"Por compañía"})]})]})}),o.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-6 pb-16",children:r?o.jsx("div",{className:"grid gap-3",children:Array.from({length:6}).map((S,M)=>o.jsx("div",{className:"h-12 rounded-lg bg-gray-100 dark:bg-gray-800 animate-pulse"},M))}):o.jsxs("div",{className:"space-y-6",children:[a==="items"&&o.jsxs("div",{className:"grid gap-2",children:[F.map(S=>o.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-surface-raised",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[S.image?o.jsx("img",{src:S.image,alt:S.name,className:"w-8 h-8 rounded object-cover"}):o.jsx("span",{className:"text-2xl",children:S.icon}),o.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-gray-100",children:S.name})]}),o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:S.count})]},S.name)),F.length===0&&o.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-8",children:"No hay resultados"})]}),a==="companies"&&o.jsxs("div",{className:"space-y-4",children:[w.map(S=>o.jsxs("div",{className:"rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[o.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-gray-800/60 text-sm font-semibold text-gray-800 dark:text-gray-100",children:S.name}),o.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:S.items.map(M=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-surface-raised",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:M.icon}),o.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-100",children:M.name})]}),o.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:M.count})]},M.name))})]},S.id)),w.length===0&&o.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-8",children:"No hay resultados"})]}),N&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("div",{className:"flex items-center flex-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-surface-raised/80 backdrop-blur px-3 py-2 shadow-sm",children:[o.jsx(ks,{size:16,className:"text-gray-500 dark:text-gray-400 mr-2"}),o.jsx("input",{value:R,onChange:S=>{U(1),z(S.target.value)},placeholder:"Buscar objetos por nombre, categoría o código",className:"w-full bg-transparent text-sm"})]})}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:u.map(S=>o.jsx("div",{className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-surface-raised",children:o.jsxs("div",{className:"flex items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[S.imagen?o.jsx("img",{src:S.imagen,alt:S.nombre,className:"w-10 h-10 rounded object-cover"}):o.jsx("span",{className:"text-2xl",children:S.icono||"📦"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:S.nombre}),o.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[S.categoria," · ",S.numeroInventario]})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xe,{variant:"ghost",size:"sm",className:"gap-1",onClick:()=>{W(S),x({nombre:S.nombre||"",categoria:S.categoria||"",numeroInventario:S.numeroInventario||"",nickname:S.nickname||"",descripcion:S.descripcion||"",icono:S.icono||"📦",imagen:null}),m(!0)},children:[o.jsx(om,{size:14})," Editar"]}),o.jsxs(xe,{variant:"outline",size:"sm",className:"gap-1",onClick:async()=>{if(window.confirm(`¿Borrar el objeto "${S.nombre}"? Esta acción no se puede deshacer.`)){try{await ft.deleteObject(S._id||S.id)}catch{}try{const H=(await ft.getObjects({search:R,page:L,limit:B})).data||{},q=Array.isArray(H)?H:H.objects||[];c(q.filter(Boolean))}catch{}}},children:[o.jsx(br,{size:14})," Borrar"]})]})]})},S._id||S.id))}),o.jsxs("div",{className:"flex items-center justify-between mt-3",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:A>0?`Mostrando ${(L-1)*B+1}–${Math.min(L*B,A)} de ${A}`:"Sin resultados"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>U(S=>Math.max(1,S-1)),disabled:L<=1,className:"gap-1",children:[o.jsx(Pi,{size:14})," Anterior"]}),o.jsxs("span",{className:"text-xs",children:[L," / ",Math.max(K,1)]}),o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>U(S=>Math.min(K,S+1)),disabled:L>=K,className:"gap-1",children:["Siguiente ",o.jsx(_i,{size:14})]})]})]})]})]})}),o.jsx("div",{className:"absolute bottom-4 left-4 z-30",children:o.jsx(xe,{variant:N?"solid":"outline",onClick:()=>k(S=>!S),children:N?"Ocultar catálogo":"Mostrar catálogo"})}),d&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>{m(!1),W(null)}}),o.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-5 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:_?"Editar objeto":"Crear objeto"}),o.jsx("button",{onClick:()=>{m(!1),W(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:o.jsx(Cr,{size:16})})]}),o.jsxs("form",{onSubmit:async S=>{var M,X;if(S.preventDefault(),!p){C(!0),b("");try{const H=new FormData;H.append("nombre",f.nombre),H.append("categoria",f.categoria),H.append("numeroInventario",f.numeroInventario),f.nickname&&H.append("nickname",f.nickname),f.descripcion&&H.append("descripcion",f.descripcion),f.icono&&H.append("icono",f.icono),f.imagen&&H.append("imagen",f.imagen),_?await ft.updateObject(_._id||_.id,H):await ft.createObject(H),m(!1),W(null),x({nombre:"",categoria:"",numeroInventario:"",nickname:"",descripcion:"",icono:"📦",imagen:null}),h("Objeto guardado correctamente"),setTimeout(()=>h(""),2500);try{const J=(await ft.getObjects({search:R,page:L,limit:B})).data||{},ue=Array.isArray(J)?J:J.objects||[];c(ue.filter(Boolean))}catch{}}catch(H){b(((X=(M=H==null?void 0:H.response)==null?void 0:M.data)==null?void 0:X.message)||"No se pudo guardar el objeto")}finally{C(!1)}}},className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Nombre"}),o.jsx(wt,{value:f.nombre,onChange:S=>x(M=>({...M,nombre:S.target.value})),placeholder:"Nombre del objeto",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Categoría"}),o.jsx(wt,{value:f.categoria,onChange:S=>x(M=>({...M,categoria:S.target.value})),placeholder:"Categoría (ej. silla, mesa)",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Número de inventario"}),o.jsx(wt,{value:f.numeroInventario,onChange:S=>x(M=>({...M,numeroInventario:S.target.value})),placeholder:"Código/Número único",required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Apodo"}),o.jsx(wt,{value:f.nickname,onChange:S=>x(M=>({...M,nickname:S.target.value})),placeholder:"Opcional"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Icono"}),o.jsx(wt,{value:f.icono,onChange:S=>x(M=>({...M,icono:S.target.value})),placeholder:"Ej. 📦"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Descripción"}),o.jsx(wt,{value:f.descripcion,onChange:S=>x(M=>({...M,descripcion:S.target.value})),placeholder:"Breve descripción"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Imagen"}),o.jsx("input",{type:"file",accept:"image/*",onChange:S=>x(M=>{var X;return{...M,imagen:((X=S.target.files)==null?void 0:X[0])||null}})})]}),g&&o.jsx("div",{className:"text-xs text-danger-500",children:g}),o.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[o.jsx(xe,{type:"button",variant:"ghost",onClick:()=>{m(!1),W(null)},children:"Cancelar"}),o.jsx(xe,{type:"submit",disabled:p,children:p?"Guardando…":_?"Actualizar":"Crear"})]})]})]})]}),v&&o.jsx("div",{className:"fixed bottom-4 right-4 z-50 px-4 py-2 rounded-lg bg-emerald-600 text-white shadow-lg",children:v})]})}const Im=(...e)=>e.filter(Boolean).join(" "),Kx=[{key:"borrador",label:"Borrador",enabled:!0},{key:"doc-historico",label:"Doc. Histórico",enabled:!0},{key:"estadisticas",label:"Estadísticas",enabled:!1},{key:"auditoria",label:"Auditoría",enabled:!1}];function Jx(){const[e,t]=y.useState("borrador"),[r,n]=y.useState([]),[a,s]=y.useState(!0),[l,i]=y.useState(""),[u,c]=y.useState(""),[d,m]=y.useState(""),[p,C]=y.useState("date_desc"),[g,b]=y.useState(null),v=()=>{s(!0),i(""),Va.list().then(k=>{var R;return n(((R=k.data)==null?void 0:R.deleted)||[])}).catch(k=>{var R,z;return i(((z=(R=k==null?void 0:k.response)==null?void 0:R.data)==null?void 0:z.message)||(k==null?void 0:k.message)||"Error cargando borrados")}).finally(()=>s(!1))};y.useEffect(()=>{v()},[]);const h=async k=>{try{await Va.restore(k),v()}catch{}},f=async k=>{if(confirm("¿Eliminar para siempre este registro?"))try{await Va.purge(k),v()}catch{}},x=Array.from(new Map(r.map(k=>{var R,z;return[((R=k.compañia)==null?void 0:R._id)||((z=k.compañia)==null?void 0:z.id),k.compañia]}).filter(([k,R])=>k&&R)).values()),N=r.filter(k=>{var U,B;const R=u.trim().toLowerCase(),z=!R||(k.nombre||"").toLowerCase().includes(R)||(k.categoria||"").toLowerCase().includes(R),L=!d||((U=k.compañia)==null?void 0:U._id)===d||((B=k.compañia)==null?void 0:B.id)===d;return z&&L}).sort((k,R)=>p==="date_desc"?new Date(R.deletedAt)-new Date(k.deletedAt):p==="date_asc"?new Date(k.deletedAt)-new Date(R.deletedAt):p==="name_asc"?(k.nombre||"").localeCompare(R.nombre||""):p==="name_desc"?(R.nombre||"").localeCompare(k.nombre||""):0);return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100",children:"Dashboard"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Gestión centralizada del sistema"})]}),o.jsx("div",{className:"mb-6",role:"tablist","aria-label":"Secciones del Dashboard",children:o.jsx("div",{className:"flex gap-2 border-b border-gray-200 dark:border-gray-800",children:Kx.map(k=>o.jsxs("button",{role:"tab","aria-selected":e===k.key,"aria-controls":`panel-${k.key}`,disabled:!k.enabled,onClick:()=>k.enabled&&t(k.key),className:Im("px-4 py-2 text-sm font-medium border-b-2 transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500/60 focus-visible:ring-offset-2",e===k.key?"border-primary-600 text-primary-600 dark:text-primary-400":k.enabled?"border-transparent text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:border-gray-300 dark:hover:border-gray-700":"border-transparent text-gray-400 dark:text-gray-600 cursor-not-allowed"),children:[k.label,!k.enabled&&o.jsx("span",{className:"ml-2 text-xs",children:"(Próximamente)"})]},k.key))})}),e==="borrador"&&o.jsx(Gx,{items:r,loading:a,err:l,query:u,setQuery:c,companyId:d,setCompanyId:m,sort:p,setSort:C,preview:g,setPreview:b,load:v,restore:h,purge:f,filtered:N,companies:x}),e==="doc-historico"&&o.jsx(Zx,{}),e==="estadisticas"&&o.jsxs("div",{role:"tabpanel",id:"panel-estadisticas",className:"py-12 text-center text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"text-4xl mb-4",children:"📊"}),o.jsx("p",{className:"text-lg font-medium",children:"Estadísticas"}),o.jsx("p",{className:"text-sm",children:"Esta sección estará disponible próximamente"})]}),e==="auditoria"&&o.jsxs("div",{role:"tabpanel",id:"panel-auditoria",className:"py-12 text-center text-gray-500 dark:text-gray-400",children:[o.jsx("div",{className:"text-4xl mb-4",children:"🔍"}),o.jsx("p",{className:"text-lg font-medium",children:"Auditoría"}),o.jsx("p",{className:"text-sm",children:"Esta sección estará disponible próximamente"})]})]})}function Gx({items:e,loading:t,err:r,query:n,setQuery:a,companyId:s,setCompanyId:l,sort:i,setSort:u,preview:c,setPreview:d,load:m,restore:p,purge:C,filtered:g,companies:b}){var v,h,f,x,N,k,R,z,L,U,B,$,A,Q,K,D;return o.jsxs("section",{role:"tabpanel",id:"panel-borrador",children:[o.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100",children:"Historial de borrados"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[o.jsx("input",{value:n,onChange:_=>a(_.target.value),placeholder:"Buscar por nombre o categoría",className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm"}),o.jsxs("select",{value:s,onChange:_=>l(_.target.value),className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm",children:[o.jsx("option",{value:"",children:"Todas las compañías"}),b.map(_=>o.jsx("option",{value:_._id||_.id,children:_.nombre},_._id||_.id))]}),o.jsxs("select",{value:i,onChange:_=>u(_.target.value),className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm",children:[o.jsx("option",{value:"date_desc",children:"Más recientes"}),o.jsx("option",{value:"date_asc",children:"Más antiguos"}),o.jsx("option",{value:"name_asc",children:"Nombre A→Z"}),o.jsx("option",{value:"name_desc",children:"Nombre Z→A"})]}),o.jsx("button",{onClick:m,className:"ml-auto px-3 py-2 rounded bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Recargar"})]}),r&&o.jsx("div",{className:"mb-2 text-sm text-red-600 dark:text-red-400",children:r}),t?o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Cargando…"}):g.length===0?o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"No hay elementos borrados."}):o.jsx("div",{className:"overflow-auto rounded border border-gray-200 dark:border-gray-800",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/40",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-3 py-2",children:"Nombre"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Compañía"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Coordenadas"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Motivo"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Borrado por"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Fecha"}),o.jsx("th",{className:"text-right px-3 py-2",children:"Acciones"})]})}),o.jsx("tbody",{children:g.map(_=>{var W,j,T,E,F,w,S;return o.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900/20 transition-colors",children:[o.jsx("td",{className:"px-3 py-2 font-medium",children:_.nombre}),o.jsx("td",{className:"px-3 py-2",children:((W=_.compañia)==null?void 0:W.nombre)||"—"}),o.jsxs("td",{className:"px-3 py-2",children:[(j=_.coordenadas)==null?void 0:j.x,",",(T=_.coordenadas)==null?void 0:T.y]}),o.jsx("td",{className:"px-3 py-2 max-w-[240px] truncate",title:((E=_.meta)==null?void 0:E.reason)||"",children:((F=_.meta)==null?void 0:F.reason)||"—"}),o.jsx("td",{className:"px-3 py-2",children:((w=_.deletedBy)==null?void 0:w.nombre)||((S=_.deletedBy)==null?void 0:S.email)||"—"}),o.jsx("td",{className:"px-3 py-2",children:_.deletedAt?new Date(_.deletedAt).toLocaleString():"—"}),o.jsxs("td",{className:"px-3 py-2 text-right",children:[o.jsx("button",{className:"px-2 py-1 rounded bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 mr-2 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:()=>d({type:"fotos",item:_}),children:"Ver"}),o.jsx("button",{className:"px-2 py-1 rounded bg-primary-600 text-white mr-2 hover:bg-primary-700 transition-colors",onClick:()=>p(_._id),children:"Restaurar"}),o.jsx("button",{className:"px-2 py-1 rounded bg-red-600 text-white hover:bg-red-700 transition-colors",onClick:()=>C(_._id),children:"Eliminar"})]})]},_._id)})})]})}),c&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",role:"dialog","aria-modal":!0,onClick:()=>d(null),children:o.jsxs("div",{className:"w-[min(92vw,860px)] max-h-[90vh] rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-2xl overflow-hidden",onClick:_=>_.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"font-semibold",children:[(v=c.item)==null?void 0:v.nombre," — ",((f=(h=c.item)==null?void 0:h.compañia)==null?void 0:f.nombre)||"—"]}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["X:",(N=(x=c.item)==null?void 0:x.coordenadas)==null?void 0:N.x," Y:",(R=(k=c.item)==null?void 0:k.coordenadas)==null?void 0:R.y]})]}),o.jsx("button",{className:"px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",onClick:()=>d(null),children:"Cerrar"})]}),o.jsxs("div",{className:"p-4 space-y-4 overflow-auto max-h-[calc(90vh-48px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-3",children:[o.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Motivo"}),o.jsx("div",{className:"mt-1",children:((L=(z=c.item)==null?void 0:z.meta)==null?void 0:L.reason)||"—"})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-3",children:[o.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Borrado por"}),o.jsx("div",{className:"mt-1",children:((B=(U=c.item)==null?void 0:U.deletedBy)==null?void 0:B.nombre)||((A=($=c.item)==null?void 0:$.deletedBy)==null?void 0:A.email)||"—"})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-3",children:[o.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Fecha"}),o.jsx("div",{className:"mt-1",children:(Q=c.item)!=null&&Q.deletedAt?new Date(c.item.deletedAt).toLocaleString():"—"})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Fotos"}),Array.isArray((K=c.item)==null?void 0:K.fotos)&&c.item.fotos.length>0?o.jsx("div",{className:"grid grid-cols-4 gap-2",children:c.item.fotos.map((_,W)=>o.jsx("img",{src:_.url,alt:_.nombre||`foto-${W}`,className:"w-full h-24 object-cover rounded"},W))}):o.jsx("div",{className:"text-xs text-gray-500",children:"Sin fotos"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:"Documentos"}),Array.isArray((D=c.item)==null?void 0:D.documentos)&&c.item.documentos.length>0?o.jsx("ul",{className:"space-y-1 text-sm",children:c.item.documentos.map((_,W)=>o.jsxs("li",{className:"flex items-center justify-between gap-2 bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded px-2 py-1.5",children:[o.jsx("span",{className:"truncate",children:_.nombre}),o.jsx("a",{className:"text-primary-600 hover:underline",href:_.url,download:!0,children:"Descargar"})]},W))}):o.jsx("div",{className:"text-xs text-gray-500",children:"Sin documentos"})]})]})]})})]})}function Zx(){var L,U,B,$,A,Q,K,D,_,W,j,T;const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,s]=y.useState(""),[l,i]=y.useState(""),[u,c]=y.useState(""),[d,m]=y.useState(""),[p,C]=y.useState("date"),[g,b]=y.useState(null),[v,h]=y.useState([]),f=()=>{n(!0),s("");const E={};u&&(E.fileType=u),d&&(E.companyId=d),p&&(E.sort=p),Xa.listDeleted(E).then(F=>{var w;return t(((w=F.data)==null?void 0:w.files)||[])}).catch(F=>{var w,S;return s(((S=(w=F==null?void 0:F.response)==null?void 0:w.data)==null?void 0:S.message)||(F==null?void 0:F.message)||"Error cargando archivos borrados")}).finally(()=>n(!1))};y.useEffect(()=>{f(),Ue.getCompanies({params:{page:1,limit:200}}).then(E=>{var F;return h(((F=E.data)==null?void 0:F.companies)||E.data||[])}).catch(()=>{})},[u,d,p]);const x=async E=>{var F,w;try{await Xa.restore(E),f()}catch(S){alert(((w=(F=S==null?void 0:S.response)==null?void 0:F.data)==null?void 0:w.message)||"Error al restaurar archivo")}},N=async E=>{var F,w;if(confirm("¿Eliminar permanentemente este archivo?"))try{await Xa.purge(E),f()}catch(S){alert(((w=(F=S==null?void 0:S.response)==null?void 0:F.data)==null?void 0:w.message)||"Error al eliminar archivo")}},k=e.filter(E=>{var w;const F=l.trim().toLowerCase();return!F||(((w=E.originalFileData)==null?void 0:w.nombre)||"").toLowerCase().includes(F)}),R=E=>E?E<1024?E+" B":E<1024*1024?(E/1024).toFixed(1)+" KB":(E/(1024*1024)).toFixed(1)+" MB":"—",z=E=>E?E.startsWith("image/")?o.jsx(ac,{size:20}):E.includes("pdf")?o.jsx(Nl,{size:20}):E.includes("spreadsheet")||E.includes("excel")?o.jsx(kg,{size:20}):E.includes("word")||E.includes("document")?o.jsx(Nl,{size:20}):o.jsx(nc,{size:20}):o.jsx(nc,{size:20});return o.jsxs("section",{role:"tabpanel",id:"panel-doc-historico",children:[o.jsx("h2",{className:"text-lg font-medium mb-4 text-gray-900 dark:text-gray-100",children:"Historial de archivos borrados"}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[o.jsx("input",{value:l,onChange:E=>i(E.target.value),placeholder:"Buscar por nombre de archivo",className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm"}),o.jsxs("select",{value:u,onChange:E=>c(E.target.value),className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm",children:[o.jsx("option",{value:"",children:"Todos los tipos"}),o.jsx("option",{value:"foto",children:"Fotos"}),o.jsx("option",{value:"documento",children:"Documentos"})]}),o.jsxs("select",{value:d,onChange:E=>m(E.target.value),className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm",children:[o.jsx("option",{value:"",children:"Todas las compañías"}),v.map(E=>o.jsx("option",{value:E._id||E.id,children:E.nombre},E._id||E.id))]}),o.jsxs("select",{value:p,onChange:E=>C(E.target.value),className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-sm",children:[o.jsx("option",{value:"date",children:"Más recientes"}),o.jsx("option",{value:"name",children:"Por nombre"})]}),o.jsx("button",{onClick:f,className:"ml-auto px-3 py-2 rounded bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-sm hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Recargar"})]}),a&&o.jsx("div",{className:"mb-2 text-sm text-red-600 dark:text-red-400",children:a}),r?o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Cargando…"}):k.length===0?o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:"No hay archivos borrados."}):o.jsx("div",{className:"overflow-auto rounded border border-gray-200 dark:border-gray-800",children:o.jsxs("table",{className:"min-w-full text-sm",children:[o.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/40",children:o.jsxs("tr",{children:[o.jsx("th",{className:"text-left px-3 py-2",children:"Archivo"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Tipo"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Punto"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Compañía"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Tamaño"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Motivo"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Borrado por"}),o.jsx("th",{className:"text-left px-3 py-2",children:"Fecha"}),o.jsx("th",{className:"text-right px-3 py-2",children:"Acciones"})]})}),o.jsx("tbody",{children:k.map(E=>{var F,w,S,M,X,H,q,J;return o.jsxs("tr",{className:"border-t border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-900/20 transition-colors",children:[o.jsx("td",{className:"px-3 py-2",children:o.jsxs("div",{className:"flex items-center gap-2",children:[E.fileType==="foto"?o.jsx(ac,{size:16,className:"text-gray-400"}):z((F=E.originalFileData)==null?void 0:F.tipo),o.jsx("span",{className:"font-medium truncate max-w-[200px]",title:(w=E.originalFileData)==null?void 0:w.nombre,children:((S=E.originalFileData)==null?void 0:S.nombre)||"Sin nombre"})]})}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:Im("px-2 py-1 rounded text-xs font-medium",E.fileType==="foto"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300"),children:E.fileType==="foto"?"Foto":"Documento"})}),o.jsx("td",{className:"px-3 py-2",children:E.pointName||"—"}),o.jsx("td",{className:"px-3 py-2",children:E.companyName||"—"}),o.jsx("td",{className:"px-3 py-2",children:R((M=E.originalFileData)==null?void 0:M.tamaño)}),o.jsx("td",{className:"px-3 py-2 max-w-[200px] truncate",title:((X=E.meta)==null?void 0:X.reason)||"",children:((H=E.meta)==null?void 0:H.reason)||"—"}),o.jsx("td",{className:"px-3 py-2",children:typeof E.deletedBy=="string"?E.deletedBy:((q=E.deletedBy)==null?void 0:q.nombre)||((J=E.deletedBy)==null?void 0:J.email)||"—"}),o.jsx("td",{className:"px-3 py-2",children:E.deletedAt?new Date(E.deletedAt).toLocaleString():"—"}),o.jsx("td",{className:"px-3 py-2 text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx("button",{className:"p-1.5 rounded bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:()=>b(E),title:"Ver",children:"👁️"}),o.jsx("button",{className:"p-1.5 rounded bg-primary-600 text-white hover:bg-primary-700 transition-colors",onClick:()=>x(E._id),title:"Restaurar",children:o.jsx(Eg,{size:14})}),o.jsx("button",{className:"p-1.5 rounded bg-red-600 text-white hover:bg-red-700 transition-colors",onClick:()=>N(E._id),title:"Eliminar permanentemente",children:o.jsx(br,{size:14})})]})})]},E._id)})})]})}),g&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",role:"dialog","aria-modal":!0,onClick:()=>b(null),children:o.jsxs("div",{className:"w-[min(92vw,720px)] max-h-[90vh] rounded-xl bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 shadow-2xl overflow-hidden",onClick:E=>E.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:((L=g.originalFileData)==null?void 0:L.nombre)||"Sin nombre"}),o.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[g.fileType==="foto"?"Foto":"Documento"," • ",R((U=g.originalFileData)==null?void 0:U.tamaño)]})]}),o.jsx("button",{className:"px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",onClick:()=>b(null),children:"Cerrar"})]}),o.jsxs("div",{className:"p-4 space-y-4 overflow-auto max-h-[calc(90vh-64px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-3",children:[o.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Punto Original"}),o.jsx("div",{className:"mt-1",children:g.pointName||"—"})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-3",children:[o.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Compañía"}),o.jsx("div",{className:"mt-1",children:g.companyName||"—"})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-3",children:[o.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Fecha"}),o.jsx("div",{className:"mt-1",children:g.deletedAt?new Date(g.deletedAt).toLocaleString():"—"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-3",children:[o.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Motivo"}),o.jsx("div",{className:"mt-1",children:((B=g.meta)==null?void 0:B.reason)||"—"})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-3",children:[o.jsx("div",{className:"text-xs uppercase text-gray-500",children:"Borrado por"}),o.jsx("div",{className:"mt-1",children:typeof g.deletedBy=="string"?g.deletedBy:(($=g.deletedBy)==null?void 0:$.nombre)||((A=g.deletedBy)==null?void 0:A.email)||"—"})]})]}),o.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/60 border border-gray-200 dark:border-gray-700 rounded p-4",children:g.fileType==="foto"?o.jsx("img",{src:(Q=g.originalFileData)==null?void 0:Q.url,alt:(K=g.originalFileData)==null?void 0:K.nombre,className:"w-full rounded"}):o.jsxs("div",{className:"flex flex-col items-center gap-4 py-8",children:[z((D=g.originalFileData)==null?void 0:D.tipo),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"font-medium",children:(_=g.originalFileData)==null?void 0:_.nombre}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:((W=g.originalFileData)==null?void 0:W.tipo)||"Tipo desconocido"})]}),o.jsxs("a",{href:(j=g.originalFileData)==null?void 0:j.url,download:(T=g.originalFileData)==null?void 0:T.nombre,className:"flex items-center gap-2 px-4 py-2 rounded bg-primary-600 text-white hover:bg-primary-700 transition-colors",children:[o.jsx(vg,{size:16}),"Descargar"]})]})})]})]})})]})}function ev(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[a,s]=y.useState(""),[l,i]=y.useState(1),[u,c]=y.useState(10),[d,m]=y.useState(0),[p,C]=y.useState(1),[g,b]=y.useState(!1),[v,h]=y.useState({nombre:"",personaContacto:"",telefono:"",email:""}),[f,x]=y.useState(!1),[N,k]=y.useState(""),[R,z]=y.useState(null),L=()=>Ue.getCompanies({params:{search:a,page:l,limit:u}}).then(A=>{const Q=A.data||{},K=Array.isArray(Q)?Q:Q.companies||[];t(K),typeof Q.total=="number"&&m(Q.total),typeof Q.pages=="number"&&C(Q.pages)}).catch(()=>{});y.useEffect(()=>{let A=!0;return n(!0),L().finally(()=>A&&n(!1)),()=>{A=!1}},[]),y.useEffect(()=>{const A=setTimeout(()=>{n(!0),L().finally(()=>n(!1))},200);return()=>clearTimeout(A)},[a,l,u]);const U=(A,Q)=>h(K=>({...K,[A]:Q})),B=y.useMemo(()=>v.nombre.trim()&&v.personaContacto.trim()&&v.telefono.trim(),[v]),$=async A=>{var Q,K,D,_;if((Q=A==null?void 0:A.preventDefault)==null||Q.call(A),!(!B||f)){x(!0),k("");try{R?await((K=Ue.updateCompany)==null?void 0:K.call(Ue,R._id||R.id,{nombre:v.nombre.trim(),personaContacto:v.personaContacto.trim(),telefono:v.telefono.trim(),email:v.email.trim()||void 0})):await Ue.createCompany({nombre:v.nombre.trim(),personaContacto:v.personaContacto.trim(),telefono:v.telefono.trim(),email:v.email.trim()||void 0}),b(!1),z(null),h({nombre:"",personaContacto:"",telefono:"",email:""}),L()}catch(W){k(((_=(D=W==null?void 0:W.response)==null?void 0:D.data)==null?void 0:_.message)||"No se pudo crear la compañía")}finally{x(!1)}}};return o.jsxs("div",{className:"flex flex-col h-[100dvh]",children:[o.jsx("div",{className:"px-4 pt-4 md:px-6 md:pt-5 select-none",children:o.jsxs("div",{className:"flex items-center justify-between gap-3 md:gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-800 dark:text-gray-100",children:[o.jsx(nm,{size:18}),o.jsx("h2",{className:"text-sm font-semibold",children:"Compañías"})]}),o.jsxs("div",{className:"flex items-center gap-3 flex-1 max-w-lg ml-auto",children:[o.jsxs("div",{className:"flex items-center flex-1 rounded-xl border border-gray-200 dark:border-gray-700 bg-white/90 dark:bg-surface-raised/80 backdrop-blur px-3 py-2 shadow-sm",role:"search","aria-label":"Buscar compañías",children:[o.jsx(ks,{size:16,className:"text-gray-500 dark:text-gray-400 mr-2"}),o.jsx("input",{type:"text",value:a,onChange:A=>{i(1),s(A.target.value)},placeholder:"Buscar por nombre, responsable, teléfono o email",className:"w-full bg-transparent text-sm text-gray-800 dark:text-gray-100 placeholder:text-gray-500 dark:placeholder:text-gray-500 focus:outline-none","aria-label":"Buscar compañías"})]}),o.jsxs(xe,{onClick:()=>b(!0),className:"gap-2 whitespace-nowrap",children:[o.jsx($s,{size:16})," Agregar"]})]})]})}),o.jsx("div",{className:"flex-1 overflow-auto p-4 md:p-6",children:r?o.jsx("div",{className:"grid gap-3",children:Array.from({length:6}).map((A,Q)=>o.jsx("div",{className:"h-12 rounded-lg bg-gray-100 dark:bg-gray-800 animate-pulse"},Q))}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[e.map(A=>o.jsxs("div",{className:"p-3 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-surface-raised flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:A.nombre}),o.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[A.personaContacto," · ",A.telefono,A.email?` · ${A.email}`:""]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xe,{variant:"ghost",size:"sm",className:"gap-1",onClick:()=>{z(A),h({nombre:A.nombre||"",personaContacto:A.personaContacto||"",telefono:A.telefono||"",email:A.email||""}),b(!0)},children:[o.jsx(om,{size:14})," Editar"]}),o.jsxs(xe,{variant:"outline",size:"sm",className:"gap-1",onClick:async()=>{var K;if(window.confirm(`¿Borrar la compañía "${A.nombre}"? Esta acción no se puede deshacer.`)){try{await((K=Ue.deleteCompany)==null?void 0:K.call(Ue,A._id||A.id))}catch{}L()}},children:[o.jsx(br,{size:14})," Borrar"]})]})]},A._id||A.id)),e.length===0&&o.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-8",children:"No hay compañías registradas"})]}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:d>0?`Mostrando ${(l-1)*u+1}–${Math.min(l*u,d)} de ${d}`:"Sin resultados"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>i(A=>Math.max(1,A-1)),disabled:l<=1,className:"gap-1",children:[o.jsx(Pi,{size:14})," Anterior"]}),o.jsxs("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:[l," / ",Math.max(p,1)]}),o.jsxs(xe,{variant:"outline",size:"sm",onClick:()=>i(A=>Math.min(p,A+1)),disabled:l>=p,className:"gap-1",children:["Siguiente ",o.jsx(_i,{size:14})]})]})]})]})}),g&&o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>b(!1)}),o.jsxs("div",{className:"relative w-full max-w-md rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-5 shadow-2xl",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:R?"Editar compañía":"Agregar compañía"}),o.jsx("button",{onClick:()=>{b(!1),z(null)},className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:o.jsx(Cr,{size:16})})]}),o.jsxs("form",{onSubmit:$,className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Nombre"}),o.jsx(wt,{value:v.nombre,onChange:A=>U("nombre",A.target.value),placeholder:"Nombre de la compañía",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Persona responsable"}),o.jsx(wt,{value:v.personaContacto,onChange:A=>U("personaContacto",A.target.value),placeholder:"Persona de contacto",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Teléfono"}),o.jsx(wt,{value:v.telefono,onChange:A=>U("telefono",A.target.value),placeholder:"Teléfono",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Email"}),o.jsx(wt,{type:"email",value:v.email,onChange:A=>U("email",A.target.value),placeholder:"email@ejemplo.com"})]}),N&&o.jsx("div",{className:"text-xs text-danger-500",children:N}),o.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[o.jsx(xe,{type:"button",variant:"ghost",onClick:()=>{b(!1),z(null)},children:"Cancelar"}),o.jsx(xe,{type:"submit",disabled:!B||f,children:f?"Guardando…":R?"Actualizar":"Guardar"})]})]})]})]})]})}const tv=({name:e})=>{const t=(e||"").split(" ").filter(Boolean).slice(0,2).map(r=>{var n;return(n=r[0])==null?void 0:n.toUpperCase()}).join("")||"U";return o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-white/10 dark:to-white/5 flex items-center justify-center text-gray-700 dark:text-white text-sm font-semibold",children:t})},Pc=()=>{const{user:e,logout:t}=tr();return e?o.jsxs("div",{className:"bg-white/90 dark:bg-gray-900/60 border border-gray-200 dark:border-gray-800 rounded-xl p-3 text-sm text-gray-700 dark:text-gray-200 backdrop-blur transition-colors",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"shrink-0",children:o.jsx(tv,{name:e==null?void 0:e.nombre})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"font-medium truncate text-gray-900 dark:text-gray-100",title:e==null?void 0:e.nombre,children:e==null?void 0:e.nombre}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",title:e==null?void 0:e.email,children:e==null?void 0:e.email}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-xs capitalize",children:e==null?void 0:e.rol})]})]})]}),o.jsx("div",{className:"mt-3",children:o.jsx("button",{type:"button",onClick:t,"aria-label":"Cerrar sesión",className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-500/20 dark:text-red-300 dark:hover:bg-red-500/25 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-400/40",children:"Cerrar sesión"})})]}):null},Pa=(...e)=>e.filter(Boolean).join(" "),sr=({children:e})=>{var v;const[t,r]=y.useState(!1),[n,a]=y.useState(!1),{isAdmin:s}=tr(),l=Ei(),i=Bs(),{theme:u,toggleTheme:c}=dg(),d=y.useRef(null),m=[{to:"/",label:"Mapa Principal",icon:Tn},...s()?[{to:"/dashboard",label:"Dashboard",icon:gg}]:[],...s()?[{to:"/companies",label:"Compañías",icon:nm},{to:"/inventory",label:"Inventario",icon:Cg},{to:"/users",label:"Usuarios",icon:_g}]:[],{to:"/settings",label:"Configuración",icon:Pg},{to:"/help",label:"Ayuda & Soporte",icon:wg}],C={"/":"Mapa Principal","/dashboard":"Dashboard","/companies":"Compañías","/inventory":"Inventario","/users":"Usuarios","/settings":"Configuración","/help":"Ayuda & Soporte"}[i.pathname]||"Mapa Principal",g=((v=m.find(h=>h.to===i.pathname))==null?void 0:v.icon)||Tn;y.useEffect(()=>{const h=f=>{d.current&&d.current.contains(f.target)};return document.addEventListener("click",h),()=>document.removeEventListener("click",h)},[]);const b=({to:h,label:f,icon:x})=>{const N=i.pathname===h;return o.jsxs("button",{onClick:()=>l(h),className:Pa("relative w-full flex items-center rounded-md text-sm font-medium transition-colors h-10","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500/60",n?"justify-center px-2":"justify-start gap-3 px-3",N?"bg-primary-600/15 text-primary-600 dark:text-primary-300 dark:bg-primary-400/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"),"aria-current":N?"page":void 0,title:n?f:void 0,children:[o.jsx("span",{className:Pa("flex items-center justify-center w-9 h-9 rounded-md",N&&"scale-105 text-primary-600 dark:text-primary-300"),children:o.jsx(x,{size:18})}),!n&&o.jsx("span",{className:"truncate",children:f})]})};return o.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-white dark:bg-gray-950 transition-colors duration-300",children:[o.jsxs("aside",{className:Pa("hidden lg:flex flex-col h-full border-r border-gray-200 dark:border-gray-800 bg-white/95 dark:bg-gray-950/90 backdrop-blur supports-[backdrop-filter]:bg-white/80 dark:supports-[backdrop-filter]:bg-gray-950/80 transition-[width] duration-300 relative",n?"w-16":"w-64"),"aria-label":"Barra lateral de navegación",children:[o.jsxs("div",{className:"flex items-center gap-2 px-3 py-3 border-b border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{className:Pa("flex items-center overflow-hidden flex-1",n?"justify-center":"gap-3"),children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary-600/10 dark:bg-primary-500/15 text-primary-600 dark:text-primary-300",children:o.jsx(g,{size:20})}),!n&&o.jsxs("div",{className:"transition-opacity duration-200",children:[o.jsx("h1",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 leading-tight",children:C}),o.jsx("p",{className:"text-[11px] text-gray-500 dark:text-gray-400",children:"MapShade"})]})]}),!n&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(xe,{variant:"icon",size:"icon","aria-label":"Cambiar tema",title:u==="dark"?"Tema claro":"Tema oscuro",onClick:c,className:"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:u==="dark"?o.jsx(oc,{size:16}):o.jsx(sc,{size:16})}),o.jsx(xe,{variant:"icon",size:"icon","aria-label":"Colapsar menú",title:"Colapsar menú",onClick:()=>a(!0),className:"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:o.jsx(Pi,{size:16})})]}),n&&o.jsx(xe,{variant:"icon",size:"icon","aria-label":"Cambiar tema",title:u==="dark"?"Tema claro":"Tema oscuro",onClick:c,className:"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:u==="dark"?o.jsx(oc,{size:16}):o.jsx(sc,{size:16})})]}),o.jsx("nav",{className:"flex-1 overflow-y-auto px-2 py-4 space-y-1",role:"navigation",children:m.map(h=>o.jsx(b,{...h},h.to))}),!n&&o.jsx("div",{className:"mt-auto px-3 pb-4",children:o.jsx(Pc,{})}),n&&o.jsx(xe,{variant:"icon",size:"icon","aria-label":"Expandir menú",title:"Expandir menú",onClick:()=>a(!1),className:"absolute top-1/2 -right-3 translate-y-[-50%] z-20 rounded-full border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 shadow hover:bg-gray-100 dark:hover:bg-gray-800 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500",children:o.jsx(_i,{size:16})})]}),o.jsx("div",{className:"flex flex-col flex-1 min-w-0 h-full relative",children:o.jsx("main",{className:"flex-1 overflow-hidden",children:e})}),t&&o.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>r(!1)}),o.jsxs("div",{className:"relative h-full max-w-xs w-full flex flex-col bg-white dark:bg-gray-950 shadow-xl",children:[o.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-200 dark:border-gray-800",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Tn,{size:22,className:"text-primary-600 dark:text-primary-300"}),o.jsx("span",{className:"text-base font-semibold text-gray-800 dark:text-gray-200",children:"MapShade"})]}),o.jsx(xe,{variant:"icon",size:"icon",onClick:()=>r(!1),"aria-label":"Cerrar menú",children:o.jsx(Cr,{size:18})})]}),o.jsxs("nav",{className:"flex-1 overflow-y-auto px-3 py-4 space-y-1",children:[m.map(h=>o.jsx(b,{...h},h.to)),o.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-800",children:o.jsx(Pc,{})})]})]})]}),o.jsx(xe,{onClick:()=>r(!0),variant:"icon",size:"icon",className:"lg:hidden fixed top-4 left-4 z-40 rounded-lg bg-white/90 dark:bg-gray-900/80 border border-gray-200 dark:border-gray-800 shadow-sm hover:bg-white dark:hover:bg-gray-800","aria-label":"Abrir menú",children:o.jsx(jg,{size:18})})]})};class rv extends Ml.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("UI ErrorBoundary:",t,r)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen grid place-items-center bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-lg w-full bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ha ocurrido un error en la interfaz"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Intenta recargar la página. Si el problema persiste, comparte el mensaje de abajo."}),o.jsx("pre",{className:"text-xs bg-gray-50 border border-gray-200 rounded p-3 overflow-auto",children:String(this.state.error)})]})}):this.props.children}}function nv(){const[e,t]=y.useState(bx()),[r,n]=y.useState(0);return y.useEffect(()=>wx(t),[]),y.useEffect(()=>{if(e>0){let a=!1;const s=()=>{n(l=>{if(e===0)return l;const i=l+Math.random()*10;return Math.min(i,85)}),!a&&e>0&&setTimeout(s,400)};return r===0&&n(10),setTimeout(s,200),()=>{a=!0}}else if(r>0){const a=setTimeout(()=>n(0),350);return n(100),()=>clearTimeout(a)}},[e]),o.jsx("div",{className:"pointer-events-none fixed top-0 left-0 right-0 z-[9999] h-0.5",children:r>0&&o.jsxs("div",{className:"h-full relative overflow-hidden transition-all duration-300",style:{width:r+"%"},children:[o.jsx("div",{className:"absolute inset-0 bg-primary-500 dark:bg-primary-400"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/60 to-transparent opacity-40 animate-[pulse_1.4s_ease_infinite]"})]})})}const av=()=>o.jsx("div",{className:"p-8",children:"Usuarios (próximamente)"}),sv=()=>o.jsx("div",{className:"p-8",children:"Configuración (próximamente)"}),ov=()=>o.jsx("div",{className:"p-8",children:"Ayuda & Soporte (próximamente)"}),or=({children:e})=>{const{user:t,loading:r}=tr();return r?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):t?e:o.jsx(em,{to:"/login"})};function lv(){return o.jsx(ug,{children:o.jsx(cg,{children:o.jsxs("div",{className:"App",children:[o.jsx(nv,{}),o.jsx(rv,{children:o.jsxs(sg,{children:[o.jsx(kt,{path:"/login",element:o.jsx(mg,{})}),o.jsx(kt,{path:"/",element:o.jsx(or,{children:o.jsx(sr,{children:o.jsx(Ix,{})})})}),o.jsx(kt,{path:"/dashboard",element:o.jsx(or,{children:o.jsx(sr,{children:o.jsx(Jx,{})})})}),o.jsx(kt,{path:"/companies",element:o.jsx(or,{children:o.jsx(sr,{children:o.jsx(ev,{})})})}),o.jsx(kt,{path:"/inventory",element:o.jsx(or,{children:o.jsx(sr,{children:o.jsx(qx,{})})})}),o.jsx(kt,{path:"/users",element:o.jsx(or,{children:o.jsx(sr,{children:o.jsx(av,{})})})}),o.jsx(kt,{path:"/settings",element:o.jsx(or,{children:o.jsx(sr,{children:o.jsx(sv,{})})})}),o.jsx(kt,{path:"/help",element:o.jsx(or,{children:o.jsx(sr,{children:o.jsx(ov,{})})})}),o.jsx(kt,{path:"*",element:o.jsx(em,{to:"/"})})]})})]})})})}_o.createRoot(document.getElementById("root")).render(o.jsx(Ml.StrictMode,{children:o.jsx(ig,{children:o.jsx(Ax,{children:o.jsx(lv,{})})})}));
